<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>看我</title>
  
  <subtitle>思想和境界一直在倒退的小虫</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://kany.me/"/>
  <updated>2021-07-25T13:40:14.642Z</updated>
  <id>https://kany.me/</id>
  
  <author>
    <name>Kany.Wang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MacOS HomeBrew 使用国内镜像</title>
    <link href="https://kany.me/2021/07/25/mac-home-brewu-use-mirrors/"/>
    <id>https://kany.me/2021/07/25/mac-home-brewu-use-mirrors/</id>
    <published>2021-07-25T11:33:54.000Z</published>
    <updated>2021-07-25T13:40:14.642Z</updated>
    
    <content type="html"><![CDATA[<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote><p>国内安装 Homebrew 比较慢，所以在初始安装时就使用国内的镜像。</p><p>文章属于抄袭类型</p></blockquote><a id="more"></a><h2 id="软件环境："><a href="#软件环境：" class="headerlink" title="软件环境："></a>软件环境：</h2><ul><li>MacOS：10.14.6</li><li>HomeBrew：3.2.1</li></ul><h2 id="安装HomeBrew"><a href="#安装HomeBrew" class="headerlink" title="安装HomeBrew"></a>安装HomeBrew</h2><blockquote><p>根据网络上找到的数据显示，HomeBrew主要由以下几个核心库影响：</p><ul><li>brew</li><li>homebrew-core</li><li>homebrew-bottles</li><li>homebrew-cask</li></ul></blockquote><table><thead><tr><th align="center">名称</th><th align="center">说明</th></tr></thead><tbody><tr><td align="center">brew</td><td align="center">Homebrew 源代码仓库</td></tr><tr><td align="center">homebrew-core</td><td align="center">Homebrew 核心软件仓库</td></tr><tr><td align="center">homebrew-bottles</td><td align="center">Homebrew 预编译二进制软件包</td></tr><tr><td align="center">homebrew-cask</td><td align="center">提供 macOS 应用和大型二进制文件</td></tr></tbody></table><h3 id="直接安装HomeBrew"><a href="#直接安装HomeBrew" class="headerlink" title="直接安装HomeBrew"></a>直接安装HomeBrew</h3><p>安装目录为：/usr/local/data/Homebrew</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 配置brew</span><span class="token function">git</span> clone https://mirrors.ustc.edu.cn/brew.git /usr/local/data/Homebrew<span class="token comment" spellcheck="true"># 配置 homebrew-core</span><span class="token function">git</span> clone https://mirrors.ustc.edu.cn/homebrew-core.git /usr/local/data/Homebrew/Library/Taps/homebrew/homebrew-core<span class="token comment" spellcheck="true"># 配置 homebrew-cask</span><span class="token function">git</span> clone https://mirrors.ustc.edu.cn/homebrew-cask.git /usr/local/data/Homebrew/Library/Taps/homebrew/homebrew-cask<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="替换安装HomeBrew"><a href="#替换安装HomeBrew" class="headerlink" title="替换安装HomeBrew"></a>替换安装HomeBrew</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 替换 brew.git 仓库地址:</span><span class="token function">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span><span class="token function">git</span> remote set-url origin https://mirrors.ustc.edu.cn/brew.git<span class="token comment" spellcheck="true"># 替换 homebrew-core.git 仓库地址:</span><span class="token function">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>/Library/Taps/homebrew/homebrew-core"</span><span class="token function">git</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git <span class="token comment" spellcheck="true"># 替换 homebrew-cask.git 仓库地址:</span><span class="token function">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>/Library/Taps/homebrew/homebrew-cask"</span><span class="token function">git</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><blockquote><p>homebrew-bottles 这个需要配置环境变量。</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># zsh 替换 brew bintray 镜像</span>$ <span class="token keyword">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles'</span> <span class="token operator">>></span> ~/.zshrc$ <span class="token function">source</span> ~/.zshrc<span class="token comment" spellcheck="true"># bash 替换 brew bintray 镜像</span>$ <span class="token keyword">echo</span> <span class="token string">'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles'</span> <span class="token operator">>></span> ~/.bash_profile$ <span class="token function">source</span> ~/.bash_profile<span class="token comment" spellcheck="true"># 刷新源</span>$ brew update<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="验证源"><a href="#验证源" class="headerlink" title="验证源"></a>验证源</h3><blockquote><p>修改完成了之后需要验证是否确认修改完成。</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 查看 brew.git 当前源</span><span class="token function">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> remote -vorigin  https://github.com/Homebrew/brew.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>origin  https://github.com/Homebrew/brew.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 查看 homebrew-core.git 当前源</span><span class="token function">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> remote -vorigin  https://github.com/Homebrew/homebrew-core.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>origin  https://github.com/Homebrew/homebrew-core.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span><span class="token comment" spellcheck="true"># 查看 homebrew-core.git 当前源</span><span class="token function">cd</span> <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> <span class="token operator">&amp;&amp;</span> <span class="token function">git</span> remote -vorigin  https://github.com/Homebrew/homebrew-cask.git <span class="token punctuation">(</span>fetch<span class="token punctuation">)</span>origin  https://github.com/Homebrew/homebrew-cask.git <span class="token punctuation">(</span>push<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Brew源"><a href="#Brew源" class="headerlink" title="Brew源"></a>Brew源</h3><table><thead><tr><th align="center">名称</th><th align="left">地址</th></tr></thead><tbody><tr><td align="center">阿里云</td><td align="left"><a href="https://mirrors.aliyun.com/homebrew/brew.git" target="_blank" rel="noopener">https://mirrors.aliyun.com/homebrew/brew.git</a><br><a href="https://mirrors.aliyun.com/homebrew/homebrew-core.git" target="_blank" rel="noopener">https://mirrors.aliyun.com/homebrew/homebrew-core.git</a><br><a href="https://mirrors.aliyun.com/homebrew/homebrew-cask.git" target="_blank" rel="noopener">https://mirrors.aliyun.com/homebrew/homebrew-cask.git</a><br><a href="https://mirrors.aliyun.com/homebrew/homebrew-bottles" target="_blank" rel="noopener">https://mirrors.aliyun.com/homebrew/homebrew-bottles</a></td></tr><tr><td align="center">清华源</td><td align="left"><a href="https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git</a><br><a href="https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git</a><br><a href="https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git</a><br><a href="https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles</a></td></tr><tr><td align="center">中科大源</td><td align="left"><a href="https://mirrors.ustc.edu.cn/brew.git" target="_blank" rel="noopener">https://mirrors.ustc.edu.cn/brew.git</a><br><a href="https://mirrors.ustc.edu.cn/homebrew-core.git" target="_blank" rel="noopener">https://mirrors.ustc.edu.cn/homebrew-core.git</a><br><a href="https://mirrors.ustc.edu.cn/homebrew-cask.git" target="_blank" rel="noopener">https://mirrors.ustc.edu.cn/homebrew-cask.git</a><br><a href="https://mirrors.ustc.edu.cn/homebrew-bottles" target="_blank" rel="noopener">https://mirrors.ustc.edu.cn/homebrew-bottles</a></td></tr><tr><td align="center">官方源</td><td align="left"><a href="https://github.com/Homebrew/brew.git" target="_blank" rel="noopener">https://github.com/Homebrew/brew.git</a><br><a href="https://github.com/Homebrew/homebrew-core.git" target="_blank" rel="noopener">https://github.com/Homebrew/homebrew-core.git</a><br><a href="https://github.com/Homebrew/homebrew-cask.git" target="_blank" rel="noopener">https://github.com/Homebrew/homebrew-cask.git</a><br><a href="https://github.com/Homebrew/homebrew-bottles" target="_blank" rel="noopener">https://github.com/Homebrew/homebrew-bottles</a></td></tr></tbody></table><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.jianshu.com/p/397860ff2a0e" target="_blank" rel="noopener">Mac通过homebrew下载过慢问题</a></li><li><a href="https://www.jianshu.com/p/11af8b31db0d" target="_blank" rel="noopener">Mac 下 brew 切换为国内源</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;国内安装 Homebrew 比较慢，所以在初始安装时就使用国内的镜像。&lt;/p&gt;
&lt;p&gt;文章属于抄袭类型&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="MacOS" scheme="https://kany.me/tags/MacOS/"/>
    
      <category term="HomeBrew" scheme="https://kany.me/tags/HomeBrew/"/>
    
      <category term="Brew" scheme="https://kany.me/tags/Brew/"/>
    
  </entry>
  
  <entry>
    <title>MacOS LaunchPad 图标与行数</title>
    <link href="https://kany.me/2021/07/25/mac-launchpad-setting/"/>
    <id>https://kany.me/2021/07/25/mac-launchpad-setting/</id>
    <published>2021-07-25T11:33:54.000Z</published>
    <updated>2021-07-25T13:40:14.642Z</updated>
    
    <content type="html"><![CDATA[<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote><p>修改 MacOS 中的 LaunchPad 的图标行数与列数</p><p>文章属于操作</p></blockquote><a id="more"></a><h2 id="修改方法"><a href="#修改方法" class="headerlink" title="修改方法"></a>修改方法</h2><blockquote><p>在命令行中输入以下命令进行修改</p></blockquote><h3 id="修改行数"><a href="#修改行数" class="headerlink" title="修改行数"></a>修改行数</h3><pre class="line-numbers language-bash"><code class="language-bash">defaults <span class="token function">write</span> com.apple.dock springboard-rows -int X<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="修改列数"><a href="#修改列数" class="headerlink" title="修改列数"></a>修改列数</h3><pre class="line-numbers language-bash"><code class="language-bash">defaults <span class="token function">write</span> com.apple.dock springboard-columns -int X<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="重启Dock"><a href="#重启Dock" class="headerlink" title="重启Dock"></a>重启Dock</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">killall</span> Dock<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="个人配置"><a href="#个人配置" class="headerlink" title="个人配置"></a>个人配置</h3><blockquote><p>个人使用的为 6 行 10 列的图标格式</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 重置Dock的内容</span>defaults delete com.apple.dock<span class="token punctuation">;</span> <span class="token comment" spellcheck="true"># 下列是通用的 设置 6 行 10 列</span>defaults <span class="token function">write</span> com.apple.dock springboard-rows -int 6<span class="token punctuation">;</span> defaults <span class="token function">write</span> com.apple.dock springboard-columns -int 10<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="重置LaunchPad"><a href="#重置LaunchPad" class="headerlink" title="重置LaunchPad"></a>重置LaunchPad</h3><pre class="line-numbers language-bash"><code class="language-bash">defaults <span class="token function">write</span> com.apple.dock ResetLaunchPad -bool <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token function">killall</span> Dock<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://jackyu.cn/tech/modify-macos-launchpad-rows-and-columns/" target="_blank" rel="noopener">修改 macOS LaunchPad 图标行数与列数</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;修改 MacOS 中的 LaunchPad 的图标行数与列数&lt;/p&gt;
&lt;p&gt;文章属于操作&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="MacOS" scheme="https://kany.me/tags/MacOS/"/>
    
      <category term="Dock" scheme="https://kany.me/tags/Dock/"/>
    
      <category term="LaunchPad" scheme="https://kany.me/tags/LaunchPad/"/>
    
  </entry>
  
  <entry>
    <title>解决Github代码无法拉取问题</title>
    <link href="https://kany.me/2021/05/08/solve-github-unable-to-pull/"/>
    <id>https://kany.me/2021/05/08/solve-github-unable-to-pull/</id>
    <published>2021-05-08T01:41:54.000Z</published>
    <updated>2021-07-25T13:40:14.643Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>这是一篇抄袭的文章，原始链接数据在参考说明中可见。<br>由于当前网络环境特殊，经常不能正常拉取项目，在网络上搜寻一番找到该文章</p></blockquote><a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>网络：大中华区华南电信网络</li><li>Git：2.29.1.windows.1</li><li>OS：Windows 7（6.1.7601 Service Pack 1 Build 7601）</li></ul><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>网络上给出的方案有两种，一个是配置代理，另外一个是直接修改Hosts，这个简单方便点。所以直接操作。</p><h3 id="寻找GitHub的IP"><a href="#寻找GitHub的IP" class="headerlink" title="寻找GitHub的IP"></a>寻找GitHub的IP</h3><p>打开<a href="https://www.ipaddress.com/" target="_blank" rel="noopener">https://www.ipaddress.com/</a>，在其中分别输入<strong>github.com</strong>与<strong>github.global.ssl.fastly.net</strong>。</p><p>执行后的结果如下：</p><p><img src="/assets/images/github/github-0001.jpg" alt="github.com"></p><p><img src="/assets/images/github/github-0002.jpg" alt="github.global.ssl.fastly.net"></p><blockquote><p><strong>github.global.ssl.fastly.net</strong>会显示成 <strong>fastly.net</strong></p></blockquote><h3 id="配置Hosts"><a href="#配置Hosts" class="headerlink" title="配置Hosts"></a>配置Hosts</h3><p>Windows的配置文件地址在 <strong>Windows\System32\drivers\etc</strong>下，要确定是否有权限修改，并且该文件是否被设置为只读。</p><p><img src="/assets/images/github/github-0003.jpg" alt="hosts"></p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># GitHub</span>199.232.69.194    github.global.ssl.fastly.net140.82.114.4    github.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="/assets/images/github/github-0004.jpg" alt="修改后效果"></p><h3 id="刷新DNS"><a href="#刷新DNS" class="headerlink" title="刷新DNS"></a>刷新DNS</h3><blockquote><p>实际上不需要刷新也是可以的，当时为了保证完整性，坚持一下。</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash">ipconfig /flushdns<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://blog.csdn.net/qq_33407429/article/details/94129890" target="_blank" rel="noopener">GitHub 拉取代码慢或者拉去失败的 解决方案</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;这是一篇抄袭的文章，原始链接数据在参考说明中可见。&lt;br&gt;由于当前网络环境特殊，经常不能正常拉取项目，在网络上搜寻一番找到该文章&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="Git" scheme="https://kany.me/tags/Git/"/>
    
      <category term="GitHub" scheme="https://kany.me/tags/GitHub/"/>
    
      <category term="Push" scheme="https://kany.me/tags/Push/"/>
    
      <category term="Pull" scheme="https://kany.me/tags/Pull/"/>
    
  </entry>
  
  <entry>
    <title>SSL 证书 OCSP 状态检查</title>
    <link href="https://kany.me/2021/05/04/ssl-certificate-ocsp/"/>
    <id>https://kany.me/2021/05/04/ssl-certificate-ocsp/</id>
    <published>2021-05-04T01:41:54.000Z</published>
    <updated>2021-07-25T13:40:14.644Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>最近朋友在做支付的时候申请了域名的SSL证书，但是在支付平台对于SSL证书检查是一直不通过。<br>利用另外一个域名申请的证书进行检查发现可以成功的域名证书里面唯一的区别在于OCSP的状态不一样。</p></blockquote><a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><blockquote><p>一般我们国内做支付的时候是不会去检查对方网站的SSL证书的OCSP状态的，但是目前遇到的一个支付平台需要检查网站的OCSP状态。</p></blockquote><p>以下是失败的SSL证书：<br><img src="/assets/images/ssl/00001.jpg" alt="失败"></p><p>能正确回调的SSL证书:<br><img src="/assets/images/ssl/00002.jpg" alt="成功"></p><h2 id="OCSP"><a href="#OCSP" class="headerlink" title="OCSP"></a>OCSP</h2><p>OCSP(Online Certificate Status Protocol)是一个用于获取X.509数字证书撤销状态的网际协议，在RCF 6960中定义，作为证书吊销列表的替代品解决公开密钥基础建设(PKI)中使用证书吊销列表而带来的多个问题。协议数据传输过程中使用ASN.1编码，并通常创建在HTTP协议上。</p><p>OCSP(Online Certificate Status Protocol):在线证书状态协议。<br>使用OCSP就不需要去下载吊销列表了，浏览器直接去CA的OCSP服务器对证书的吊销情况做验证。但其中也会有一个问题。如果该证书确实已将被吊销了，但是因为CA的OCSP服务器因为某些原因不可达，那浏览器就不知道该如何处理了。一般也就默认放行，不进行拦截。还有一种情况是浏览器不知道该网站支持OCSP，以及是否应该给予OCSP响应。</p><h2 id="OCSP-Stapling"><a href="#OCSP-Stapling" class="headerlink" title="OCSP Stapling"></a>OCSP Stapling</h2><p>OCSP装订，是TLS证书状态查询扩展，作为在线证书状态协议的替代方法对X.509证书状态进行查询，服务器在TLS握手时发送事先缓存的OCSP响应，用户只要验证该响应的时效性而不用再向数字证书认证机构(CA)发送请求，可以加快握手速度。</p><h2 id="OCSP-Must-Staple"><a href="#OCSP-Must-Staple" class="headerlink" title="OCSP Must-Staple"></a>OCSP Must-Staple</h2><p>针对上面这些原因，就提出了OCSP Must-Staple。浏览器必须检测OCSP响应。这是一个证书中的扩展。目前能够签署出该扩展的证书的CA只有Let’s Encrypt。</p><h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>基于参考资料给出的配置，这个是需要手动生成证书并提交的，所以需要修改openssl的配置文件。对于版本不同配置也不相同。<br>如果要设置OCSP Must-Staple，需要在使用openssl生成csr的时候，修改openssl.cnf中的内容：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span> v3_req <span class="token punctuation">]</span>basicConstraints <span class="token operator">=</span> CA:FALSEkeyUsage <span class="token operator">=</span> nonRepudiation, digitalSignature, keyEnciphermentsubjectAltName <span class="token operator">=</span> @alt_names1.3.6.1.5.5.7.1.24 <span class="token operator">=</span> DER:30:03:02:01:05<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>如果是使用openssl 1.1.0或更高的版本，可以这样设置：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">[</span> v3_req <span class="token punctuation">]</span>basicConstraints <span class="token operator">=</span> CA:FALSEkeyUsage <span class="token operator">=</span> nonRepudiation, digitalSignature, keyEnciphermentsubjectAltName <span class="token operator">=</span> @alt_namestlsfeature <span class="token operator">=</span> status_request<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在生成证书的是否区域代码一定要正确，需要能正确识别。该列表来源于参考资料“<strong>iso-3166-1全球国家名称代码</strong>”</p><table><thead><tr><th>二位字母</th><th>三位 字母</th><th>数字</th><th>ISO 3166-2相应代码</th><th>国家或地区（ISO 英文用名）</th><th>中国 惯用名</th><th>台湾 惯用名</th><th>香港 惯用名</th><th>备注</th></tr></thead><tbody><tr><td>AD</td><td>AND</td><td>020</td><td>ISO 3166-2:AD</td><td>Andorra</td><td>安道尔</td><td>安道尔</td><td>安道尔</td><td></td></tr><tr><td>AE</td><td>ARE</td><td>784</td><td>ISO 3166-2:AE</td><td>United Arab Emirates</td><td>阿联酋</td><td>阿联</td><td>阿联酋</td><td></td></tr><tr><td>AF</td><td>AFG</td><td>004</td><td>ISO 3166-2:AF</td><td>Afghanistan</td><td>阿富汗</td><td>阿富汗</td><td>阿富汗</td><td></td></tr><tr><td>AG</td><td>ATG</td><td>028</td><td>ISO 3166-2:AG</td><td>Antigua &amp; Barbuda</td><td>安提瓜和巴布达</td><td>安提瓜和巴布达</td><td>安提瓜和巴布达</td><td></td></tr><tr><td>AI</td><td>AIA</td><td>660</td><td>ISO 3166-2:AI</td><td>Anguilla</td><td>安圭拉</td><td>英属安圭拉</td><td>安圭拉岛</td><td></td></tr><tr><td>AL</td><td>ALB</td><td>008</td><td>ISO 3166-2:AL</td><td>Albania</td><td>阿尔巴尼亚</td><td>阿尔巴尼亚</td><td>阿尔巴尼亚</td><td></td></tr><tr><td>AM</td><td>ARM</td><td>051</td><td>ISO 3166-2:AM</td><td>Armenia</td><td>亚美尼亚</td><td>亚美尼亚</td><td>亚美尼亚</td><td></td></tr><tr><td>AO</td><td>AGO</td><td>024</td><td>ISO 3166-2:AO</td><td>Angola</td><td>安哥拉</td><td>安哥拉</td><td>安哥拉</td><td></td></tr><tr><td>AQ</td><td>ATA</td><td>010</td><td>ISO 3166-2:AQ</td><td>Antarctica</td><td>南极洲</td><td>南极洲</td><td>南极洲</td><td></td></tr><tr><td>AR</td><td>ARG</td><td>032</td><td>ISO 3166-2:AR</td><td>Argentina</td><td>阿根廷</td><td>阿根廷</td><td>阿根廷</td><td></td></tr><tr><td>AS</td><td>ASM</td><td>016</td><td>ISO 3166-2:AS</td><td>American Samoa</td><td>美属萨摩亚</td><td>美属萨摩亚</td><td>美属萨摩亚</td><td></td></tr><tr><td>AT</td><td>AUT</td><td>040</td><td>ISO 3166-2:AT</td><td>Austria</td><td>奥地利</td><td>奥地利</td><td>奥地利</td><td></td></tr><tr><td>AU</td><td>AUS</td><td>036</td><td>ISO 3166-2:AU</td><td>Australia</td><td>澳大利亚</td><td>澳洲</td><td>澳洲</td><td></td></tr><tr><td>AW</td><td>ABW</td><td>533</td><td>ISO 3166-2:AW</td><td>Aruba</td><td>阿鲁巴</td><td>阿鲁巴</td><td>阿鲁巴</td><td></td></tr><tr><td>AX</td><td>ALA</td><td>248</td><td>ISO 3166-2:AX</td><td>?aland Island</td><td>奥兰群岛</td><td>奥兰群岛</td><td>亚兰群岛</td><td></td></tr><tr><td>AZ</td><td>AZE</td><td>031</td><td>ISO 3166-2:AZ</td><td>Azerbaijan</td><td>阿塞拜疆</td><td>阿塞拜疆</td><td>阿塞拜疆</td><td></td></tr><tr><td>BA</td><td>BIH</td><td>070</td><td>ISO 3166-2:BA</td><td>Bosnia &amp; Herzegovina</td><td>波黑</td><td>波黑</td><td>波黑</td><td></td></tr><tr><td>BB</td><td>BRB</td><td>052</td><td>ISO 3166-2:BB</td><td>Barbados</td><td>巴巴多斯</td><td>巴巴多斯</td><td>巴巴多斯</td><td></td></tr><tr><td>BD</td><td>BGD</td><td>050</td><td>ISO 3166-2:BD</td><td>Bangladesh</td><td>孟加拉</td><td>孟加拉</td><td>孟加拉</td><td></td></tr><tr><td>BE</td><td>BEL</td><td>056</td><td>ISO 3166-2:BE</td><td>Belgium</td><td>比利时</td><td>比利时</td><td>比利时</td><td></td></tr><tr><td>BF</td><td>BFA</td><td>854</td><td>ISO 3166-2:BF</td><td>Burkina</td><td>布基纳法索</td><td>布基纳法索</td><td>布基纳法索</td><td></td></tr><tr><td>BG</td><td>BGR</td><td>100</td><td>ISO 3166-2:BG</td><td>Bulgaria</td><td>保加利亚</td><td>保加利亚</td><td>保加利亚</td><td></td></tr><tr><td>BH</td><td>BHR</td><td>048</td><td>ISO 3166-2:BH</td><td>Bahrain</td><td>巴林</td><td>巴林</td><td>巴林</td><td></td></tr><tr><td>BI</td><td>BDI</td><td>108</td><td>ISO 3166-2:BI</td><td>Burundi</td><td>布隆迪</td><td>布隆迪</td><td>布隆迪</td><td></td></tr><tr><td>BJ</td><td>BEN</td><td>204</td><td>ISO 3166-2:BJ</td><td>Benin</td><td>贝宁</td><td>贝宁</td><td>贝宁</td><td></td></tr><tr><td>BL</td><td>BLM</td><td>652</td><td>ISO 3166-2:BL</td><td>Saint Barthélemy</td><td>圣巴泰勒米岛</td><td>圣巴瑟米</td><td>圣巴托洛缪岛</td><td></td></tr><tr><td>BM</td><td>BMU</td><td>060</td><td>ISO 3166-2:BM</td><td>Bermuda</td><td>百慕大</td><td>百慕大</td><td>百慕大</td><td></td></tr><tr><td>BN</td><td>BRN</td><td>096</td><td>ISO 3166-2:BN</td><td>Brunei</td><td>文莱</td><td>文莱</td><td>文莱</td><td></td></tr><tr><td>BO</td><td>BOL</td><td>068</td><td>ISO 3166-2:BO</td><td>Bolivia</td><td>玻利维亚</td><td>玻利维亚</td><td>玻利维亚</td><td></td></tr><tr><td>BQ</td><td>BES</td><td>535</td><td>ISO 3166-2:BQ</td><td>Caribbean Netherlands</td><td>荷兰加勒比区</td><td>荷兰加勒比区</td><td>荷兰加勒比区</td><td></td></tr><tr><td>BR</td><td>BRA</td><td>076</td><td>ISO 3166-2:BR</td><td>Brazil</td><td>巴西</td><td>巴西</td><td>巴西</td><td></td></tr><tr><td>BS</td><td>BHS</td><td>044</td><td>ISO 3166-2:BS</td><td>The Bahamas</td><td>巴哈马</td><td>巴哈马</td><td>巴哈马</td><td></td></tr><tr><td>BT</td><td>BTN</td><td>064</td><td>ISO 3166-2:BT</td><td>Bhutan</td><td>不丹</td><td>不丹</td><td>不丹</td><td></td></tr><tr><td>BV</td><td>BVT</td><td>074</td><td>ISO 3166-2:BV</td><td>Bouvet Island</td><td>布韦岛</td><td>布威岛</td><td>鲍威特岛</td><td></td></tr><tr><td>BW</td><td>BWA</td><td>072</td><td>ISO 3166-2:BW</td><td>Botswana</td><td>博茨瓦纳</td><td>博茨瓦纳</td><td>博茨瓦纳</td><td></td></tr><tr><td>BY</td><td>BLR</td><td>112</td><td>ISO 3166-2:BY</td><td>Belarus</td><td>白俄罗斯</td><td>白俄罗斯</td><td>白俄罗斯</td><td></td></tr><tr><td>BZ</td><td>BLZ</td><td>084</td><td>ISO 3166-2:BZ</td><td>Belize</td><td>伯利兹</td><td>伯利兹</td><td>伯利兹</td><td></td></tr><tr><td>CA</td><td>CAN</td><td>124</td><td>ISO 3166-2:CA</td><td>Canada</td><td>加拿大</td><td>加拿大</td><td>加拿大</td><td></td></tr><tr><td>CC</td><td>CCK</td><td>166</td><td>ISO 3166-2:CC</td><td>Cocos (Keeling) Islands</td><td>科科斯群岛</td><td>可可斯群岛</td><td>科科斯群岛</td><td></td></tr><tr><td>CF</td><td>CAF</td><td>140</td><td>ISO 3166-2:CF</td><td>Central African Republic</td><td>中非</td><td>中非</td><td>中非</td><td></td></tr><tr><td>CH</td><td>CHE</td><td>756</td><td>ISO 3166-2:CH</td><td>Switzerland</td><td>瑞士</td><td>瑞士</td><td>瑞士</td><td></td></tr><tr><td>CL</td><td>CHL</td><td>152</td><td>ISO 3166-2:CL</td><td>Chile</td><td>智利</td><td>智利</td><td>智利</td><td></td></tr><tr><td>CM</td><td>CMR</td><td>120</td><td>ISO 3166-2:CM</td><td>Cameroon</td><td>喀麦隆</td><td>喀麦隆</td><td>喀麦隆</td><td></td></tr><tr><td>CO</td><td>COL</td><td>170</td><td>ISO 3166-2:CO</td><td>Colombia</td><td>哥伦比亚</td><td>哥伦比亚</td><td>哥伦比亚</td><td></td></tr><tr><td>CR</td><td>CRI</td><td>188</td><td>ISO 3166-2:CR</td><td>Costa Rica</td><td>哥斯达黎加</td><td>哥斯达黎加</td><td>哥斯达黎加</td><td></td></tr><tr><td>CU</td><td>CUB</td><td>192</td><td>ISO 3166-2:CU</td><td>Cuba</td><td>古巴</td><td>古巴</td><td>古巴</td><td></td></tr><tr><td>CV</td><td>CPV</td><td>132</td><td>ISO 3166-2:CV</td><td>Cape Verde</td><td>佛得角</td><td>佛得角</td><td>佛得角</td><td></td></tr><tr><td>CX</td><td>CXR</td><td>162</td><td>ISO 3166-2:CX</td><td>Christmas Island</td><td>圣诞岛</td><td>圣诞岛</td><td>圣诞岛</td><td></td></tr><tr><td>CY</td><td>CYP</td><td>196</td><td>ISO 3166-2:CY</td><td>Cyprus</td><td>塞浦路斯</td><td>塞浦路斯</td><td>塞浦路斯</td><td></td></tr><tr><td>CZ</td><td>CZE</td><td>203</td><td>ISO 3166-2:CZ</td><td>Czech Republic</td><td>捷克</td><td>捷克</td><td>捷克</td><td></td></tr><tr><td>DE</td><td>DEU</td><td>276</td><td>ISO 3166-2:DE</td><td>Germany</td><td>德国</td><td>德国</td><td>德国</td><td></td></tr><tr><td>DJ</td><td>DJI</td><td>262</td><td>ISO 3166-2:DJ</td><td>Djibouti</td><td>吉布提</td><td>吉布提</td><td>吉布提</td><td></td></tr><tr><td>DK</td><td>DNK</td><td>208</td><td>ISO 3166-2:DK</td><td>Denmark</td><td>丹麦</td><td>丹麦</td><td>丹麦</td><td></td></tr><tr><td>DM</td><td>DMA</td><td>212</td><td>ISO 3166-2:DM</td><td>Dominica</td><td>多米尼克</td><td>多米尼克</td><td>多米尼克</td><td></td></tr><tr><td>DO</td><td>DOM</td><td>214</td><td>ISO 3166-2:DO</td><td>Dominican Republic</td><td>多米尼加</td><td>多米尼加</td><td>多米尼加</td><td></td></tr><tr><td>DZ</td><td>DZA</td><td>012</td><td>ISO 3166-2:DZ</td><td>Algeria</td><td>阿尔及利亚</td><td>阿尔及利亚</td><td>阿尔及利亚</td><td></td></tr><tr><td>EC</td><td>ECU</td><td>218</td><td>ISO 3166-2:EC</td><td>Ecuador</td><td>厄瓜多尔</td><td>厄瓜多尔</td><td>厄瓜多尔</td><td></td></tr><tr><td>EE</td><td>EST</td><td>233</td><td>ISO 3166-2:EE</td><td>Estonia</td><td>爱沙尼亚</td><td>爱沙尼亚</td><td>爱沙尼亚</td><td></td></tr><tr><td>EG</td><td>EGY</td><td>818</td><td>ISO 3166-2:EG</td><td>Egypt</td><td>埃及</td><td>埃及</td><td>埃及</td><td></td></tr><tr><td>EH</td><td>ESH</td><td>732</td><td>ISO 3166-2:EH</td><td>Western Sahara</td><td>西撒哈拉</td><td>西撒哈拉</td><td>西撒哈拉</td><td></td></tr><tr><td>ER</td><td>ERI</td><td>232</td><td>ISO 3166-2:ER</td><td>Eritrea</td><td>厄立特里亚</td><td>厄立垂亚</td><td>厄立特里亚</td><td></td></tr><tr><td>ES</td><td>ESP</td><td>724</td><td>ISO 3166-2:ES</td><td>Spain</td><td>西班牙</td><td>西班牙</td><td>西班牙</td><td></td></tr><tr><td>FI</td><td>FIN</td><td>246</td><td>ISO 3166-2:FI</td><td>Finland</td><td>芬兰</td><td>芬兰</td><td>芬兰</td><td></td></tr><tr><td>FJ</td><td>FJI</td><td>242</td><td>ISO 3166-2:FJ</td><td>Fiji</td><td>斐济群岛</td><td>斐济</td><td>斐济</td><td></td></tr><tr><td>FK</td><td>FLK</td><td>238</td><td>ISO 3166-2:FK</td><td>Falkland Islands</td><td>马尔维纳斯群岛（ 福克兰）</td><td>福克兰群岛</td><td>福克兰群岛（ 马尔维纳斯）</td><td></td></tr><tr><td>FM</td><td>FSM</td><td>583</td><td>ISO 3166-2:FM</td><td>Federated States of Micronesia</td><td>密克罗尼西亚联邦</td><td>密克罗尼西亚联邦</td><td>密克罗尼西亚</td><td></td></tr><tr><td>FO</td><td>FRO</td><td>234</td><td>ISO 3166-2:FO</td><td>Faroe Islands</td><td>法罗群岛</td><td>法罗群岛</td><td>法罗群岛</td><td></td></tr><tr><td>FR</td><td>FRA</td><td>250</td><td>ISO 3166-2:FR</td><td>France</td><td>法国</td><td>法国</td><td>法国</td><td></td></tr><tr><td>GA</td><td>GAB</td><td>266</td><td>ISO 3166-2:GA</td><td>Gabon</td><td>加蓬</td><td>加蓬</td><td>加蓬</td><td></td></tr><tr><td>GD</td><td>GRD</td><td>308</td><td>ISO 3166-2:GD</td><td>Grenada</td><td>格林纳达</td><td>格林纳达</td><td>格林纳达</td><td></td></tr><tr><td>GE</td><td>GEO</td><td>268</td><td>ISO 3166-2:GE</td><td>Georgia</td><td>格鲁吉亚</td><td>乔治亚</td><td>格鲁吉亚</td><td></td></tr><tr><td>GF</td><td>GUF</td><td>254</td><td>ISO 3166-2:GF</td><td>French Guiana</td><td>法属圭亚那</td><td>法属圭亚那</td><td>法属圭亚那</td><td></td></tr><tr><td>GH</td><td>GHA</td><td>288</td><td>ISO 3166-2:GH</td><td>Ghana</td><td>加纳</td><td>加纳</td><td>加纳</td><td></td></tr><tr><td>GI</td><td>GIB</td><td>292</td><td>ISO 3166-2:GI</td><td>Gibraltar</td><td>直布罗陀</td><td>直布罗陀</td><td>直布罗陀</td><td></td></tr><tr><td>GL</td><td>GRL</td><td>304</td><td>ISO 3166-2:GL</td><td>Greenland</td><td>格陵兰</td><td>格陵兰</td><td>格陵兰</td><td></td></tr><tr><td>GN</td><td>GIN</td><td>324</td><td>ISO 3166-2:GN</td><td>Guinea</td><td>几内亚</td><td>几内亚</td><td>几内亚</td><td></td></tr><tr><td>GP</td><td>GLP</td><td>312</td><td>ISO 3166-2:GP</td><td>Guadeloupe</td><td>瓜德罗普</td><td>瓜德鲁普岛</td><td>瓜德鲁普岛</td><td></td></tr><tr><td>GQ</td><td>GNQ</td><td>226</td><td>ISO 3166-2:GQ</td><td>Equatorial Guinea</td><td>赤道几内亚</td><td>赤道几内亚</td><td>赤道几内亚</td><td></td></tr><tr><td>GR</td><td>GRC</td><td>300</td><td>ISO 3166-2:GR</td><td>Greece</td><td>希腊</td><td>希腊</td><td>希腊</td><td></td></tr><tr><td>GS</td><td>SGS</td><td>239</td><td>ISO 3166-2:GS</td><td>South Georgia and the South Sandwich Islands</td><td>南乔治亚岛和南桑威奇群岛</td><td>南乔治亚与南三明治群岛</td><td>南乔治亚岛与南桑威奇群岛</td><td></td></tr><tr><td>GT</td><td>GTM</td><td>320</td><td>ISO 3166-2:GT</td><td>Guatemala</td><td>危地马拉</td><td>危地马拉</td><td>危地马拉</td><td></td></tr><tr><td>GU</td><td>GUM</td><td>316</td><td>ISO 3166-2:GU</td><td>Guam</td><td>关岛</td><td>关岛</td><td>关岛</td><td></td></tr><tr><td>GW</td><td>GNB</td><td>624</td><td>ISO 3166-2:GW</td><td>Guinea-Bissau</td><td>几内亚比绍</td><td>几内亚比绍</td><td>几内亚比绍</td><td></td></tr><tr><td>GY</td><td>GUY</td><td>328</td><td>ISO 3166-2:GY</td><td>Guyana</td><td>圭亚那</td><td>圭亚那</td><td>圭亚那</td><td></td></tr><tr><td>HK</td><td>HKG</td><td>344</td><td>ISO 3166-2:HK</td><td>Hong Kong</td><td>香港</td><td>香港</td><td>香港</td><td></td></tr><tr><td>HM</td><td>HMD</td><td>334</td><td>ISO 3166-2:HM</td><td>Heard Island and McDonald Islands</td><td>赫德岛和麦克唐纳群岛</td><td>赫德及麦当劳群岛</td><td>赫德岛和麦克唐纳群岛</td><td></td></tr><tr><td>HN</td><td>HND</td><td>340</td><td>ISO 3166-2:HN</td><td>Honduras</td><td>洪都拉斯</td><td>洪都拉斯</td><td>洪都拉斯</td><td></td></tr><tr><td>HR</td><td>HRV</td><td>191</td><td>ISO 3166-2:HR</td><td>Croatia</td><td>克罗地亚</td><td>克罗地亚</td><td>克罗地亚</td><td></td></tr><tr><td>HT</td><td>HTI</td><td>332</td><td>ISO 3166-2:HT</td><td>Haiti</td><td>海地</td><td>海地</td><td>海地</td><td></td></tr><tr><td>HU</td><td>HUN</td><td>348</td><td>ISO 3166-2:HU</td><td>Hungary</td><td>匈牙利</td><td>匈牙利</td><td>匈牙利</td><td></td></tr><tr><td>ID</td><td>IDN</td><td>360</td><td>ISO 3166-2:ID</td><td>Indonesia</td><td>印尼</td><td>印尼</td><td>印尼</td><td></td></tr><tr><td>IE</td><td>IRL</td><td>372</td><td>ISO 3166-2:IE</td><td>Ireland</td><td>爱尔兰</td><td>爱尔兰</td><td>爱尔兰</td><td></td></tr><tr><td>IL</td><td>ISR</td><td>376</td><td>ISO 3166-2:IL</td><td>Israel</td><td>以色列</td><td>以色列</td><td>以色列</td><td></td></tr><tr><td>IM</td><td>IMN</td><td>833</td><td>ISO 3166-2:IM</td><td>Isle of Man</td><td>马恩岛</td><td>马恩岛</td><td>马恩岛</td><td></td></tr><tr><td>IN</td><td>IND</td><td>356</td><td>ISO 3166-2:IN</td><td>India</td><td>印度</td><td>印度</td><td>印度</td><td></td></tr><tr><td>IO</td><td>IOT</td><td>086</td><td>ISO 3166-2:IO</td><td>British Indian Ocean Territory</td><td>英属印度洋领地</td><td>英属印度洋地区</td><td>英属印度洋地区</td><td></td></tr><tr><td>IQ</td><td>IRQ</td><td>368</td><td>ISO 3166-2:IQ</td><td>Iraq</td><td>伊拉克</td><td>伊拉克</td><td>伊拉克</td><td></td></tr><tr><td>IR</td><td>IRN</td><td>364</td><td>ISO 3166-2:IR</td><td>Iran</td><td>伊朗</td><td>伊朗</td><td>伊朗</td><td></td></tr><tr><td>IS</td><td>ISL</td><td>352</td><td>ISO 3166-2:IS</td><td>Iceland</td><td>冰岛</td><td>冰岛</td><td>冰岛</td><td></td></tr><tr><td>IT</td><td>ITA</td><td>380</td><td>ISO 3166-2:IT</td><td>Italy</td><td>意大利</td><td>意大利</td><td>意大利</td><td></td></tr><tr><td>JE</td><td>JEY</td><td>832</td><td>ISO 3166-2:JE</td><td>Jersey</td><td>泽西岛</td><td>泽西岛</td><td>泽西</td><td></td></tr><tr><td>JM</td><td>JAM</td><td>388</td><td>ISO 3166-2:JM</td><td>Jamaica</td><td>牙买加</td><td>牙买加</td><td>牙买加</td><td></td></tr><tr><td>JO</td><td>JOR</td><td>400</td><td>ISO 3166-2:JO</td><td>Jordan</td><td>约旦</td><td>约旦</td><td>约旦</td><td></td></tr><tr><td>JP</td><td>JPN</td><td>392</td><td>ISO 3166-2:JP</td><td>Japan</td><td>日本</td><td>日本</td><td>日本</td><td></td></tr><tr><td>KH</td><td>KHM</td><td>116</td><td>ISO 3166-2:KH</td><td>Cambodia</td><td>柬埔寨</td><td>柬埔寨</td><td>柬埔寨</td><td></td></tr><tr><td>KI</td><td>KIR</td><td>296</td><td>ISO 3166-2:KI</td><td>Kiribati</td><td>基里巴斯</td><td>基里巴斯</td><td>基里巴斯</td><td></td></tr><tr><td>KM</td><td>COM</td><td>174</td><td>ISO 3166-2:KM</td><td>The Comoros</td><td>科摩罗</td><td>科摩罗</td><td>科摩罗</td><td></td></tr><tr><td>KW</td><td>KWT</td><td>414</td><td>ISO 3166-2:KW</td><td>Kuwait</td><td>科威特</td><td>科威特</td><td>科威特</td><td></td></tr><tr><td>KY</td><td>CYM</td><td>136</td><td>ISO 3166-2:KY</td><td>Cayman Islands</td><td>开曼群岛</td><td>开曼群岛</td><td>开曼群岛</td><td></td></tr><tr><td>LB</td><td>LBN</td><td>422</td><td>ISO 3166-2:LB</td><td>Lebanon</td><td>黎巴嫩</td><td>黎巴嫩</td><td>黎巴嫩</td><td></td></tr><tr><td>LI</td><td>LIE</td><td>438</td><td>ISO 3166-2:LI</td><td>Liechtenstein</td><td>列支敦士登</td><td>列支敦士登</td><td>列支敦士登</td><td></td></tr><tr><td>LK</td><td>LKA</td><td>144</td><td>ISO 3166-2:LK</td><td>Sri Lanka</td><td>斯里兰卡</td><td>斯里兰卡</td><td>斯里兰卡</td><td></td></tr><tr><td>LR</td><td>LBR</td><td>430</td><td>ISO 3166-2:LR</td><td>Liberia</td><td>利比里亚</td><td>利比里亚</td><td>利比里亚</td><td></td></tr><tr><td>LS</td><td>LSO</td><td>426</td><td>ISO 3166-2:LS</td><td>Lesotho</td><td>莱索托</td><td>莱索托</td><td>莱索托</td><td></td></tr><tr><td>LT</td><td>LTU</td><td>440</td><td>ISO 3166-2:LT</td><td>Lithuania</td><td>立陶宛</td><td>立陶宛</td><td>立陶宛</td><td></td></tr><tr><td>LU</td><td>LUX</td><td>442</td><td>ISO 3166-2:LU</td><td>Luxembourg</td><td>卢森堡</td><td>卢森堡</td><td>卢森堡</td><td></td></tr><tr><td>LV</td><td>LVA</td><td>428</td><td>ISO 3166-2:LV</td><td>Latvia</td><td>拉脱维亚</td><td>拉脱维亚</td><td>拉脱维亚</td><td></td></tr><tr><td>LY</td><td>LBY</td><td>434</td><td>ISO 3166-2:LY</td><td>Libya</td><td>利比亚</td><td>利比亚</td><td>利比亚</td><td></td></tr><tr><td>MA</td><td>MAR</td><td>504</td><td>ISO 3166-2:MA</td><td>Morocco</td><td>摩洛哥</td><td>摩洛哥</td><td>摩洛哥</td><td></td></tr><tr><td>MC</td><td>MCO</td><td>492</td><td>ISO 3166-2:MC</td><td>Monaco</td><td>摩纳哥</td><td>摩纳哥</td><td>摩纳哥</td><td></td></tr><tr><td>MD</td><td>MDA</td><td>498</td><td>ISO 3166-2:MD</td><td>Moldova</td><td>摩尔多瓦</td><td>摩尔多瓦</td><td>摩尔多瓦</td><td></td></tr><tr><td>ME</td><td>MNE</td><td>499</td><td>ISO 3166-2:ME</td><td>Montenegro</td><td>黑山</td><td>黑山</td><td>黑山</td><td></td></tr><tr><td>MF</td><td>MAF</td><td>663</td><td>ISO 3166-2:MF</td><td>Saint Martin (France)</td><td>法属圣马丁</td><td>法属圣马丁</td><td>法属圣马丁</td><td></td></tr><tr><td>MG</td><td>MDG</td><td>450</td><td>ISO 3166-2:MG</td><td>Madagascar</td><td>马达加斯加</td><td>马达加斯加</td><td>马达加斯加</td><td></td></tr><tr><td>MH</td><td>MHL</td><td>584</td><td>ISO 3166-2:MH</td><td>Marshall islands</td><td>马绍尔群岛</td><td>马绍尔群岛</td><td>马绍尔群岛</td><td></td></tr><tr><td>MK</td><td>MKD</td><td>807</td><td>ISO 3166-2:MK</td><td>Republic of Macedonia (FYROM)</td><td>马其顿</td><td>马其顿</td><td>马其顿</td><td></td></tr><tr><td>ML</td><td>MLI</td><td>466</td><td>ISO 3166-2:ML</td><td>Mali</td><td>马里</td><td>马利</td><td>马里</td><td></td></tr><tr><td>MM</td><td>MMR</td><td>104</td><td>ISO 3166-2:MM</td><td>Myanmar (Burma)</td><td>缅甸</td><td>缅甸</td><td>缅甸</td><td></td></tr><tr><td>MO</td><td>MAC</td><td>446</td><td>ISO 3166-2:MO</td><td>Macao</td><td>澳门</td><td>澳门</td><td>澳门</td><td></td></tr><tr><td>MQ</td><td>MTQ</td><td>474</td><td>ISO 3166-2:MQ</td><td>Martinique</td><td>马提尼克</td><td>法属马丁尼克</td><td>马提尼克</td><td></td></tr><tr><td>MR</td><td>MRT</td><td>478</td><td>ISO 3166-2:MR</td><td>Mauritania</td><td>毛里塔尼亚</td><td>毛里塔尼亚</td><td>毛里塔尼亚</td><td></td></tr><tr><td>MS</td><td>MSR</td><td>500</td><td>ISO 3166-2:MS</td><td>Montserrat</td><td>蒙塞拉特岛</td><td>蒙塞拉特岛</td><td>蒙塞拉特岛</td><td></td></tr><tr><td>MT</td><td>MLT</td><td>470</td><td>ISO 3166-2:MT</td><td>Malta</td><td>马耳他</td><td>马耳他</td><td>马耳他</td><td></td></tr><tr><td>MV</td><td>MDV</td><td>462</td><td>ISO 3166-2:MV</td><td>Maldives</td><td>马尔代夫</td><td>马尔代夫</td><td>马尔代夫</td><td></td></tr><tr><td>MW</td><td>MWI</td><td>454</td><td>ISO 3166-2:MW</td><td>Malawi</td><td>马拉维</td><td>马拉维</td><td>马拉维</td><td></td></tr><tr><td>MX</td><td>MEX</td><td>484</td><td>ISO 3166-2:MX</td><td>Mexico</td><td>墨西哥</td><td>墨西哥</td><td>墨西哥</td><td></td></tr><tr><td>MY</td><td>MYS</td><td>458</td><td>ISO 3166-2:MY</td><td>Malaysia</td><td>马来西亚</td><td>马来西亚</td><td>马来西亚</td><td></td></tr><tr><td>NA</td><td>NAM</td><td>516</td><td>ISO 3166-2:NA</td><td>Namibia</td><td>纳米比亚</td><td>纳米比亚</td><td>纳米比亚</td><td></td></tr><tr><td>NE</td><td>NER</td><td>562</td><td>ISO 3166-2:NE</td><td>Niger</td><td>尼日尔</td><td>尼日</td><td>尼日尔</td><td></td></tr><tr><td>NF</td><td>NFK</td><td>574</td><td>ISO 3166-2:NF</td><td>Norfolk Island</td><td>诺福克岛</td><td>诺福克岛</td><td>诺福克岛</td><td></td></tr><tr><td>NG</td><td>NGA</td><td>566</td><td>ISO 3166-2:NG</td><td>Nigeria</td><td>尼日利亚</td><td>尼日利亚</td><td>尼日利亚</td><td></td></tr><tr><td>NI</td><td>NIC</td><td>558</td><td>ISO 3166-2:NI</td><td>Nicaragua</td><td>尼加拉瓜</td><td>尼加拉瓜</td><td>尼加拉瓜</td><td></td></tr><tr><td>NL</td><td>NLD</td><td>528</td><td>ISO 3166-2:NL</td><td>Netherlands</td><td>荷兰</td><td>荷兰</td><td>荷兰</td><td></td></tr><tr><td>NO</td><td>NOR</td><td>578</td><td>ISO 3166-2:NO</td><td>Norway</td><td>挪威</td><td>挪威</td><td>挪威</td><td></td></tr><tr><td>NP</td><td>NPL</td><td>524</td><td>ISO 3166-2:NP</td><td>Nepal</td><td>尼泊尔</td><td>尼泊尔</td><td>尼泊尔</td><td></td></tr><tr><td>NR</td><td>NRU</td><td>520</td><td>ISO 3166-2:NR</td><td>Nauru</td><td>瑙鲁</td><td>瑙鲁</td><td>瑙鲁</td><td></td></tr><tr><td>OM</td><td>OMN</td><td>512</td><td>ISO 3166-2:OM</td><td>Oman</td><td>阿曼</td><td>阿曼</td><td>阿曼</td><td></td></tr><tr><td>PA</td><td>PAN</td><td>591</td><td>ISO 3166-2:PA</td><td>Panama</td><td>巴拿马</td><td>巴拿马</td><td>巴拿马</td><td></td></tr><tr><td>PE</td><td>PER</td><td>604</td><td>ISO 3166-2:PE</td><td>Peru</td><td>秘鲁</td><td>秘鲁</td><td>秘鲁</td><td></td></tr><tr><td>PF</td><td>PYF</td><td>258</td><td>ISO 3166-2:PF</td><td>French polynesia</td><td>法属波利尼西亚</td><td>法属波利尼西亚</td><td>法属波利尼西亚</td><td></td></tr><tr><td>PG</td><td>PNG</td><td>598</td><td>ISO 3166-2:PG</td><td>Papua New Guinea</td><td>巴布亚新几内亚</td><td>巴布亚新几内亚</td><td>巴布亚新几内亚</td><td></td></tr><tr><td>PH</td><td>PHL</td><td>608</td><td>ISO 3166-2:PH</td><td>The Philippines</td><td>菲律宾</td><td>菲律宾</td><td>菲律宾</td><td></td></tr><tr><td>PK</td><td>PAK</td><td>586</td><td>ISO 3166-2:PK</td><td>Pakistan</td><td>巴基斯坦</td><td>巴基斯坦</td><td>巴基斯坦</td><td></td></tr><tr><td>PL</td><td>POL</td><td>616</td><td>ISO 3166-2:PL</td><td>Poland</td><td>波兰</td><td>波兰</td><td>波兰</td><td></td></tr><tr><td>PN</td><td>PCN</td><td>612</td><td>ISO 3166-2:PN</td><td>Pitcairn Islands</td><td>皮特凯恩群岛</td><td>皮特康岛</td><td>皮特凯恩群岛</td><td></td></tr><tr><td>PR</td><td>PRI</td><td>630</td><td>ISO 3166-2:PR</td><td>Puerto Rico</td><td>波多黎各</td><td>波多黎各</td><td>波多黎各</td><td></td></tr><tr><td>PS</td><td>PSE</td><td>275</td><td>ISO 3166-2:PS</td><td>Palestinian territories</td><td>巴勒斯坦</td><td>巴勒斯坦</td><td>巴勒斯坦</td><td></td></tr><tr><td>PW</td><td>PLW</td><td>585</td><td>ISO 3166-2:PW</td><td>Palau</td><td>帕劳</td><td>帕劳</td><td>帕劳 帕劳</td><td></td></tr><tr><td>PY</td><td>PRY</td><td>600</td><td>ISO 3166-2:PY</td><td>Paraguay</td><td>巴拉圭</td><td>巴拉圭</td><td>巴拉圭</td><td></td></tr><tr><td>QA</td><td>QAT</td><td>634</td><td>ISO 3166-2:QA</td><td>Qatar</td><td>卡塔尔</td><td>卡达</td><td>卡塔尔</td><td></td></tr><tr><td>RE</td><td>REU</td><td>638</td><td>ISO 3166-2:RE</td><td>Réunion</td><td>留尼汪</td><td>留尼汪</td><td>留尼汪</td><td></td></tr><tr><td>RO</td><td>ROU</td><td>642</td><td>ISO 3166-2:RO</td><td>Romania</td><td>罗马尼亚</td><td>罗马尼亚</td><td>罗马尼亚</td><td></td></tr><tr><td>RS</td><td>SRB</td><td>688</td><td>ISO 3166-2:RS</td><td>Serbia</td><td>塞尔维亚</td><td>塞尔维亚</td><td>塞尔维亚</td><td></td></tr><tr><td>RU</td><td>RUS</td><td>643</td><td>ISO 3166-2:RU</td><td>Russian Federation</td><td>俄罗斯</td><td>俄罗斯</td><td>俄罗斯</td><td></td></tr><tr><td>RW</td><td>RWA</td><td>646</td><td>ISO 3166-2:RW</td><td>Rwanda</td><td>卢旺达</td><td>卢旺达</td><td>卢旺达</td><td></td></tr><tr><td>SB</td><td>SLB</td><td>090</td><td>ISO 3166-2:SB</td><td>Solomon Islands</td><td>所罗门群岛</td><td>所罗门群岛</td><td>所罗门群岛</td><td></td></tr><tr><td>SC</td><td>SYC</td><td>690</td><td>ISO 3166-2:SC</td><td>Seychelles</td><td>塞舌尔</td><td>塞舌尔</td><td>塞舌尔</td><td></td></tr><tr><td>SD</td><td>SDN</td><td>729</td><td>ISO 3166-2:SD</td><td>Sudan</td><td>苏丹</td><td>苏丹</td><td>苏丹</td><td></td></tr><tr><td>SE</td><td>SWE</td><td>752</td><td>ISO 3166-2:SE</td><td>Sweden</td><td>瑞典</td><td>瑞典</td><td>瑞典</td><td></td></tr><tr><td>SG</td><td>SGP</td><td>702</td><td>ISO 3166-2:SG</td><td>Singapore</td><td>新加坡</td><td>新加坡 星加坡</td><td>新加坡 星加坡</td><td></td></tr><tr><td>SI</td><td>SVN</td><td>705</td><td>ISO 3166-2:SI</td><td>Slovenia</td><td>斯洛文尼亚</td><td>斯洛文尼亚</td><td>斯洛文尼亚</td><td></td></tr><tr><td>SJ</td><td>SJM</td><td>744</td><td>ISO 3166-2:SJ</td><td>Template:Country data SJM Svalbard</td><td>斯瓦尔巴群岛和 扬马延岛</td><td>斯瓦巴及 尖棉岛</td><td>斯瓦尔巴特群岛</td><td></td></tr><tr><td>SK</td><td>SVK</td><td>703</td><td>ISO 3166-2:SK</td><td>Slovakia</td><td>斯洛伐克</td><td>斯洛伐克</td><td>斯洛伐克</td><td></td></tr><tr><td>SL</td><td>SLE</td><td>694</td><td>ISO 3166-2:SL</td><td>Sierra Leone</td><td>塞拉利昂</td><td>狮子山</td><td>塞拉利昂</td><td></td></tr><tr><td>SM</td><td>SMR</td><td>674</td><td>ISO 3166-2:SM</td><td>San Marino</td><td>圣马力诺</td><td>圣马力诺</td><td>圣马力诺</td><td></td></tr><tr><td>SN</td><td>SEN</td><td>686</td><td>ISO 3166-2:SN</td><td>Senegal</td><td>塞内加尔</td><td>塞内加尔</td><td>塞内加尔</td><td></td></tr><tr><td>SO</td><td>SOM</td><td>706</td><td>ISO 3166-2:SO</td><td>Somalia</td><td>索马里</td><td>索马里</td><td>索马里</td><td></td></tr><tr><td>SR</td><td>SUR</td><td>740</td><td>ISO 3166-2:SR</td><td>Suriname</td><td>苏里南</td><td>苏里南</td><td>苏里南</td><td></td></tr><tr><td>SS</td><td>SSD</td><td>728</td><td>ISO 3166-2:SS</td><td>South Sudan</td><td>南苏丹</td><td>南苏丹</td><td>南苏丹</td><td></td></tr><tr><td>ST</td><td>STP</td><td>678</td><td>ISO 3166-2:ST</td><td>Sao Tome &amp; Principe</td><td>圣多美和普林西比</td><td>圣多美普林西比</td><td>圣多美及普林西比</td><td></td></tr><tr><td>SV</td><td>SLV</td><td>222</td><td>ISO 3166-2:SV</td><td>El Salvador</td><td>萨尔瓦多</td><td>萨尔瓦多</td><td>萨尔瓦多</td><td></td></tr><tr><td>SY</td><td>SYR</td><td>760</td><td>ISO 3166-2:SY</td><td>Syria</td><td>叙利亚</td><td>叙利亚</td><td>叙利亚</td><td></td></tr><tr><td>SZ</td><td>SWZ</td><td>748</td><td>ISO 3166-2:SZ</td><td>Swaziland</td><td>斯威士兰</td><td>斯威士兰</td><td>斯威士兰</td><td></td></tr><tr><td>TC</td><td>TCA</td><td>796</td><td>ISO 3166-2:TC</td><td>Turks &amp; Caicos Islands</td><td>特克斯和凯科斯群岛</td><td>土克斯及开科斯群岛</td><td>特克斯和凯科斯群岛</td><td></td></tr><tr><td>TD</td><td>TCD</td><td>148</td><td>ISO 3166-2:TD</td><td>Chad</td><td>乍得</td><td>查德</td><td>乍得</td><td></td></tr><tr><td>TG</td><td>TGO</td><td>768</td><td>ISO 3166-2:TG</td><td>Togo</td><td>多哥</td><td>多哥</td><td>多哥</td><td></td></tr><tr><td>TH</td><td>THA</td><td>764</td><td>ISO 3166-2:TH</td><td>Thailand</td><td>泰国</td><td>泰国</td><td>泰国</td><td></td></tr><tr><td>TK</td><td>TKL</td><td>772</td><td>ISO 3166-2:TK</td><td>Tokelau</td><td>托克劳</td><td>托克劳群岛</td><td>托克劳群岛</td><td></td></tr><tr><td>TL</td><td>TLS</td><td>626</td><td>ISO 3166-2:TP</td><td>Timor-Leste (East Timor)</td><td>东帝汶</td><td>东帝汶</td><td>东帝汶</td><td></td></tr><tr><td>TN</td><td>TUN</td><td>788</td><td>ISO 3166-2:TN</td><td>Tunisia</td><td>突尼斯</td><td>突尼斯</td><td>突尼斯</td><td></td></tr><tr><td>TO</td><td>TON</td><td>776</td><td>ISO 3166-2:TO</td><td>Tonga</td><td>汤加</td><td>东加</td><td>汤加</td><td></td></tr><tr><td>TR</td><td>TUR</td><td>792</td><td>ISO 3166-2:TR</td><td>Turkey</td><td>土耳其</td><td>土耳其</td><td>土耳其</td><td></td></tr><tr><td>TV</td><td>TUV</td><td>798</td><td>ISO 3166-2:TV</td><td>Tuvalu</td><td>图瓦卢</td><td>吐瓦鲁</td><td>图瓦卢</td><td></td></tr><tr><td>TZ</td><td>TZA</td><td>834</td><td>ISO 3166-2:TZ</td><td>Tanzania</td><td>坦桑尼亚</td><td>坦桑尼亚</td><td>坦桑尼亚</td><td></td></tr><tr><td>UA</td><td>UKR</td><td>804</td><td>ISO 3166-2:UA</td><td>Ukraine</td><td>乌克兰</td><td>乌克兰</td><td>乌克兰</td><td></td></tr><tr><td>UG</td><td>UGA</td><td>800</td><td>ISO 3166-2:UG</td><td>Uganda</td><td>乌干达</td><td>乌干达</td><td>乌干达</td><td></td></tr><tr><td>US</td><td>USA</td><td>840</td><td>ISO 3166-2:US</td><td>United States of America (USA)</td><td>美国</td><td>美国</td><td>美国</td><td></td></tr><tr><td>UY</td><td>URY</td><td>858</td><td>ISO 3166-2:UY</td><td>Uruguay</td><td>乌拉圭</td><td>乌拉圭</td><td>乌拉圭</td><td></td></tr><tr><td>VA</td><td>VAT</td><td>336</td><td>ISO 3166-2:VA</td><td>Vatican City (The Holy See)</td><td>梵蒂冈</td><td>梵蒂冈</td><td>梵蒂冈</td><td></td></tr><tr><td>VE</td><td>VEN</td><td>862</td><td>ISO 3166-2:VE</td><td>Venezuela</td><td>委内瑞拉</td><td>委内瑞拉</td><td>委内瑞拉</td><td></td></tr><tr><td>VG</td><td>VGB</td><td>092</td><td>ISO 3166-2:VG</td><td>British Virgin Islands</td><td>英属维尔京群岛</td><td>英属维尔京群岛</td><td>英属处女群岛</td><td></td></tr><tr><td>VI</td><td>VIR</td><td>850</td><td>ISO 3166-2:VI</td><td>United States Virgin Islands</td><td>美属维尔京群岛</td><td>美属维尔京群岛</td><td>美属处女群岛</td><td></td></tr><tr><td>VN</td><td>VNM</td><td>704</td><td>ISO 3166-2:VN</td><td>Vietnam</td><td>越南</td><td>越南</td><td>越南</td><td></td></tr><tr><td>WF</td><td>WLF</td><td>876</td><td>ISO 3166-2:WF</td><td>Wallis and Futuna</td><td>瓦利斯和富图纳</td><td>沃里斯与伏塔那岛</td><td>瓦利斯群岛和富图纳群岛</td><td></td></tr><tr><td>WS</td><td>WSM</td><td>882</td><td>ISO 3166-2:WS</td><td>Samoa</td><td>萨摩亚</td><td>萨摩亚</td><td>萨摩亚</td><td></td></tr><tr><td>YE</td><td>YEM</td><td>887</td><td>ISO 3166-2:YE</td><td>Yemen</td><td>也门</td><td>也门</td><td>也门</td><td></td></tr><tr><td>YT</td><td>MYT</td><td>175</td><td>ISO 3166-2:YT</td><td>Mayotte</td><td>马约特</td><td>美亚特</td><td>马约特</td><td></td></tr><tr><td>ZA</td><td>ZAF</td><td>710</td><td>ISO 3166-2:ZA</td><td>South Africa</td><td>南非</td><td>南非</td><td>南非</td><td></td></tr><tr><td>ZM</td><td>ZMB</td><td>894</td><td>ISO 3166-2:ZM</td><td>Zambia</td><td>赞比亚</td><td>赞比亚</td><td>赞比亚</td><td></td></tr><tr><td>ZW</td><td>ZWE</td><td>716</td><td>ISO 3166-2:ZW</td><td>Zimbabwe</td><td>津巴布韦</td><td>津巴布韦</td><td>津巴布韦</td><td></td></tr><tr><td>CN</td><td>CHN</td><td>156</td><td>ISO 3166-2:CN</td><td>China</td><td>中国 内地</td><td>大陆 中国</td><td>大陆 内地</td><td>“ GB/T 2659-2000”的“<strong>CN</strong>”适用于整个 中华人民共和国辖区（包括 中国大陆、 香港、 澳门）。而“ISO 3166-1”和“ CNS 12842”的“<strong>CN</strong>”则仅适用于中国大陆，不含 港澳地区。</td></tr><tr><td>CG</td><td>COG</td><td>178</td><td>ISO 3166-2:CG</td><td>Republic of the Congo</td><td>刚果（布）</td><td>刚果</td><td>刚果</td><td>中国大陆主要使用“刚果（布）”一词，意指“首都为 布拉柴维尔的 刚果（共和国）”，而“刚果”一词亦普遍为民间所用。</td></tr><tr><td>CD</td><td>COD</td><td>180</td><td>ISO 3166-2:CD</td><td>Democratic Republic of the Congo</td><td>刚果（金）</td><td>民主刚果</td><td>民主刚果</td><td>中国大陆主要使用“刚果（金）”一词，意指“首都为 金沙萨的 刚果（共和国）”，而“民主刚果”一词亦普遍为民间所用。</td></tr><tr><td>MZ</td><td>MOZ</td><td>508</td><td>ISO 3166-2:MZ</td><td>Mozambique</td><td>莫桑比克</td><td>莫桑比克</td><td>莫桑比克</td><td>中国大陆和 台湾均曾将之普遍译作“ 莫三比给”</td></tr><tr><td>GG</td><td>GGY</td><td>831</td><td>ISO 3166-2:GG</td><td>Guernsey</td><td>根西岛</td><td>根息岛</td><td>根西岛</td><td>中国大陆曾将之普遍译作“ 格恩西岛”</td></tr><tr><td>GM</td><td>GMB</td><td>270</td><td>ISO 3166-2:GM</td><td>Gambia</td><td>冈比亚</td><td>冈比亚</td><td>冈比亚</td><td>亦有部份人士使用“ 刚比亚”一词于 港澳地区</td></tr><tr><td>MP</td><td>MNP</td><td>580</td><td>ISO 3166-2:MP</td><td>Northern Mariana Islands</td><td>北马里亚纳群岛</td><td>北马里亚纳群岛</td><td>北马里亚纳群岛</td><td>亦有部份人士使用“ 北玛利安娜群岛”一词于 港澳地区</td></tr><tr><td>ET</td><td>ETH</td><td>231</td><td>ISO 3166-2:ET</td><td>Ethiopia</td><td>埃塞俄比亚</td><td>埃塞俄比亚</td><td>埃塞俄比亚</td><td>亦有部份人士使用“ 埃塞俄比亚”一词于 台湾</td></tr><tr><td>NC</td><td>NCL</td><td>540</td><td>ISO 3166-2:NC</td><td>New Caledonia</td><td>新喀里多尼亚</td><td>新喀里多尼亚岛</td><td>新喀里多尼亚</td><td>亦有部份人士使用“ 新喀尔多尼亚”一词于 港澳地区</td></tr><tr><td>VU</td><td>VUT</td><td>548</td><td>ISO 3166-2:VU</td><td>Vanuatu</td><td>瓦努阿图</td><td>瓦努阿图</td><td>瓦努阿图</td><td>亦有部份人士使用“ 瓦努阿图”一词于 港澳地区</td></tr><tr><td>TF</td><td>ATF</td><td>260</td><td>ISO 3166-2:TF</td><td>French Southern Territories</td><td>法属南部领地</td><td>法属南部属地</td><td>法属南部地区</td><td>台湾亦普遍采用“ 法属南方及南极陆地”一词于其它场合（如 MSN台湾）</td></tr><tr><td>NU</td><td>NIU</td><td>570</td><td>ISO 3166-2:NU</td><td>Niue</td><td>纽埃</td><td>纽埃</td><td>纽埃</td><td>台湾亦普遍采用“ 纽威岛”（ CNS 12842译名）一词于其它场合（如 MSN台湾）</td></tr><tr><td>UM</td><td>UMI</td><td>581</td><td>ISO 3166-2:UM</td><td>United States Minor Outlying Islands</td><td>美国本土外小岛屿</td><td>美国边疆小岛</td><td>美国海外小岛</td><td>台湾亦普遍采用“ 美国外岛”一词于其它场合（如 MSN台湾）</td></tr><tr><td>CK</td><td>COK</td><td>184</td><td>ISO 3166-2:CK</td><td>Cook Islands</td><td>库克群岛</td><td>库克群岛</td><td>库克群岛</td><td>台湾和 香港亦普遍采用“ 科克群岛”（ CNS 12842译名）一词于其它场合</td></tr><tr><td>GB</td><td>GBR</td><td>826</td><td>ISO 3166-2:GB</td><td>Great Britain (United Kingdom; England)</td><td>英国</td><td>英国</td><td>英国</td><td>台湾和 香港亦普遍采用“ 联合王国”一词于其它场合</td></tr><tr><td>TT</td><td>TTO</td><td>780</td><td>ISO 3166-2:TT</td><td>Trinidad &amp; Tobago</td><td>特立尼达和多巴哥</td><td>特立尼达和多巴哥</td><td>特立尼达和多巴哥</td><td>台湾和 香港均将之简称为“ 特立尼达”</td></tr><tr><td>VC</td><td>VCT</td><td>670</td><td>ISO 3166-2:VC</td><td>St. Vincent &amp; the Grenadines</td><td>圣文森特和格林纳丁斯</td><td>圣文森特和格林纳丁斯</td><td>圣文森特和格林纳丁斯</td><td>台湾将之简称为“ 圣文森”</td></tr><tr><td>TW</td><td>TWN</td><td>158</td><td>ISO 3166-2:TW</td><td>Taiwan</td><td>中华民国（台湾）</td><td>中华民国 台湾 台湾</td><td>台湾 台湾</td><td>所用英文名称系依据 国际标准化组织之称呼 [1] [2]所示。台湾地区的国际政治地位可参见 未被国际普遍承认的国家列表、 台海现状以及 旧金山条约。</td></tr><tr><td>NZ</td><td>NZL</td><td>554</td><td>ISO 3166-2:NZ</td><td>New Zealand</td><td>新西兰</td><td>新西兰</td><td>新西兰</td><td>新加坡与 马来西亚均将之译作“ 新西兰”。 香港亦普遍采用“新西兰”一词于其它场合</td></tr><tr><td>SA</td><td>SAU</td><td>682</td><td>ISO 3166-2:SA</td><td>Saudi Arabia</td><td>沙特阿拉伯</td><td>沙特阿拉伯</td><td>沙特阿拉伯</td><td>新加坡与 马来西亚均将之译作“ 沙特阿拉伯”。 香港亦普遍采用“沙特阿拉伯”一词于其它场合</td></tr><tr><td>LA</td><td>LAO</td><td>418</td><td>ISO 3166-2:LA</td><td>Laos</td><td>老挝</td><td>老挝</td><td>老挝</td><td>新加坡与 马来西亚均将之译作“老挝”</td></tr><tr><td>KP</td><td>PRK</td><td>408</td><td>ISO 3166-2:KP</td><td>North Korea</td><td>朝鲜 北朝鲜</td><td>北朝鲜</td><td>朝鲜 北朝鲜</td><td>澳门习惯称之为“ 北朝鲜”</td></tr><tr><td>KR</td><td>KOR</td><td>410</td><td>ISO 3166-2:KR</td><td>South Korea</td><td>韩国 南朝鲜</td><td>韩国 韩国</td><td>韩国 韩国</td><td>澳门习惯称之为“ 韩国”</td></tr><tr><td>PT</td><td>PRT</td><td>620</td><td>ISO 3166-2:PT</td><td>Portugal</td><td>葡萄牙</td><td>葡萄牙</td><td>葡萄牙</td><td>澳门民间亦普遍称之为葡国</td></tr><tr><td>KG</td><td>KGZ</td><td>417</td><td>ISO 3166-2:KG</td><td>Kyrgyzstan</td><td>吉尔吉斯斯坦</td><td>吉尔吉斯</td><td>吉尔吉斯</td><td>香港习惯略去“斯坦”后缀，有必要会用全称</td></tr><tr><td>KZ</td><td>KAZ</td><td>398</td><td>ISO 3166-2:KZ</td><td>Kazakhstan</td><td>哈萨克斯坦</td><td>哈萨克</td><td>哈萨克</td><td>香港习惯略去“斯坦”后缀，有必要会用全称</td></tr><tr><td>TJ</td><td>TJK</td><td>762</td><td>ISO 3166-2:TJ</td><td>Tajikistan</td><td>塔吉克斯坦</td><td>塔吉克</td><td>塔吉克</td><td>香港习惯略去“斯坦”后缀，有必要会用全称</td></tr><tr><td>TM</td><td>TKM</td><td>795</td><td>ISO 3166-2:TM</td><td>Turkmenistan</td><td>土库曼斯坦</td><td>土库曼</td><td>土库曼</td><td>香港习惯略去“斯坦”后缀，有必要会用全称</td></tr><tr><td>UZ</td><td>UZB</td><td>860</td><td>ISO 3166-2:UZ</td><td>Uzbekistan</td><td>乌兹别克斯坦</td><td>乌兹别克</td><td>乌兹别克</td><td>香港习惯略去“斯坦”后缀，有必要会用全称</td></tr><tr><td>KN</td><td>KNA</td><td>659</td><td>ISO 3166-2:KN</td><td>St. Kitts &amp; Nevis</td><td>圣基茨和尼维斯</td><td>圣基茨和尼维斯</td><td>圣基茨和尼维斯</td><td>香港亦普遍采用“ 圣克里斯托佛岛及尼维斯岛”一词于其它场合（如 香港邮政的邮政指南附录表）。亦有部份人士使用“ 圣基茨和尼维斯”一词于 港澳地区</td></tr><tr><td>PM</td><td>SPM</td><td>666</td><td>ISO 3166-2:PM</td><td>Saint-Pierre and Miquelon</td><td>圣皮埃尔和密克隆</td><td>圣皮耶与密克隆群岛</td><td>圣皮埃尔岛和密克隆岛</td><td>香港亦普遍采用“ 圣皮埃兰和密克隆群岛”一词于其它场合（如 香港邮政的邮政指南附录表）</td></tr><tr><td>SH</td><td>SHN</td><td>654</td><td>ISO 3166-2:SH</td><td>St. Helena &amp; Dependencies</td><td>圣赫勒拿</td><td>圣赫勒拿岛</td><td>圣赫勒拿</td><td>香港亦普遍采用“ 圣赫勒拿岛”一词于其它场合（如 香港邮政的邮政指南附录表）。亦有部份人士使用“ 圣海伦娜岛”一词于 港澳地区</td></tr><tr><td>LC</td><td>LCA</td><td>662</td><td>ISO 3166-2:LC</td><td>St. Lucia</td><td>圣卢西亚</td><td>圣卢西亚</td><td>圣卢西亚</td><td>香港亦普遍采用“ 圣路西亚”一词于其它场合</td></tr><tr><td>MU</td><td>MUS</td><td>480</td><td>ISO 3166-2:MU</td><td>Mauritius</td><td>毛里求斯</td><td>毛里求斯</td><td>毛里求斯</td><td>香港亦普遍采用“ 毛里求斯”一词于其它场合</td></tr><tr><td>CI</td><td>CIV</td><td>384</td><td>ISO 3166-2:CI</td><td>Cote d’Ivoire</td><td>科特迪瓦</td><td>科特迪瓦</td><td>科特迪瓦</td><td>香港亦普遍采用“科特迪瓦”一词于其它场合（如 香港邮政的邮政指南附录表）</td></tr><tr><td>KE</td><td>KEN</td><td>404</td><td>ISO 3166-2:KE</td><td>Kenya</td><td>肯尼亚</td><td>肯尼亚</td><td>肯尼亚</td><td>香港亦普遍采用“ 肯尼亚”一词于其它场合</td></tr><tr><td>MN</td><td>MNG</td><td>496</td><td>ISO 3166-2:MN</td><td>Mongolia</td><td>蒙古国 蒙古</td><td>蒙古</td><td>蒙古国</td><td>香港亦普遍采用“ 蒙古”一词于其它场合</td></tr></tbody></table><h2 id="修复后的结果"><a href="#修复后的结果" class="headerlink" title="修复后的结果"></a>修复后的结果</h2><p>按照上述的方式修复之后终于能成功展示了。</p><p><img src="/assets/images/ssl/00003.jpg" alt="修复后"></p><h2 id="acme-sh开启OCSP"><a href="#acme-sh开启OCSP" class="headerlink" title="acme.sh开启OCSP"></a>acme.sh开启OCSP</h2><blockquote><p>这个不能保证正确性，请自行验证，个人采用Nginx部署，这里只说Nginx的。</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash">~/.acme.sh/acme.sh --issue --force --dns dns_ali -d domain.com -d *.domain.com --keypath /data/nginx/ssl/www.domain.com.key --fullchainpath /data/nginx/ssl/www.domain.com.crt --reloadcmd <span class="token string">"docker exec -it nginx-server nginx -s reload"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>个人使用的是Aliyun的域名管理，所以这里会配置–dns dns_ali，–reloadcmd命令取决于你在服务器上的部署方式，这里采用的docker部署，所以是docker exec -it nginx-server nginx -s reload，若直接在物理机上安装采取“–reloadcmd “service nginx force-reload””</p><h3 id="Nginx中的配置"><a href="#Nginx中的配置" class="headerlink" title="Nginx中的配置"></a>Nginx中的配置</h3><pre class="line-numbers language-conf"><code class="language-conf">server {  #如果硬性要求全部走https协议，这一行去除  listen 80;  #如果硬性要求全部走https协议，这里去除ssl  listen       443 ssl http2;  # 配置能访问的域名  server_name domain.com *.domain.com;  access_log off;  index index.html index.htm;  root /usr/share/nginx/html;  #ssl on;   #如果硬性要求全部走https协议，这里开启ssl on  ssl_certificate   /etc/nginx/ssl/www.domain.com.cer;  ssl_certificate_key  /etc/nginx/ssl/www.domain.com.key;  #ssl性能调优  #nginx 1.13.0支持了TLSv1.3,TLSv1.3相比之前的TLSv1.2、TLSv1.1等性能大幅提升  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;  ssl_ciphers EECDH+CHACHA20:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5;  ssl_prefer_server_ciphers on;  ssl_session_timeout 10m;  #使用ssl_session_cache优化https下Nginx的性能  ssl_session_cache builtin:1000 shared:SSL:10m;  #OCSP Stapling 开启。OCSP是用于在线查询证书吊销情况的服务，使用OCSP Stapling能将证书有效状态的信息缓存到服务器，提高 TLS 握手速度  ssl_stapling on;  #OCSP Stapling 验证开启  ssl_stapling_verify on;   ....}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://blog.myssl.com/myssl-term/" target="_blank" rel="noopener">HTTPS 安全最佳实践—MySSL相关术语</a></li><li><a href="https://blog.myssl.com/ocsp-must-staple/" target="_blank" rel="noopener">HTTPS 安全最佳实践—OCSP Must-Staple</a></li><li><a href="https://www.moebsd.cn/post/OCSP.html" target="_blank" rel="noopener">添加证书OCSP Must-Staple支持</a></li><li><a href="http://doc.chacuo.net/iso-3166-1/" target="_blank" rel="noopener">iso-3166-1全球国家名称代码</a></li><li><a href="https://blog.csdn.net/weixin_30920091/article/details/96166201" target="_blank" rel="noopener">Linux下使用acme.sh 配置https 免费证书</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;最近朋友在做支付的时候申请了域名的SSL证书，但是在支付平台对于SSL证书检查是一直不通过。&lt;br&gt;利用另外一个域名申请的证书进行检查发现可以成功的域名证书里面唯一的区别在于OCSP的状态不一样。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="SSL" scheme="https://kany.me/tags/SSL/"/>
    
      <category term="Cert" scheme="https://kany.me/tags/Cert/"/>
    
      <category term="Certificate" scheme="https://kany.me/tags/Certificate/"/>
    
      <category term="OCSP" scheme="https://kany.me/tags/OCSP/"/>
    
  </entry>
  
  <entry>
    <title>Java线程的几种状态</title>
    <link href="https://kany.me/2021/02/22/the-state-of-java-thread/"/>
    <id>https://kany.me/2021/02/22/the-state-of-java-thread/</id>
    <published>2021-02-22T02:59:44.000Z</published>
    <updated>2021-02-22T03:40:26.483Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>线程的几种状态转换<br>线程在一定条件下，状态会发生变化。线程一共有以下几种状态：</p><ul><li>1、新建状态(New)：新创建了一个线程对象。</li><li>2、就绪状态(Runnable)：线程对象创建后，其他线程调用了该对象的start()方法。该状态的线程位于“可运行线程池”中，变得可运行，只等待获取CPU的使用权。即在就绪状态的进程除CPU之外，其它的运行所需资源都已全部获得。</li><li>3、运行状态(Running)：就绪状态的线程获取了CPU，执行程序代码。</li><li>4、阻塞状态(Blocked)：阻塞状态是线程因为某种原因放弃CPU使用权，暂时停止运行。直到线程进入就绪状态，才有机会转到运行状态。<br>阻塞的情况分三种：<ul><li>(1)、等待阻塞：运行的线程执行wait()方法，该线程会释放占用的所有资源，JVM会把该线程放入“等待池”中。进入这个状态后，是不能自动唤醒的，必须依靠其他线程调用notify()或notifyAll()方法才能被唤醒，</li><li>(2)、同步阻塞：运行的线程在获取对象的同步锁时，若该同步锁被别的线程占用，则JVM会把该线程放入“锁池”中。</li><li>(3)、其他阻塞：运行的线程执行sleep()或join()方法，或者发出了I/O请求时，JVM会把该线程置为阻塞状态。当sleep()状态超时、join()等待线程终止或者超时、或者I/O处理完毕时，线程重新转入就绪状态。</li></ul></li><li>5、死亡状态(Dead)：线程执行完了或者因异常退出了run()方法，该线程结束生命周期。<a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2></li></ul><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;线程的几种状态转换&lt;br&gt;线程在一定条件下，状态会发生变化。线程一共有以下几种状态：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1、新建状态(New)：新创建了一个线程对象。&lt;/li&gt;
&lt;li&gt;2、就绪状态(Runnable)：线程对象创建后，其他线程调用了该对象的start()方法。该状态的线程位于“可运行线程池”中，变得可运行，只等待获取CPU的使用权。即在就绪状态的进程除CPU之外，其它的运行所需资源都已全部获得。&lt;/li&gt;
&lt;li&gt;3、运行状态(Running)：就绪状态的线程获取了CPU，执行程序代码。&lt;/li&gt;
&lt;li&gt;4、阻塞状态(Blocked)：阻塞状态是线程因为某种原因放弃CPU使用权，暂时停止运行。直到线程进入就绪状态，才有机会转到运行状态。&lt;br&gt;阻塞的情况分三种：&lt;ul&gt;
&lt;li&gt;(1)、等待阻塞：运行的线程执行wait()方法，该线程会释放占用的所有资源，JVM会把该线程放入“等待池”中。进入这个状态后，是不能自动唤醒的，必须依靠其他线程调用notify()或notifyAll()方法才能被唤醒，&lt;/li&gt;
&lt;li&gt;(2)、同步阻塞：运行的线程在获取对象的同步锁时，若该同步锁被别的线程占用，则JVM会把该线程放入“锁池”中。&lt;/li&gt;
&lt;li&gt;(3)、其他阻塞：运行的线程执行sleep()或join()方法，或者发出了I/O请求时，JVM会把该线程置为阻塞状态。当sleep()状态超时、join()等待线程终止或者超时、或者I/O处理完毕时，线程重新转入就绪状态。&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;5、死亡状态(Dead)：线程执行完了或者因异常退出了run()方法，该线程结束生命周期。
    
    </summary>
    
    
    
      <category term="Java" scheme="https://kany.me/tags/Java/"/>
    
      <category term="线程" scheme="https://kany.me/tags/%E7%BA%BF%E7%A8%8B/"/>
    
      <category term="多线程" scheme="https://kany.me/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
    
      <category term="Concurrent" scheme="https://kany.me/tags/Concurrent/"/>
    
  </entry>
  
  <entry>
    <title>Brew替换国内源</title>
    <link href="https://kany.me/2020/12/13/brew-uses-local-sources/"/>
    <id>https://kany.me/2020/12/13/brew-uses-local-sources/</id>
    <published>2020-12-13T13:13:32.000Z</published>
    <updated>2021-01-14T08:20:13.269Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>最近在使用Brew的时候执行Update指令，发生了卡顿，所以水一篇这样的文章。</p><a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><p>首先执行<strong>brew config</strong>，看到 <a href="https://github.com/Homebrew/brew" target="_blank" rel="noopener">https://github.com/Homebrew/brew</a> 开头的内容表示没有进行任何替换，采用的是默认方式</p><p>以下是分别查询需要替换的源的地址</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># brew.git镜像源</span><span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote -v<span class="token comment" spellcheck="true"># homebrew-core.git镜像源</span><span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote -v<span class="token comment" spellcheck="true"># homebrew-cask.git镜像源</span><span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> remote -v <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="替换源"><a href="#替换源" class="headerlink" title="替换源"></a>替换源</h2><ul><li>科大: <a href="https://mirrors.ustc.edu.cn" target="_blank" rel="noopener">https://mirrors.ustc.edu.cn</a></li><li>阿里: <a href="https://mirrors.aliyun.com/homebrew/" target="_blank" rel="noopener">https://mirrors.aliyun.com/homebrew/</a></li></ul><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.ustc.edu.cn/brew.git<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h2 id="验证源"><a href="#验证源" class="headerlink" title="验证源"></a>验证源</h2><p>替换完成之后看到的内容，需要执行命令<strong>brew config</strong></p><pre class="line-numbers language-bash"><code class="language-bash">HOMEBREW_VERSION: 2.6.1ORIGIN: https://mirrors.ustc.edu.cn/brew.gitHEAD: 2c77a540b522c2eee74af0745851167412adb83bLast commit: 4 days agoCore tap ORIGIN: https://mirrors.ustc.edu.cn/homebrew-core.gitCore tap HEAD: 4d83a7e95964eef37ef5cdcd232e0b1401b68877Core tap last commit: 3 days agoCore tap branch: masterHOMEBREW_PREFIX: /usr/localHOMEBREW_BOTTLE_DOMAIN: https://mirrors.ustc.edu.cn/homebrew-bottlesHOMEBREW_CASK_OPTS: <span class="token punctuation">[</span><span class="token punctuation">]</span>HOMEBREW_MAKE_JOBS: 8Homebrew Ruby: 2.6.3 <span class="token operator">=</span><span class="token operator">></span> /usr/local/Homebrew/Library/Homebrew/vendor/portable-ruby/2.6.3_2/bin/rubyCPU: octa-core 64-bit ivybridge<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="还原源"><a href="#还原源" class="headerlink" title="还原源"></a>还原源</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo<span class="token variable">)</span></span>"</span> remote set-url origin https://github.com/Homebrew/brew.git<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/core<span class="token variable">)</span></span>"</span> remote set-url origin https://github.com/Homebrew/homebrew-core.git<span class="token function">git</span> -C <span class="token string">"<span class="token variable"><span class="token variable">$(</span>brew --repo homebrew/cask<span class="token variable">)</span></span>"</span> remote set-url origin https://github.com/Homebrew/homebrew-cask.git<span class="token comment" spellcheck="true"># 找到 ~/.bash_profile 或者 ~/.zshrc 中的HOMEBREW_BOTTLE_DOMAIN 一行删除</span>brew update<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p>本次不写了网上有很多，如果写的话可能会有一些版权的问题。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;最近在使用Brew的时候执行Update指令，发生了卡顿，所以水一篇这样的文章。&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Mac使用OH-My-ZSH</title>
    <link href="https://kany.me/2020/12/01/mac-use-oh-my-zsh/"/>
    <id>https://kany.me/2020/12/01/mac-use-oh-my-zsh/</id>
    <published>2020-12-01T13:46:13.000Z</published>
    <updated>2021-01-14T08:20:13.281Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章说明"><a href="#文章说明" class="headerlink" title="文章说明"></a>文章说明</h2><p>网上有很多关于zsh的美化教程，主要是为了让自己有个记忆方便回查</p><a id="more"></a><h2 id="系统环境"><a href="#系统环境" class="headerlink" title="系统环境"></a>系统环境</h2><ul><li>Zsh：v4.3.9</li><li>Git：v2.4.11+</li></ul><h2 id="安装Zsh"><a href="#安装Zsh" class="headerlink" title="安装Zsh"></a>安装Zsh</h2><h3 id="Mac-安装Zsh"><a href="#Mac-安装Zsh" class="headerlink" title="Mac 安装Zsh"></a>Mac 安装Zsh</h3><pre class="line-numbers language-bash"><code class="language-bash">chsh -s /bin/zsh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 安装zsh</span><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> zsh<span class="token comment" spellcheck="true"># 切换终端显示</span>chsh -s /bin/zsh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Redhat、CentOs"><a href="#Redhat、CentOs" class="headerlink" title="Redhat、CentOs"></a>Redhat、CentOs</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 查看已有的shell终端</span><span class="token function">cat</span> /etc/shells<span class="token comment" spellcheck="true"># 安装zsh</span>yum <span class="token function">install</span> zsh<span class="token comment" spellcheck="true"># 终端切换</span>chsh -s /bin/zsh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="安装oh-my-zsh"><a href="#安装oh-my-zsh" class="headerlink" title="安装oh my zsh"></a>安装oh my zsh</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 官方使用两个命令curl、wget、fetch去获取安装命令</span><span class="token comment" spellcheck="true"># curl</span>sh -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span>curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="token variable">)</span></span>"</span><span class="token comment" spellcheck="true"># wget</span>sh -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span><span class="token function">wget</span> -O- https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="token variable">)</span></span>"</span><span class="token comment" spellcheck="true"># fetch</span>sh -c <span class="token string">"<span class="token variable"><span class="token variable">$(</span>fetch -o - https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="token variable">)</span></span>"</span><span class="token comment" spellcheck="true"># 但是由于国内的环境有点不稳定我们采用源码方式处理</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 添加depth下载源码</span><span class="token function">git</span> clone --depth<span class="token operator">=</span>1 https://github.com/robbyrussell/oh-my-zsh<span class="token comment" spellcheck="true"># 修改源码git的配置</span><span class="token function">vi</span> oh-my-zsh/.git/config<span class="token comment" spellcheck="true"># 修改内容，下面为修改后的内容</span><span class="token punctuation">[</span>remote <span class="token string">"origin"</span><span class="token punctuation">]</span>        url <span class="token operator">=</span> https://github.com/ohmyzsh/ohmyzsh        fetch <span class="token operator">=</span> +refs/heads/*:refs/remotes/origin/*<span class="token comment" spellcheck="true"># 最后执行命令</span><span class="token function">git</span> fetch --unshallow<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="配置安装目录"><a href="#配置安装目录" class="headerlink" title="配置安装目录"></a>配置安装目录</h3><p>我个人的电脑经常升级系统，为了防止数据在升级或者还原的时候丢失，一般放在<strong>/usr/local/</strong>文件夹下</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 切换目录</span><span class="token function">cd</span> /usr/local/<span class="token comment" spellcheck="true"># 复制源码</span><span class="token function">sudo</span> <span class="token function">cp</span> -r ~/Documents/oh-my-zsh ./<span class="token comment" spellcheck="true"># 执行安装命令</span>./oh-my-zsh/tools/install.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><span style="color:red;"><strong>注意：</strong></span>执行install.sh之后会在~/下生成一个oh-my-zsh的目录</p></blockquote><h3 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h3><p>zsh的配置文件<strong>/etc/zprofile</strong></p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 配置OH-MY-ZSH</span><span class="token function">export</span> ZSH_CUSTOM<span class="token operator">=</span>/usr/local/oh-my-zsh/custom<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>配置个人的zsh的配置文件<strong>more ~/.zshrc</strong></p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 安装完成之后能看到内部有个文件</span><span class="token function">export</span> ZSH<span class="token operator">=</span>/usr/local/oh-my-zsh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>为了保证文件内容无错，直接贴出自己内容：</p><pre class="line-numbers language-config"><code class="language-config"># Enable Powerlevel10k instant prompt. Should stay close to the top of ~/.zshrc.# Initialization code that may require console input (password prompts, [y/n]# confirmations, etc.) must go above this block; everything else may go below.if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"fi# If you come from bash you might have to change your $PATH.# export PATH=$HOME/bin:/usr/local/bin:$PATH# Path to your oh-my-zsh installation.export ZSH=/usr/local/oh-my-zsh# Set name of the theme to load --- if set to "random", it will# load a random theme each time oh-my-zsh is loaded, in which case,# to know which specific one was loaded, run: echo $RANDOM_THEME# See https://github.com/ohmyzsh/ohmyzsh/wiki/ThemesZSH_THEME="powerlevel10k/powerlevel10k"# Set list of themes to pick from when loading at random# Setting this variable when ZSH_THEME=random will cause zsh to load# a theme from this variable instead of looking in $ZSH/themes/# If set to an empty array, this variable will have no effect.# ZSH_THEME_RANDOM_CANDIDATES=( "robbyrussell" "agnoster" )# Uncomment the following line to use case-sensitive completion.# CASE_SENSITIVE="true"# Uncomment the following line to use hyphen-insensitive completion.# Case-sensitive completion must be off. _ and - will be interchangeable.# HYPHEN_INSENSITIVE="true"# Uncomment the following line to disable bi-weekly auto-update checks.# DISABLE_AUTO_UPDATE="true"# Uncomment the following line to automatically update without prompting.# DISABLE_UPDATE_PROMPT="true"# Uncomment the following line to change how often to auto-update (in days).# export UPDATE_ZSH_DAYS=13# Uncomment the following line if pasting URLs and other text is messed up.# DISABLE_MAGIC_FUNCTIONS="true"# Uncomment the following line to disable colors in ls.# DISABLE_LS_COLORS="true"# Uncomment the following line to disable auto-setting terminal title.# DISABLE_AUTO_TITLE="true"# Uncomment the following line to enable command auto-correction.# ENABLE_CORRECTION="true"# Uncomment the following line to display red dots whilst waiting for completion.# COMPLETION_WAITING_DOTS="true"# Uncomment the following line if you want to disable marking untracked files# under VCS as dirty. This makes repository status check for large repositories# much, much faster.# DISABLE_UNTRACKED_FILES_DIRTY="true"# Uncomment the following line if you want to change the command execution time# stamp shown in the history command output.# You can set one of the optional three formats:# "mm/dd/yyyy"|"dd.mm.yyyy"|"yyyy-mm-dd"# or set a custom format using the strftime function format specifications,# see 'man strftime' for details.# HIST_STAMPS="mm/dd/yyyy"# Would you like to use another custom folder than $ZSH/custom?# ZSH_CUSTOM=/path/to/new-custom-folder# Which plugins would you like to load?# Standard plugins can be found in $ZSH/plugins/# Custom plugins may be added to $ZSH_CUSTOM/plugins/# Example format: plugins=(rails git textmate ruby lighthouse)# Add wisely, as too many plugins slow down shell startup.plugins=( git)source $ZSH/oh-my-zsh.sh# User configuration# export MANPATH="/usr/local/man:$MANPATH"# You may need to manually set your language environment# export LANG=en_US.UTF-8# Preferred editor for local and remote sessions# if [[ -n $SSH_CONNECTION ]]; then#   export EDITOR='vim'# else#   export EDITOR='mvim'# fi# Compilation flags# export ARCHFLAGS="-arch x86_64"# Set personal aliases, overriding those provided by oh-my-zsh libs,# plugins, and themes. Aliases can be placed here, though oh-my-zsh# users are encouraged to define aliases within the ZSH_CUSTOM folder.# For a full list of active aliases, run `alias`.## Example aliases# alias zshconfig="mate ~/.zshrc"# alias ohmyzsh="mate ~/.oh-my-zsh"# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="安装主题文件"><a href="#安装主题文件" class="headerlink" title="安装主题文件"></a>安装主题文件</h3><p>个人使用的主题为“<strong><a href="https://github.com/romkatv/powerlevel10k" target="_blank" rel="noopener">powerlevel10k</a></strong>”，主题地址：<a href="https://github.com/ohmyzsh/ohmyzsh/wiki/Themes" target="_blank" rel="noopener">https://github.com/ohmyzsh/ohmyzsh/wiki/Themes</a></p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/romkatv/powerlevel10k.git <span class="token variable">$ZSH_CUSTOM</span>/themes/powerlevel10k<span class="token comment" spellcheck="true"># 然后修改.zshrc的内容为</span>ZSH_THEME<span class="token operator">=</span><span class="token string">"powerlevel10k/powerlevel10k"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="安装字体"><a href="#安装字体" class="headerlink" title="安装字体"></a>安装字体</h3><p>由于 powerlevel10k 需要外部字体的支持，所以我们需要在<a href="https://github.com/ryanoasis/nerd-fonts#font-installation" target="_blank" rel="noopener">https://github.com/ryanoasis/nerd-fonts</a></p><p>请根据安装文档的命令使用，个人使用的是 <strong>JetBrains Mono</strong></p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 下载字体</span><span class="token function">git</span> clone --depth<span class="token operator">=</span>1 https://github.com/ryanoasis/nerd-fonts<span class="token comment" spellcheck="true"># 切换目录</span><span class="token function">cd</span> nerd-fonts<span class="token comment" spellcheck="true"># 安装字体</span>./install.sh JetBrains\ Mono<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="/assets/images/zsh/0001.jpg" alt="终端的配置文件"></p><h3 id="执行-powerlevel10k-的配置"><a href="#执行-powerlevel10k-的配置" class="headerlink" title="执行 powerlevel10k 的配置"></a>执行 powerlevel10k 的配置</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 执行命令，后根据实际情况一步步的选择</span>p10k configure<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="/assets/images/zsh/0002.png" alt="显示效果"></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.jianshu.com/p/7162c4b7a438" target="_blank" rel="noopener">用「zsh」「oh my zsh」「powerlevel10k」，打造属于你的终端环境</a></li><li><a href="https://blog.csdn.net/wujakf/article/details/83271395" target="_blank" rel="noopener">Mac终端神器zsh + Autosuggestion</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章说明&quot;&gt;&lt;a href=&quot;#文章说明&quot; class=&quot;headerlink&quot; title=&quot;文章说明&quot;&gt;&lt;/a&gt;文章说明&lt;/h2&gt;&lt;p&gt;网上有很多关于zsh的美化教程，主要是为了让自己有个记忆方便回查&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Mac" scheme="https://kany.me/tags/Mac/"/>
    
      <category term="Zsh" scheme="https://kany.me/tags/Zsh/"/>
    
      <category term="oh-my-zsh" scheme="https://kany.me/tags/oh-my-zsh/"/>
    
  </entry>
  
  <entry>
    <title>创建VUE的项目</title>
    <link href="https://kany.me/2020/06/02/create-vue-project/"/>
    <id>https://kany.me/2020/06/02/create-vue-project/</id>
    <published>2020-06-02T02:35:01.000Z</published>
    <updated>2021-01-14T08:20:13.272Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>很久没有弄VUE的项目，在创建项目时发现自己根本不能动手，所以水一篇文章来记录</p><a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>Node：v10.15.3</li><li>Npm：6.4.1</li><li>Yarn：1.19.2</li></ul><p>首先一顿骚操作之后，发现会报错“<code>info There appears to be trouble with your network connection. Retrying...</code>”<br>搜索寻找都只是告诉我一半，最后保留在参考资料的数据比较全面</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 只执行这个，依然报错</span>yarn config <span class="token keyword">set</span> registry https://registry.npm.taobao.org<span class="token comment" spellcheck="true"># 删除代理配置</span>yarn config delete proxy<span class="token function">npm</span> config <span class="token function">rm</span> proxy<span class="token function">npm</span> config <span class="token function">rm</span> https-proxy<span class="token comment" spellcheck="true"># 使用代理registry</span><span class="token function">npm</span> config <span class="token keyword">set</span> registry https://registry.npm.taobao.org<span class="token comment" spellcheck="true"># 个人没有使用cnpm，但是还是抄袭过来</span>安装cnpm镜像<span class="token function">npm</span> <span class="token function">install</span> -g cnpm --registry<span class="token operator">=</span>https://registry.npm.taobao.org<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>以上的一顿操作之后，构建项目不会报错了</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 开心的执行下面的命令，然后真的很开心</span>vue init webpack my-first-vue<span class="token comment" spellcheck="true"># 开心的给你显示如下错误</span>  Command vue init requires a global addon to be installed.  Please run yarn global add @vue/cli-init and try again.<span class="token comment" spellcheck="true"># 解决办法</span><span class="token function">npm</span> <span class="token function">install</span> -g @vue/cli-init<span class="token comment" spellcheck="true"># 再次去创建项目就能正常工作了</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>好，到这里基本水完，感谢观看。</p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://blog.csdn.net/m0_37859032/article/details/95921667" target="_blank" rel="noopener">yarn 错误There appears to be trouble with your network connection. Retrying</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;很久没有弄VUE的项目，在创建项目时发现自己根本不能动手，所以水一篇文章来记录&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Nginx 部署 Vue项目</title>
    <link href="https://kany.me/2020/05/09/nginx-deploy-vue-project/"/>
    <id>https://kany.me/2020/05/09/nginx-deploy-vue-project/</id>
    <published>2020-05-09T09:32:39.000Z</published>
    <updated>2021-01-14T08:20:13.286Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>自己没有怎么接触Vue项目，在使用Nginx部署时发现了一点小坑</p><a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>Docker：19.03.8</li><li>Nginx：nginx/1.17.10</li></ul><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><ul><li>修改Nginx配置文件后，依然是之前的项目的配置文件在生效</li><li>Nginx代理Vue的“proxyTable”</li></ul><h3 id="修改Nginx配置文件后，任然是旧配置"><a href="#修改Nginx配置文件后，任然是旧配置" class="headerlink" title="修改Nginx配置文件后，任然是旧配置"></a>修改Nginx配置文件后，任然是旧配置</h3><p>第一步，修改Nginx.conf配置文件：</p><pre class="line-numbers language-editorconfig"><code class="language-editorconfig">#user  nginx;worker_processes auto;pid /var/run/nginx.pid;worker_rlimit_nofile 65535;events {    multi_accept on;    worker_connections 65535;}http {    charset utf-8;    sendfile on;    tcp_nopush on;    tcp_nodelay on;    server_tokens off;    log_not_found off;    types_hash_max_size 2048;    client_max_body_size 16M;    # MIME    include mime.types;    default_type application/octet-stream;    # logging    access_log /var/log/nginx/access.log;    error_log /var/log/nginx/error.log warn;    # gzip    gzip on;    gzip_vary on;    gzip_proxied any;    gzip_comp_level 6;    gzip_types text/plain text/css text/xml application/json application/javascript application/rss+xml application/atom+xml image/svg+xml;    # load configs    include /etc/nginx/conf.d/*.conf;    #include /etc/nginx/sites-enabled/*;}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><font color="red"><strong>重点：</strong>删除之前干扰的所有配置文件。并开启日志</font></p><pre class="line-numbers language-editorconfig"><code class="language-editorconfig">    # logging    access_log /var/log/nginx/localhost.access.log;    error_log /var/log/nginx/localhost.error.log warn;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>别觉得没有任何帮助，我也是这样操作之后才好的。让我自己都觉得很莫名其妙，当然，你知道真实的原因那更好。<br><font color="red"><strong>重点：</strong>认真观察出错的内容，然后你会打开新世界的大门。</font></p><h3 id="Nginx代理Vue的“proxyTable”"><a href="#Nginx代理Vue的“proxyTable”" class="headerlink" title="Nginx代理Vue的“proxyTable”"></a>Nginx代理Vue的“proxyTable”</h3><p>由于个人不熟悉Vue的操作，觉得既然在Vue里面有“proxyTable”那我就可以直接像静态页面一样丢上去即可。<br>这里面有两个小坑：</p><ul><li>router</li><li>proxyTable</li></ul><p>配置router的解决方式：</p><pre class="line-numbers language-editorconfig"><code class="language-editorconfig">    # 配置这个文件就可以解决router了    location / {        try_files $uri $uri/ /index.html;    }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>配置“proxyTable”<br>这个地方一直很奇怪，虽然自己已经在2019年的时候配置成功，但是当时没有行程文档，所以很坑。</p><pre class="line-numbers language-vue"><code class="language-vue">    proxyTable: {      '/api':{          target: 'http://domain.com',      // 你接口的域名          secure: true,                     // 如果是https接口，需要配置这个参数          changeOrigin: true,               // 如果接口跨域，需要进行这个参数配置          pathRewrite: {              '^/api': ''          }      }    },<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>放心开启这个东西之后你本地如何调试都是正常的，很棒。但是在服务器上用Nginx部署时，就需要配置了。</p><pre class="line-numbers language-editorconfig"><code class="language-editorconfig">    # 在Nginx的配置文件中加上对于上述“api”的代理即可    location /api/ {        proxy_pass http://domain.com/port/appName/; #这个地方记得加上“/”        proxy_http_version 1.1;        proxy_cache_bypass $http_upgrade;        proxy_set_header Upgrade $http_upgrade;        proxy_set_header Connection "upgrade";        proxy_set_header Host $host;        proxy_set_header X-Real-IP $remote_addr;        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;        proxy_set_header X-Forwarded-Proto $scheme;        proxy_set_header X-Forwarded-Host $host;        proxy_set_header X-Forwarded-Port $server_port;    }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>借用<strong>“红瓤西瓜”</strong>的最后总结<br>项目发布上线至nginx后，地址代理以nginx为准</p></blockquote><h2 id="Webpack-打包注意点"><a href="#Webpack-打包注意点" class="headerlink" title="Webpack 打包注意点"></a>Webpack 打包注意点</h2><ul><li>cssSourceMap: false                       # 取消样式文件的map生成</li><li>productionSourceMap: false,               # 取消源码的map生成</li><li>productionGzip: true,                     # 开启对源码压缩</li><li>productionGzipExtensions: [‘js’, ‘css’],  # 配置需要使用压缩的源码</li><li>router 配置“ mode: ‘history’ ”可以取消路径上的“#”</li></ul><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://www.cnblogs.com/youkanyouxiao/p/10954357.html" target="_blank" rel="noopener">Nginx 配置在线一键生成“神器”</a></li><li><a href="https://www.digitalocean.com/community/tools/nginx" target="_blank" rel="noopener">Nginx配置在线生成</a></li><li><a href="https://blog.csdn.net/tian_xuewu/article/details/97886009" target="_blank" rel="noopener">vue的proxyTable的地址代理和重定向，配合nginx的地址代理问题</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;自己没有怎么接触Vue项目，在使用Nginx部署时发现了一点小坑&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>CentOS 8 启动盘的安装</title>
    <link href="https://kany.me/2020/05/08/centos8-installation-u-disk-production/"/>
    <id>https://kany.me/2020/05/08/centos8-installation-u-disk-production/</id>
    <published>2020-05-08T01:40:37.000Z</published>
    <updated>2021-01-14T08:20:13.270Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>手里没有光盘想要整体更换电脑系统，发现使用<code>UltraISO</code>等软件制作的系统U盘，不能正常的安装系统。一番搜索之后发现有办法解决。<br>后续因为要用到这个系统U盘，使用<code>DiskGenius</code>居然没有办法还原。</p><a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>OS：Win 10.0.18362</li><li>OS Version：Microsoft Windows 10 企业版</li><li>Tools：<a href="https://sourceforge.net/projects/win32diskimager/" target="_blank" rel="noopener">win32diskimager</a></li><li>CentOS: <a href="http://isoredirect.centos.org/centos/8-stream/isos/x86_64/" target="_blank" rel="noopener">下载</a></li></ul><h2 id="系统U盘制作"><a href="#系统U盘制作" class="headerlink" title="系统U盘制作"></a>系统U盘制作</h2><p>参考资料至中有，我不写了，人家写的比较详细。</p><h2 id="U盘还原"><a href="#U盘还原" class="headerlink" title="U盘还原"></a>U盘还原</h2><p>在使用<code>DiskGenius</code>和Mac电脑上的磁盘管理工具之后 虽然能格式化U盘，空间也能正常但是电脑就是不能正常的显示。<br>根据参考资料二的描述，执行如下操作即可：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 打开“命令提示符”</span>diskpart<span class="token comment" spellcheck="true"># 查询当前有多少磁盘</span>DISKPART<span class="token operator">></span> list disk  磁盘 <span class="token comment" spellcheck="true">###  状态           大小     可用     Dyn  Gpt</span>  --------  -------------  -------  -------  ---  ---  磁盘 0    联机              931 GB      0 B        *  磁盘 1    联机              232 GB  1024 KB        *  磁盘 2    联机              119 GB    12 MB        *  磁盘 3    联机               57 GB      0 B<span class="token comment" spellcheck="true"># 选择要操作的磁盘</span>DISKPART<span class="token operator">></span> <span class="token keyword">select</span> disk 3<span class="token comment" spellcheck="true"># 清空磁盘</span>DISKPART<span class="token operator">></span> clean<span class="token comment" spellcheck="true"># 创建主分区</span>DISKPART<span class="token operator">></span> create partition PRIMARY<span class="token comment" spellcheck="true"># 激活当前分区</span>DISKPART<span class="token operator">></span> active<span class="token comment" spellcheck="true"># 格式化分区 这里FS 可以指定 fat32、ntfs，我的U盘比较大用NTFS合适</span>DISKPART<span class="token operator">></span> <span class="token function">format</span> fs<span class="token operator">=</span>ntfs quick<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>到这完事！<br>哇塞，我又水完一篇博客了。</p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://blog.csdn.net/qq_37059838/article/details/103662111" target="_blank" rel="noopener">CentOS 8 启动盘的安装</a></li><li><a href="https://blog.csdn.net/z3881006/article/details/72590539" target="_blank" rel="noopener">使用diskpart恢复使用win32 disk imager处理过的U盘</a></li><li><a href="https://jingyan.baidu.com/article/2f9b480d98d39941ca6cc25c.html" target="_blank" rel="noopener">用Diskpart创建分区</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;手里没有光盘想要整体更换电脑系统，发现使用&lt;code&gt;UltraISO&lt;/code&gt;等软件制作的系统U盘，不能正常的安装系统。一番搜索之后发现有办法解决。&lt;br&gt;后续因为要用到这个系统U盘，使用&lt;code&gt;DiskGenius&lt;/code&gt;居然没有办法还原。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="CentOS" scheme="https://kany.me/tags/CentOS/"/>
    
  </entry>
  
  <entry>
    <title>CentOS 8 安装docker环境</title>
    <link href="https://kany.me/2020/04/07/centos-8-install-docker/"/>
    <id>https://kany.me/2020/04/07/centos-8-install-docker/</id>
    <published>2020-04-07T07:28:58.000Z</published>
    <updated>2021-01-14T08:20:13.270Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>最近使用了CentOS 8的环境去安装配置软件环境，在使用之前的文章<a href="https://kany.me/2019/09/11/docker-install/">在Ubuntu 16.04 安装 Docker</a>中的一键配置功能目前不能直接使用了。</p><p>使用万能的互联网，找到了解决方案。<br>开始抄袭</p><a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>CentOS：CentOS Linux release 8.1.1911 (Core)</li><li>Docker：19.03.8</li></ul><h2 id="安装命令"><a href="#安装命令" class="headerlink" title="安装命令"></a>安装命令</h2><pre class="line-numbers language-bash"><code class="language-bash">curl -fsSL https://get.docker.com <span class="token operator">|</span> <span class="token function">bash</span> -s docker --mirror Aliyun<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>直接使用这条风骚的命令会有如下错误：</p><pre class="line-numbers language-bash"><code class="language-bash">package docker-ce-3:19.03.8-3.el7.x86_64 requires containerd.io <span class="token operator">>=</span> 1.2.2-3, but none of the providers can be installed<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>其实是提醒我们需要安装<code>containerd.io</code>这个软件</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 未验证</span><span class="token function">sudo</span> dnf <span class="token function">install</span> containerd.io<span class="token comment" spellcheck="true"># 已验证</span><span class="token function">sudo</span> dnf <span class="token function">install</span> https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>然后在去执行之前<a href="https://kany.me/2019/09/11/docker-install/">在Ubuntu 16.04 安装 Docker</a>的操作。</p><p>好的，成功的水了一篇文章。</p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://www.cnblogs.com/leoshi/p/12324827.html" target="_blank" rel="noopener">[RHEL8]安装Docker Problem: package docker-ce-3:19.03.6-3.el7.x86_64 requires containerd.io</a></li><li><a href="https://www.cnblogs.com/ding2016/p/11592999.html" target="_blank" rel="noopener">centos8.0安装docker</a></li><li><a href="https://www.a5idc.net/helpview_591.html" target="_blank" rel="noopener">如何在CentOS 8上安装Docker CE</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;最近使用了CentOS 8的环境去安装配置软件环境，在使用之前的文章&lt;a href=&quot;https://kany.me/2019/09/11/docker-install/&quot;&gt;在Ubuntu 16.04 安装 Docker&lt;/a&gt;中的一键配置功能目前不能直接使用了。&lt;/p&gt;
&lt;p&gt;使用万能的互联网，找到了解决方案。&lt;br&gt;开始抄袭&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="CentOS" scheme="https://kany.me/tags/CentOS/"/>
    
      <category term="docker" scheme="https://kany.me/tags/docker/"/>
    
  </entry>
  
  <entry>
    <title>为MySQL数据库分配指定用户</title>
    <link href="https://kany.me/2020/03/24/mysql-setting-user-for-db/"/>
    <id>https://kany.me/2020/03/24/mysql-setting-user-for-db/</id>
    <published>2020-03-24T08:36:55.000Z</published>
    <updated>2021-01-14T08:20:13.283Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>最近在使用docker创建mysql服务的时候，发现root是不会给自动开启远程的，并且密码如果少添加一个东西也会不进行初始化。<br>只能手动去修改。</p><p>解决办法为：</p><pre class="line-numbers language-yml"><code class="language-yml"># 设置密码加密驱动，原因参见：https://learnku.com/articles/34823command: --default-authentication-plugin=mysql_native_password<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><a id="more"></a><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><pre class="line-numbers language-bash"><code class="language-bash">-- 创建用户create user kanyme identified by <span class="token string">'kanyme'</span><span class="token punctuation">;</span>-- 授权grant all privileges on kanyme_db.* to kanyme@<span class="token string">'%'</span><span class="token punctuation">;</span>-- 刷新权限flush privileges<span class="token punctuation">;</span>-- 查看权限show grants <span class="token keyword">for</span> <span class="token string">'kanyme'</span><span class="token punctuation">;</span>-- 修改密码update mysql.user <span class="token keyword">set</span> password <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">'kanyme_new'</span><span class="token punctuation">)</span> where user <span class="token operator">=</span> <span class="token string">'kanyme'</span> and host <span class="token operator">=</span> <span class="token string">'%'</span><span class="token punctuation">;</span>-- 新版alter user<span class="token string">'root'</span>@<span class="token string">'%'</span> identified by <span class="token string">'kanyme_new'</span><span class="token punctuation">;</span>flush privileges<span class="token punctuation">;</span>-- 删除用户drop user kanyme@<span class="token string">'%'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash">-- 修改Root用户密码update mysql.user <span class="token keyword">set</span> authentication_string<span class="token operator">=</span><span class="token string">"kanyme_new"</span> WHERE user<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>flush privileges<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>mysql 5.7.9 之后取消了password 函数，authentication_string=password(“123456”) 会报错</p></blockquote><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p>不想写成不成？</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;最近在使用docker创建mysql服务的时候，发现root是不会给自动开启远程的，并且密码如果少添加一个东西也会不进行初始化。&lt;br&gt;只能手动去修改。&lt;/p&gt;
&lt;p&gt;解决办法为：&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;yml&quot;&gt;# 设置密码加密驱动，原因参见：https://learnku.com/articles/34823
command: --default-authentication-plugin=mysql_native_password&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Maven构建版本保持工具</title>
    <link href="https://kany.me/2020/03/16/maven-build-retention-tool/"/>
    <id>https://kany.me/2020/03/16/maven-build-retention-tool/</id>
    <published>2020-03-16T02:11:28.000Z</published>
    <updated>2021-01-14T08:20:13.282Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>最近在使用自己创建的Maven项目时，发现没有maven的版本管理，也就是传说中的Maven Wrapper。</p><p>mvnw全名是Maven Wrapper,它的原理是在maven-wrapper.properties文件中记录你要使用的Maven版本，当用户执行mvnw clean 命令时，发现当前用户的Maven版本和期望的版本不一致，那么就下载期望的版本，然后用期望的版本来执行mvn命令。</p><a id="more"></a><h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>OS：Windows 10 1909</li><li>Maven：3.5.5</li></ul><h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><h3 id="项目配置式"><a href="#项目配置式" class="headerlink" title="项目配置式"></a>项目配置式</h3><p>在项目的pom.xml文件“build -&gt;plugins ”添加如下内容：</p><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.rimerosolutions.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>wrapper-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.0.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>然后在项目下面执行：</p><pre class="line-numbers language-bash"><code class="language-bash">mvn wrapper:wrapper<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这样执行之后，会自动帮我们生成如下文件：</p><ul><li>mvnw.bat</li><li>mvnw</li><li>maven/maven-wrapper.jar</li><li>maven/maven-wrapper.properties</li></ul><blockquote><p>这样在一个新的机器上面就可以正常使用maven编译项目了。后果是谁用谁知道。</p></blockquote><p><a href="https://mvnrepository.com/artifact/com.rimerosolutions.maven.plugins/wrapper-maven-plugin" target="_blank" rel="noopener">https://mvnrepository.com/artifact/com.rimerosolutions.maven.plugins/wrapper-maven-plugin</a></p><h3 id="全局配置式（推荐）"><a href="#全局配置式（推荐）" class="headerlink" title="全局配置式（推荐）"></a>全局配置式（推荐）</h3><p>大家打开上面的链接会发现作者在2016之后就没有再更新了，现在由 <a href="https://github.com/takari/maven-wrapper" target="_blank" rel="noopener">takari</a> 进行了二次修改，可以使用全局的方式去创建，目前版本为 0.7.7</p><p>直接切换到pom.xml的目录执行如下命令：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 指定maven的版本</span>mvn -N io.takari:maven:0.7.7:wrapper -Dmaven<span class="token operator">=</span>3.5.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>执行之后生成如下文件：</p><ul><li>mvnw.bat</li><li>mvnw</li><li>.mvn/wrapper/maven-wrapper.jar</li><li>.mvn/wrapper/maven-wrapper.properties</li><li>.mvn/wrapper/MavenWrapperDownloader.java</li></ul><p>如果不想有 <strong>.mvn/wrapper/MavenWrapperDownloader.java</strong> 文件可以降低版本：</p><pre class="line-numbers language-bash"><code class="language-bash">mvn -N io.takari:maven:0.5.0:wrapper -Dmaven<span class="token operator">=</span>3.5.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p><font color="red">特别说明：</font>本内容与当前文章无关。</p><h3 id="创建根项目"><a href="#创建根项目" class="headerlink" title="创建根项目"></a>创建根项目</h3><pre class="line-numbers language-bash"><code class="language-bash">mvn archetype:generate -DgroupId<span class="token operator">=</span>me.kany.project -DartifactId<span class="token operator">=</span>kany-project -DarchetypeArtifactId<span class="token operator">=</span>maven-archetype-quickstart -DinteractiveMode<span class="token operator">=</span>false<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="创建子项目（module）"><a href="#创建子项目（module）" class="headerlink" title="创建子项目（module）"></a>创建子项目（module）</h3><pre class="line-numbers language-bash"><code class="language-bash">mvn archetype:generate -DgroupId<span class="token operator">=</span>me.kany.project -DartifactId<span class="token operator">=</span>kany-project-mapper -DarchetypeArtifactId<span class="token operator">=</span>maven-archetype-quickstart -DinteractiveMode<span class="token operator">=</span>false<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><blockquote><p>这里要说明下，这个不能算参考链接，应该说抄袭链接。</p></blockquote><ul><li><a href="https://www.cnblogs.com/EasonJim/p/7620085.html" target="_blank" rel="noopener">mvnw是什么（Maven Wrapper/Maven保持构建工具版本一直的工具）</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;最近在使用自己创建的Maven项目时，发现没有maven的版本管理，也就是传说中的Maven Wrapper。&lt;/p&gt;
&lt;p&gt;mvnw全名是Maven Wrapper,它的原理是在maven-wrapper.properties文件中记录你要使用的Maven版本，当用户执行mvnw clean 命令时，发现当前用户的Maven版本和期望的版本不一致，那么就下载期望的版本，然后用期望的版本来执行mvn命令。&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="maven" scheme="https://kany.me/tags/maven/"/>
    
      <category term="mvn" scheme="https://kany.me/tags/mvn/"/>
    
      <category term="mvnw" scheme="https://kany.me/tags/mvnw/"/>
    
  </entry>
  
  <entry>
    <title>Maven 打包将 system 的文件添加到 war 中</title>
    <link href="https://kany.me/2019/12/06/maven-package-to-add-system-scope-files-to-war/"/>
    <id>https://kany.me/2019/12/06/maven-package-to-add-system-scope-files-to-war/</id>
    <published>2019-12-06T06:44:08.000Z</published>
    <updated>2021-01-14T08:20:13.283Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>在个人的工作中使用了百度的编辑器的jar文件，但是在阿里云的maven镜像中是没有这个文件的，以前自己的私服里面有这个文件。<br>后面使用，<code>&lt;scope&gt;system&lt;/scope&gt;</code> 添加后发现不能打包的war文件中。<br>对于国内的互联网的资料，我个人的意见是能用 <strong>English</strong> 的还是用这样的方式去查询吧。 </p></blockquote><a id="more"></a><h2 id="基础姿势"><a href="#基础姿势" class="headerlink" title="基础姿势"></a>基础姿势</h2><blockquote><p>个人在网络上寻找到的资料很多都是使用 <strong>spring-boot-maven-plugin</strong> 的 plugin ，首先我们来了解下作用域：</p></blockquote><ul><li><strong>compile</strong> 默认的scope，表示  dependency 都可以在生命周期中使用。而且，这些dependencies 会传递到依赖的项目中。适用于所有阶段，会随着项目一起发布 </li><li><strong>provided</strong> 跟compile相似，但是表明了dependency 由JDK或者容器提供，例如Servlet  AP和一些Java EE APIs。这个scope 只能作用在编译和测试时，同时没有传递性。         </li><li><strong>runtime</strong> 表示dependency不作用在编译时，但会作用在运行和测试时，如JDBC驱动，适用运行和测试阶段。 </li><li><strong>test</strong> 表示dependency作用在测试时，不作用在运行时。  只在测试时使用，用于编译和运行测试代码。不会随项目发布。 </li><li><strong>system</strong> 跟provided  相似，但是在系统中要以外部JAR包的形式提供，maven不会在repository查找它。</li></ul><blockquote><p>下面添加一个解决依赖冲突的办法，这个是题外话。</p></blockquote><pre class="line-numbers language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- 这里是举个栗子，我们在添加别人写好的工具类的时候，会自动依赖很多jar，并且和项目本身的jar有冲突，用这个可以解决。其他是本地一定有引用这个jar文件 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hamcrest-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.hamcrest<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><blockquote><p>这边先给出spring-boot-maven-plugin的配置，至于能不能将本地 jar 打入 war 中自己测试（实践出真知）：</p></blockquote><pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>${spring-boot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includeSystemScope</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includeSystemScope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>以下是我本地使用的百度的UE编辑器的jar</p></blockquote><pre class="line-numbers language-xml"><code class="language-xml"><span class="token comment" spellcheck="true">&lt;!-- 百度的编辑器，这个在自己的私服上面，如果要使用的话需要配置 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.baidu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>ueditor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>system<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>systemPath</span><span class="token punctuation">></span></span>${project.basedir}/libs/ueditor-1.1.2.jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>systemPath</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token comment" spellcheck="true">&lt;!-- 记得这个地方要添加版本的，反正我很奇怪没有添加版本是正常运行了 --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.maven.plugins<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>maven-war-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>webResources</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>${project.basedir}/libs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targetPath</span><span class="token punctuation">></span></span>WEB-INF/lib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targetPath</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.jar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>webResources</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>每天花一定的时间来补充点自己遇到的问题。高级的没有弄明白之前不能写出来祸害人。</p></blockquote><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://github.com/shahuwang/blogposts/blob/master/Maven%E4%BD%BF%E7%94%A8%E6%9C%AC%E5%9C%B0jar%E5%8C%85%E5%B9%B6%E6%89%93%E5%8C%85%E8%BF%9Bwar%E5%8C%85%E9%87%8C%E9%9D%A2%E7%9A%84%E6%96%B9%E6%B3%95.md" target="_blank" rel="noopener">Maven使用本地jar包并打包进war包里面的方法</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;在个人的工作中使用了百度的编辑器的jar文件，但是在阿里云的maven镜像中是没有这个文件的，以前自己的私服里面有这个文件。&lt;br&gt;后面使用，&lt;code&gt;&amp;lt;scope&amp;gt;system&amp;lt;/scope&amp;gt;&lt;/code&gt; 添加后发现不能打包的war文件中。&lt;br&gt;对于国内的互联网的资料，我个人的意见是能用 &lt;strong&gt;English&lt;/strong&gt; 的还是用这样的方式去查询吧。 &lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>创作共用许可协议</title>
    <link href="https://kany.me/2019/12/03/creative-commons-license/"/>
    <id>https://kany.me/2019/12/03/creative-commons-license/</id>
    <published>2019-12-03T02:40:04.000Z</published>
    <updated>2021-01-14T08:20:13.273Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>为了学习并升入理解文章创作版权信息，特别书写此篇文章。<br>实现个人的国际化，提升自己的逼格（装13）。嗯，这才是真是的目的。</p></blockquote><a id="more"></a><h2 id="创作共用许可协议"><a href="#创作共用许可协议" class="headerlink" title="创作共用许可协议"></a>创作共用许可协议</h2><blockquote><p>“创作共用许可协议”这个东西是什么呢？</p></blockquote><p>英语：Creative Commons license，简称CC许可。是一种公共版权许可协议，其允许分发受版权保护的作品。<br>一个创作共用许可，用于一个作者想给他人分享、使用、甚至创作派生作品的权利。<br>创作共用提供给作者灵活性（例如，他们可以选择允许非商业用途使用他们的作品），保护使用或重新分配他人作品的人，所以他们只要遵守由作者指定的条件，不必担心侵犯版权。<br>创作共用许可协议有多种不同类型。许可证可以有不同的组合，由分发条款决定。</p><blockquote><p>CC BY-SA 4.0 License</p></blockquote><p>全称为 Creative Commons Attribution-ShareAlike 4.0 International Public License（知识共享 版权归属-相同方式共享 4.0 国际 公共许可证），简称为 CC BY-SA 4.0。</p><h2 id="适用范围"><a href="#适用范围" class="headerlink" title="适用范围"></a>适用范围</h2><p>本许可证适用于自由文化作品，包括但不限于网站、图像、视频、博客、电子文档、书籍、数据集等。</p><h2 id="基本类型"><a href="#基本类型" class="headerlink" title="基本类型"></a>基本类型</h2><blockquote><p>根据该文献整理出来如下基本类型</p></blockquote><table><thead><tr><th align="center">标志</th><th align="center">权利</th><th align="left">备注</th></tr></thead><tbody><tr><td align="center"><img alt="Attribution" src="//upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Cc-by_new.svg/60px-Cc-by_new.svg.png" width="40" height="40" style="border:0px;vertical-align:middle;width:40px;height:40px;"></td><td align="center">Attribution 署名<br>（英语：Attribution，by）</td><td align="left">您（用户）可以复制、发行、展览、表演、放映、广播或通过信息网络传播本作品；<br>您必须按照作者或者许可人指定的方式对作品进行署名。</td></tr><tr><td align="center"><img alt="Share-alike" src="//upload.wikimedia.org/wikipedia/commons/thumb/2/29/Cc-sa.svg/40px-Cc-sa.svg.png" width="40" height="40" style="border:0px;vertical-align:middle;width:40px;height:40px;"></td><td align="center">Share-alike 相同方式共享<br>（英语：ShareAlike，sa）</td><td align="left">您可以自由复制、散布、展示及演出本作品；<br>若您改变、转变或更改本作品，仅在遵守与本作品相同的许可条款下，您才能散布由本作品产生的派生作品。（参见copyleft。）</td></tr><tr><td align="center"><img alt="Non-commercial" src="//upload.wikimedia.org/wikipedia/commons/thumb/d/db/Cc-nc.svg/40px-Cc-nc.svg.png" width="40" height="40" style="border:0px;vertical-align:middle;width:40px;height:40px;"></td><td align="center">Non-commercial 非商业性使用<br>（英语：Noncommercial，nc）</td><td align="left">您可以自由复制、散布、展示及演出本作品；<br>您不得为商业目的而使用本作品。</td></tr><tr><td align="center"><img alt="Non-derivative" src="//upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Cc-nd.svg/60px-Cc-nd.svg.png" width="40" height="40" style="border:0px;vertical-align:middle;width:40px;height:40px;"></td><td align="center">Non-derivative 禁止演绎<br>（英语：No Derivative Works，nd)</td><td align="left">您可以自由复制、散布、展示及演出本作品；<br>您不得改变、转变或更改本作品。</td></tr></tbody></table><h2 id="组合类型"><a href="#组合类型" class="headerlink" title="组合类型"></a>组合类型</h2><table><thead><tr><th align="left">许可协议</th><th align="left">简称</th><th align="left">图标</th><th align="left">自由版权</th></tr></thead><tbody><tr><td align="left">创作共用-署名</td><td align="left">CC-BY</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-by new.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Cc-by_new.svg/25px-Cc-by_new.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">是</td></tr><tr><td align="left">创作共用-署名-相同方式共享</td><td align="left">CC-BY-SA</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-by new.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Cc-by_new.svg/25px-Cc-by_new.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-sa.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Cc-sa.svg/25px-Cc-sa.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">是</td></tr><tr><td align="left">创作共用-署名-非商业性</td><td align="left">CC-BY-NC</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-by new.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Cc-by_new.svg/25px-Cc-by_new.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nc.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Cc-nc.svg/25px-Cc-nc.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">否</td></tr><tr><td align="left">创作共用-署名-禁止演绎</td><td align="left">CC-BY-ND</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-by new.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Cc-by_new.svg/25px-Cc-by_new.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nd.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Cc-nd.svg/25px-Cc-nd.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">否</td></tr><tr><td align="left">创作共用-署名-非商业性-禁止演绎</td><td align="left">CC-BY-NC-ND</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-by new.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Cc-by_new.svg/25px-Cc-by_new.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nc.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Cc-nc.svg/25px-Cc-nc.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nd.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Cc-nd.svg/25px-Cc-nd.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">否</td></tr><tr><td align="left">创作共用-署名-非商业性-相同方式共享</td><td align="left">CC-BY-NC-SA</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-by new.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Cc-by_new.svg/25px-Cc-by_new.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nc.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Cc-nc.svg/25px-Cc-nc.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-sa.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Cc-sa.svg/25px-Cc-sa.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">否</td></tr><tr><td align="left">创作共用-相同方式共享</td><td align="left">CC-SA</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-sa.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Cc-sa.svg/25px-Cc-sa.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">是</td></tr><tr><td align="left">创作共用-非商业性</td><td align="left">CC-NC</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nc.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Cc-nc.svg/25px-Cc-nc.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">否</td></tr><tr><td align="left">创作共用-禁止演绎</td><td align="left">CC-ND</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nd.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Cc-nd.svg/25px-Cc-nd.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">否</td></tr><tr><td align="left">创作共用-非商业性-相同方式共享</td><td align="left">CC-NC-SA</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nc.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Cc-nc.svg/25px-Cc-nc.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-sa.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/29/Cc-sa.svg/25px-Cc-sa.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">否</td></tr><tr><td align="left">创作共用-非商业性-禁止演绎</td><td align="left">CC-NC-ND</td><td align="left"><img alt="Cc.logo.circle.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a3/Cc.logo.circle.svg/25px-Cc.logo.circle.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nc.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/db/Cc-nc.svg/25px-Cc-nc.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;">&nbsp;<img alt="Cc-nd.svg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c7/Cc-nd.svg/25px-Cc-nd.svg.png" width="25" height="25" style="border:0px;vertical-align:middle;"></td><td align="left">否</td></tr></tbody></table><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><ul><li><a href="https://zh.wikipedia.org/wiki/%E5%89%B5%E4%BD%9C%E5%85%B1%E7%94%A8%E6%8E%88%E6%AC%8A%E6%A2%9D%E6%AC%BE" target="_blank" rel="noopener">知识共享许可协议</a></li><li><a href="https://blog.csdn.net/waplyj/article/details/100899165" target="_blank" rel="noopener">关于对CC系列知识共享许可证【CC BY-SA 4.0】 的理解及整理</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;为了学习并升入理解文章创作版权信息，特别书写此篇文章。&lt;br&gt;实现个人的国际化，提升自己的逼格（装13）。嗯，这才是真是的目的。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Git Clone Fatal：Early EOF 解决办法</title>
    <link href="https://kany.me/2019/11/22/git-clone-fatal-early-eof/"/>
    <id>https://kany.me/2019/11/22/git-clone-fatal-early-eof/</id>
    <published>2019-11-22T03:01:53.000Z</published>
    <updated>2021-01-14T08:20:13.279Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>最近在使用git clone项目的时候经常出现“Early EOF”的问题。<br>网上很多是“git config –global core.compression -1”这样的方式，或者修改内存等。<br>这些方式其实都不能很好的解决问题。<br>本文属于一个抄袭类型的文章，请知悉。</p><a id="more"></a><h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>最后采用如下方式解决：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 关闭压缩</span><span class="token function">git</span> config --global core.compression 0<span class="token comment" spellcheck="true"># 然后执行部分clone</span><span class="token function">git</span> clone --depth 1 <span class="token operator">&lt;</span>repo_URI<span class="token operator">></span><span class="token comment" spellcheck="true"># 拉取所有信息</span><span class="token function">git</span> fetch --unshallow <span class="token comment" spellcheck="true"># 拉取全部</span><span class="token function">git</span> pull --all<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>出错原因应该是git版本的问题，msysgit版本1.8.x导致的，因此另一个解决的办法是使用git早起版本，比如git 版本小于1.8.3。</p></blockquote><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.4spaces.org/git-clone-fatal-early-eof/" target="_blank" rel="noopener">git clone fatal: early EOF解决办法</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;最近在使用git clone项目的时候经常出现“Early EOF”的问题。&lt;br&gt;网上很多是“git config –global core.compression -1”这样的方式，或者修改内存等。&lt;br&gt;这些方式其实都不能很好的解决问题。&lt;br&gt;本文属于一个抄袭类型的文章，请知悉。&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>下载所有的JDK版本</title>
    <link href="https://kany.me/2019/11/18/download-all-jdk-version/"/>
    <id>https://kany.me/2019/11/18/download-all-jdk-version/</id>
    <published>2019-11-18T09:00:59.000Z</published>
    <updated>2021-01-14T08:20:13.279Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><p>该文章其实在旧的blog中有写，最近发现自己的使用频次还是很高的，所以把这个文章重新放出来。</p><h2 id="下载地址"><a href="#下载地址" class="headerlink" title="下载地址"></a>下载地址</h2><ul><li>全系列下载地址:<a href="https://www.oracle.com/technetwork/java/javase/archive-139210.html" target="_blank" rel="noopener">https://www.oracle.com/technetwork/java/javase/archive-139210.html</a><a id="more"></a><h2 id="手动寻找"><a href="#手动寻找" class="headerlink" title="手动寻找"></a>手动寻找</h2></li></ul><blockquote><p>打开Oracle的网站“<strong><a href="https://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener">https://www.oracle.com/technetwork/java/javase/downloads/index.html</a></strong>”<br>将页面拉到最底部或者手动搜索“The Java Archive offers access to some of our historical Java releases.”，这个表格的旁边就是下载所有版本的地址。</p></blockquote><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>这样方式去下的文件都需要登录，所以前提是你要有oracle的帐号。</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://jingyan.baidu.com/article/9989c746064d46f648ecfe9a.html" target="_blank" rel="noopener">如何在官网下载java JDK的历史版本</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;p&gt;该文章其实在旧的blog中有写，最近发现自己的使用频次还是很高的，所以把这个文章重新放出来。&lt;/p&gt;
&lt;h2 id=&quot;下载地址&quot;&gt;&lt;a href=&quot;#下载地址&quot; class=&quot;headerlink&quot; title=&quot;下载地址&quot;&gt;&lt;/a&gt;下载地址&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;全系列下载地址:&lt;a href=&quot;https://www.oracle.com/technetwork/java/javase/archive-139210.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.oracle.com/technetwork/java/javase/archive-139210.html&lt;/a&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>软件的Key</title>
    <link href="https://kany.me/2019/10/22/soft-keys/"/>
    <id>https://kany.me/2019/10/22/soft-keys/</id>
    <published>2019-10-22T04:12:13.000Z</published>
    <updated>2021-01-14T08:20:13.287Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软件背景"><a href="#软件背景" class="headerlink" title="软件背景"></a>软件背景</h2><blockquote><p>没有什么背景，只是想分享一下而已</p></blockquote><h2 id="Charles-青花瓷"><a href="#Charles-青花瓷" class="headerlink" title="Charles(青花瓷)"></a>Charles(青花瓷)</h2><pre class="line-numbers language-bash"><code class="language-bash">用户名：https://kany.me序列号：46fb847a7daf78ee11<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><a id="more"></a><h2 id="WinRar-5-x-x"><a href="#WinRar-5-x-x" class="headerlink" title="WinRar(5.x.x)"></a>WinRar(5.x.x)</h2><blockquote><p>将文件保存成<strong>rarreg.key</strong></p></blockquote><pre class="line-numbers language-bash"><code class="language-bash">RAR registration datahttps://kany.meUnlimited Company LicenseUID<span class="token operator">=</span>a9f1d30e13c168865d5464122122505d5453a37f84fd6cc174aaa975a770a5b063e19d9eeed5fb3c295a0a17441ed460fce6cb5ffde62890079861be576387177131ced835ed65cc743d9777f2ea71a8e32c7e593cf66794343565b41bcf56929486b8bcdac33d50ecf77399602d73a67392b92ce7c1e3c80a006e5ad4c350f13f8b0904263464a0b7acf3d277c581811d1da3f0fa5e6c4319447fade6c82322b6bd96bee8f43b30ab6041630eb4afa8989b0eaa53054b3985cae27c7e04cfa248001932106284<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;软件背景&quot;&gt;&lt;a href=&quot;#软件背景&quot; class=&quot;headerlink&quot; title=&quot;软件背景&quot;&gt;&lt;/a&gt;软件背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;没有什么背景，只是想分享一下而已&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Charles-青花瓷&quot;&gt;&lt;a href=&quot;#Charles-青花瓷&quot; class=&quot;headerlink&quot; title=&quot;Charles(青花瓷)&quot;&gt;&lt;/a&gt;Charles(青花瓷)&lt;/h2&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;用户名：https://kany.me
序列号：46fb847a7daf78ee11&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
    
      <category term="charles" scheme="https://kany.me/tags/charles/"/>
    
      <category term="key" scheme="https://kany.me/tags/key/"/>
    
      <category term="keygen" scheme="https://kany.me/tags/keygen/"/>
    
  </entry>
  
  <entry>
    <title>Docker Compose 部署 Redis 及原理讲解</title>
    <link href="https://kany.me/2019/10/16/docker-compose-redis/"/>
    <id>https://kany.me/2019/10/16/docker-compose-redis/</id>
    <published>2019-10-16T06:48:11.000Z</published>
    <updated>2021-01-14T08:20:13.275Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>Redis是我们常用的一个NoSql的数据库，我个人在开发中也经常使用。<br>目前算是一个比较常用的工具了，我个人经常安装是单机版的，也没有什么集群的思想在里面，这篇文章的意思是自己在配置集群过程中的一点记录。<br>文章中的大部分内容算是抄袭的，如有侵权，可留言删除。原文链接在参考资料当中。<br>本文很长，没有耐心的直接右下角目录选择自己想看的部分。</p></blockquote><h2 id="Redis的集群方式"><a href="#Redis的集群方式" class="headerlink" title="Redis的集群方式"></a>Redis的集群方式</h2><blockquote><p>在网络搜索资料的时候看到 <strong><a href="https://www.cnblogs.com/51life" target="_blank" rel="noopener">51life</a></strong> 的文章中写到目前Redis的集群方式有三种，我个人目前也没有进行什么深入的理解，先直接抄袭然后再去研究是不是如文章中所说的</p><ul><li>主从复制</li><li>哨兵模式</li><li>Redis-Cluster集群</li></ul></blockquote><a id="more"></a><h3 id="主从复制"><a href="#主从复制" class="headerlink" title="主从复制"></a>主从复制</h3><blockquote><p>主从复制的，从名称上就可以看出来有一个主库一个从库，数据上应该是一致的。一般可以用来做数据备份等。在2.8之前和之后有<strong>SYNC</strong>和<strong>PSYNC</strong>的区别<br>需要持续了解的请查看<a href="https://www.cnblogs.com/amei0/p/8177076.html" target="_blank" rel="noopener">Redis（二）集群 redis-cluster &amp; redis主从同步</a></p></blockquote><h4 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h4><ul><li>从服务器连接主服务器，发送SYNC命令； </li><li>主服务器接收到SYNC命名后，开始执行BGSAVE命令生成RDB文件并使用缓冲区记录此后执行的所有写命令； </li><li>主服务器BGSAVE执行完后，向所有从服务器发送快照文件，并在发送期间继续记录被执行的写命令； </li><li>从服务器收到快照文件后丢弃所有旧数据，载入收到的快照； </li><li>主服务器快照发送完毕后开始向从服务器发送缓冲区中的写命令； </li><li>从服务器完成对快照的载入，开始接收命令请求，并执行来自主服务器缓冲区的写命令；<strong>（从服务器初始化完成）</strong></li><li>主服务器每执行一个写命令就会向从服务器发送相同的写命令，从服务器接收并执行收到的写命令。<strong>（从服务器初始化完成后的操作）</strong></li></ul><h4 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h4><ul><li>支持主从复制，主机会自动将数据同步到从机，可以进行读写分离；</li><li>为了分载Master的读操作压力，Slave服务器可以为客户端提供只读操作的服务，写服务仍然必须由Master来完成；</li><li>Slave同样可以接受其它Slaves的连接和同步请求，这样可以有效的分载Master的同步压力；</li><li>Master Server是以非阻塞的方式为Slaves提供服务。所以在Master-Slave同步期间，客户端仍然可以提交查询或修改请求；</li><li>Slave Server同样是以非阻塞的方式完成数据同步。在同步期间，如果有客户端提交查询请求，Redis则返回同步之前的数据。</li></ul><h4 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h4><ul><li>Redis不具备自动容错和恢复功能，主机从机的宕机都会导致前端部分读写请求失败，需要等待机器重启或者手动切换前端的IP才能恢复。</li><li>主机宕机，宕机前有部分数据未能及时同步到从机，切换IP后还会引入数据不一致的问题，降低了系统的可用性。</li><li>Redis较难支持在线扩容，在集群容量达到上限时在线扩容会变得很复杂。</li></ul><h3 id="哨兵模式"><a href="#哨兵模式" class="headerlink" title="哨兵模式"></a>哨兵模式</h3><blockquote><p>当主服务器中断服务后，可以将一个从服务器升级为主服务器，以便继续提供服务，但是这个过程需要人工手动来操作。<br>为此，Redis 2.8中提供了哨兵工具来实现自动化的系统监控和故障恢复功能。<br>哨兵的作用就是监控Redis系统的运行状况。它的功能包括以下两个：</p><ul><li>监控主服务器和从服务器是否正常运行；</li><li>主服务器出现故障时自动将从服务器转换为主服务器。</li></ul></blockquote><h4 id="工作方式"><a href="#工作方式" class="headerlink" title="工作方式"></a>工作方式</h4><ul><li>每个Sentinel（哨兵）进程以每秒钟一次的频率向整个集群中的Master主服务器，Slave从服务器以及其他Sentinel（哨兵）进程发送一个 PING 命令。</li><li>如果一个实例（instance）距离最后一次有效回复 PING 命令的时间超过 down-after-milliseconds 选项所指定的值， 则这个实例会被 Sentinel（哨兵）进程标记为主观下线（SDOWN）</li><li>如果一个Master主服务器被标记为主观下线（SDOWN），则正在监视这个Master主服务器的所有 Sentinel（哨兵）进程要以每秒一次的频率确认Master主服务器的确进入了主观下线状态</li><li>当有足够数量的 Sentinel（哨兵）进程（大于等于配置文件指定的值）在指定的时间范围内确认Master主服务器进入了主观下线状态（SDOWN）， 则Master主服务器会被标记为客观下线（ODOWN）</li><li>在一般情况下， 每个 Sentinel（哨兵）进程会以每 10 秒一次的频率向集群中的所有Master主服务器、Slave从服务器发送 INFO 命令。</li><li>当Master主服务器被 Sentinel（哨兵）进程标记为客观下线（ODOWN）时，Sentinel（哨兵）进程向下线的 Master主服务器的所有 Slave从服务器发送 INFO 命令的频率会从 10 秒一次改为每秒一次。</li><li>若没有足够数量的 Sentinel（哨兵）进程同意 Master主服务器下线， Master主服务器的客观下线状态就会被移除。若 Master主服务器重新向 Sentinel（哨兵）进程发送 PING 命令返回有效回复，Master主服务器的主观下线状态就会被移除。</li></ul><h4 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h4><ul><li>哨兵模式是基于主从模式的，所有主从的优点，哨兵模式都具有；</li><li>主从可以自动切换，系统更健壮，可用性更高。</li></ul><h4 id="缺点-2"><a href="#缺点-2" class="headerlink" title="缺点"></a>缺点</h4><ul><li>Redis较难支持在线扩容，在集群容量达到上限时在线扩容会变得很复杂。</li></ul><h3 id="Redis-Cluster集群"><a href="#Redis-Cluster集群" class="headerlink" title="Redis-Cluster集群"></a>Redis-Cluster集群</h3><blockquote><p>redis的哨兵模式基本已经可以实现高可用，读写分离，但是在这种模式下每台redis服务器都存储相同的数据，很浪费内存，所以在redis3.0上加入了cluster模式，实现的redis的分布式存储，也就是说每台redis节点上存储不同的内容。</p></blockquote><p><strong>Redis-Cluster采用无中心结构,它的特点如下：</strong></p><ul><li>所有的redis节点彼此互联(PING-PONG机制),内部使用二进制协议优化传输速度和带宽；</li><li>节点的fail是通过集群中超过半数的节点检测失效时才生效；</li><li>客户端与redis节点直连,不需要中间代理层.客户端不需要连接集群所有节点,连接集群中任何一个可用节点即可。</li></ul><h4 id="工作方式-1"><a href="#工作方式-1" class="headerlink" title="工作方式"></a>工作方式</h4><p> 在redis的每一个节点上，都有这么两个东西，一个是插槽（slot），它的的取值范围是：0-16383。<br> 还有一个就是cluster，可以理解为是一个集群管理的插件。<br> 当我们的存取的key到达的时候，redis会根据crc16的算法得出一个结果，然后把结果对16384求余数，这样每个key都会对应一个编号在0-16383之间的哈希槽，通过这个值，去找到对应的插槽所对应的节点，然后直接自动跳转到这个对应的节点上进行存取操作。<br> 为了保证高可用，redis-cluster集群引入了主从模式，一个主节点对应一个或者多个从节点，当主节点宕机的时候，就会启用从节点。<br> 当其它主节点ping一个主节点A时，如果半数以上的主节点与A通信超时，那么认为主节点A宕机了。<br> 如果主节点A和它的从节点A1都宕机了，那么该集群就无法再提供服务了。</p><h2 id="Redis之缓存穿透、缓存击穿与缓存雪崩"><a href="#Redis之缓存穿透、缓存击穿与缓存雪崩" class="headerlink" title="Redis之缓存穿透、缓存击穿与缓存雪崩"></a>Redis之缓存穿透、缓存击穿与缓存雪崩</h2><blockquote><p>为什么要将这个放置到这里呢？这个是在面试的时候经常遇到的，且在我们安装或者配置Redis的配置文件时起到决定作用。<br>这里依然要感谢作者 <strong><a href="https://www.cnblogs.com/51life" target="_blank" rel="noopener">51life</a></strong>，说的直白点，如果他不写，我怎么抄袭？<br>开玩笑的，这个东西是方便自己学习的，参考资料中也有他原文的链接。</p></blockquote><h3 id="缓存穿透"><a href="#缓存穿透" class="headerlink" title="缓存穿透"></a>缓存穿透</h3><blockquote><p>缓存穿透，是指查询一个不存在的数据，由于数据不存在，所以数据不会被缓存，每次查询都是从数据库中去查询。<br>如果有人利用这个存在的漏洞去伪造大量的请求，那么很可能导致DB承受不了那么大的流量就挂掉了。</p></blockquote><h4 id="解决方案："><a href="#解决方案：" class="headerlink" title="解决方案："></a><strong>解决方案：</strong></h4><ul><li>事前预防：对所有请求进行参数校验（页面或者接口中），拒绝非法请求；</li><li>事后预防：当查询到一个空的结果时，我们仍然将这个空的结果进行缓存，但是设置一个很短的过期时间。</li></ul><h3 id="缓存击穿"><a href="#缓存击穿" class="headerlink" title="缓存击穿"></a>缓存击穿</h3><blockquote><p>缓存击穿，就是在热点key失效的瞬间，海量的请求访问数据库，导致数据库崩溃。</p></blockquote><h4 id="解决方案：-1"><a href="#解决方案：-1" class="headerlink" title="解决方案："></a><strong>解决方案：</strong></h4><ul><li>互斥锁：是在缓存KEY过期去更新的时候，先让程序去获取锁，只有获取到锁的线程才有资格去更新缓存KEY。其他没有获取到锁的线程则休眠片刻之后再次去获取最新的缓存数据。通过这种方式，同一时刻永远只有一个线程会去读取数据库，这样也就避免了海量数据库请求对于数据库的冲击。</li><li>永不过期：将缓存设置为永不过期，通过定时任务去同步缓存和数据库的数据。</li></ul><h3 id="缓存雪崩"><a href="#缓存雪崩" class="headerlink" title="缓存雪崩"></a>缓存雪崩</h3><blockquote><p>缓存雪崩，是指我们设置缓存时采用了相同的过期时间，导致很多key在某一时刻同时失效，请求全部转发到数据库，最终导致数据库瞬时压力过大而崩溃。</p></blockquote><h4 id="解决方案：-2"><a href="#解决方案：-2" class="headerlink" title="解决方案："></a><strong>解决方案：</strong></h4><ul><li>在原有失效时间的基础上增加一个随机时间（例如1-5分钟），这样每个缓存过期时间的重复率就会降低，从而减少缓存雪崩的发生。</li></ul><p><strong>总结：</strong>缓存穿透是业务层面的漏洞导致非法请求，与请求量、缓存失效没关系。缓存击穿则只会出现在热点数据上，发生在缓存失效的瞬间，与业务没多大关系。缓存雪崩则是因为多个 KEY 同时失效，导致数据库请求太多。非热点数据也会导致缓存雪崩，只要同时失效的 KEY 足够多。</p><h2 id="Redis的配置说明"><a href="#Redis的配置说明" class="headerlink" title="Redis的配置说明"></a>Redis的配置说明</h2><blockquote><p>看到上面的资料之后应该很多人明白了怎么去选择Redis的集群方式，那么现在我们来抄袭<strong>“<a href="https://blog.csdn.net/shaonianbz/article/details/80210069" target="_blank" rel="noopener">Redis的集群与主从复制（附Redis持久化）</a>”</strong>一文中对配置文件的讲解。<br>如果想要了解更多，请查看<a href="https://www.cnblogs.com/amei0/p/8118739.html" target="_blank" rel="noopener">Redis（一） 数据结构与底层存储 &amp; 事务 &amp; 持久化 &amp; lua</a>，这比较全面</p></blockquote><h3 id="Redis持久化"><a href="#Redis持久化" class="headerlink" title="Redis持久化"></a>Redis持久化</h3><blockquote><p>Redis默认的方式，redis通过快照来将数据持久化到磁盘中。</p></blockquote><p>设置持久化快照的条件：在redis.conf中修改持久化快照的条件，如下：</p><pre class="line-numbers language-bash"><code class="language-bash">save 900 1 <span class="token comment" spellcheck="true"># 900秒内操作1次，将数据写入磁盘</span>save 300 10 <span class="token comment" spellcheck="true"># 300秒内操作10次，将数据写入磁盘</span>save 60 10000 <span class="token comment" spellcheck="true"># 60秒内操作10000次，将数据写入磁盘</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>持久化文件存储的目录：在redis.conf中可以指定持久化文件存储的目录：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 当持久化出现错误之后，是否继续提供写服务</span>stop-writes-on-bgsave-error no<span class="token comment" spellcheck="true"># 写的时候是否压缩</span>rdbcompression <span class="token function">yes</span><span class="token comment" spellcheck="true"># 数据存储到磁盘上的文件名称</span>dbfilename dump.rdb<span class="token comment" spellcheck="true"># 存储数据的目录，这是相对于当前执行目录的</span><span class="token function">dir</span> ./<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>一旦redis被非法关闭，那么会丢失最后一次持久化之后的数据。如果数据不重要的情况，可以不必理会。但数据不能丢失需要开启redis的aof。<br><strong>实际在项目中也是两个一起使用的。</strong></p><h3 id="AOF方式"><a href="#AOF方式" class="headerlink" title="AOF方式"></a>AOF方式</h3><p>Redis默认是不使用该方式持久化的。Aof方式的持久化，是操作一次redis数据库，则将该操作的记录存储到aof持久化文件中。</p><p>开启aof方式的持久化方案：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># AOF的开关</span>appendonly no<span class="token comment" spellcheck="true"># AOF文件的名字</span>appendfilename <span class="token string">"appendonly.aof"</span><span class="token comment" spellcheck="true"># 控制Redis调用fsync的频率（fsync：将数据从缓冲区写到磁盘）</span>appendfsync everysec<span class="token comment" spellcheck="true"># 控制当执行重写时是否阻止调用fsync</span>no-appendfsync-on-rewrite no<span class="token comment" spellcheck="true"># 用于控制AOF文件的自动重写规则</span>auto-aof-rewrite-percentage 100<span class="token comment" spellcheck="true"># 用于控制AOF重写的最小文件大小。</span>auto-aof-rewrite-min-size  64mb<span class="token comment" spellcheck="true"># 当aof-load-truncated被设置为yes时，Redis发现了问题之后会从AOF文件中尽可能地加载更多的数据</span><span class="token comment" spellcheck="true"># 然后在log文件里记录这次错误。</span>aof-load-truncated <span class="token function">yes</span><span class="token comment" spellcheck="true"># 配置AOF文件保存的路径。RDB产生的文件也会被保存到这个路径下面</span><span class="token function">dir</span> ./<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>appendfsync的三种模式：</strong></p><ul><li><strong>no</strong>：从不调用fsync，由操作系统自行决定什么时候将缓冲区里的数据写入文件。大多数Linux系统是每30秒进行一次。这种模式的速度最快，效率最高，但是不能保证数据安全。</li><li><strong>always</strong>：每次执行写操作之后都调用fsync。这种模式最慢，但也是最安全的，可以保证出错时最多只损失一次操作。这种模式由于不断地写入少量数据，会严重缩短固态硬盘的寿命。</li><li><strong>everysec</strong>：每一秒调用一次fsync。是一种折中的方案，也是配置文件的默认值。当fsync调用时长超过一秒时，Redis会延迟下一次fsync的调用到下一秒。</li></ul><h4 id="AOF的优点："><a href="#AOF的优点：" class="headerlink" title="AOF的优点："></a>AOF的优点：</h4><p>AOF可以将数据的损失降到最低</p><h4 id="AOF的缺点："><a href="#AOF的缺点：" class="headerlink" title="AOF的缺点："></a>AOF的缺点：</h4><p>比RDB更占用存储空间、加载速度慢（一是因为存储的命令较多，二是因为编码格式与内存不一致，还需要处理编码）</p><h2 id="Docker-配置-Redis-哨兵集群"><a href="#Docker-配置-Redis-哨兵集群" class="headerlink" title="Docker 配置 Redis 哨兵集群"></a>Docker 配置 Redis 哨兵集群</h2><p>这里没有配置存放磁盘保存什么的，正常是需要配置的。</p><h3 id="主从模式"><a href="#主从模式" class="headerlink" title="主从模式"></a>主从模式</h3><p>配置文件如下：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 版本</span>version: <span class="token string">'3.1'</span><span class="token comment" spellcheck="true"># 服务配置</span>services:  <span class="token comment" spellcheck="true"># RedisMaster配置</span>  master:    <span class="token comment" spellcheck="true"># 镜像名称</span>    image: redis    <span class="token comment" spellcheck="true"># 容器名称</span>    container_name: redis-master    <span class="token comment" spellcheck="true"># 是否开机启动</span>    restart: always    <span class="token comment" spellcheck="true"># 执行命令</span>    command: redis-server --port 6379 --requirepass 密码    <span class="token comment" spellcheck="true"># 端口映射</span>    ports:      - 6379:6379    networks:      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      redis:        <span class="token comment" spellcheck="true"># ipv4的ip地址</span>        ipv4_address: 172.18.1.2  slave1:    <span class="token comment" spellcheck="true"># 镜像名称</span>    image: redis    <span class="token comment" spellcheck="true"># 容器名称</span>    container_name: redis-slave-6380    <span class="token comment" spellcheck="true"># 是否开机启动</span>    restart: always    <span class="token comment" spellcheck="true"># 执行命令</span>    command: redis-server --slaveof 172.18.1.2 6379 --port 6380 --requirepass 密码 --masterauth 密码    <span class="token comment" spellcheck="true"># 端口映射</span>    ports:      - 6380:6379    networks:      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      redis:        <span class="token comment" spellcheck="true"># ipv4的ip地址</span>        ipv4_address: 172.18.1.3  slave2:    <span class="token comment" spellcheck="true"># 镜像名称</span>    image: redis    <span class="token comment" spellcheck="true"># 容器名称</span>    container_name: redis-slave-6381    <span class="token comment" spellcheck="true"># 是否开机启动</span>    restart: always    <span class="token comment" spellcheck="true"># 执行命令</span>    command: redis-server --slaveof 172.18.1.2 6379 --port 6381 --requirepass 密码 --masterauth 密码    <span class="token comment" spellcheck="true"># 端口映射</span>    ports:      - 6381:6379    networks:      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      redis:        <span class="token comment" spellcheck="true"># ipv4的ip地址</span>        ipv4_address: 172.18.1.4<span class="token comment" spellcheck="true">#定义网络组</span>networks:  <span class="token comment" spellcheck="true"># 网络组名称</span>  redis:    <span class="token comment" spellcheck="true"># 网络的模式</span>    driver: bridge    <span class="token comment" spellcheck="true"># 配置网络</span>    ipam:      driver: default      config:        <span class="token comment" spellcheck="true">## ip地址网络 这里宿主机一般会是该网段的 172.18.1.1,所以不要设置自网段为1</span>        - subnet: 172.18.1.0/24<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Sentinel"><a href="#Sentinel" class="headerlink" title="Sentinel"></a>Sentinel</h3><pre class="line-numbers language-bash"><code class="language-bash">port 26379<span class="token function">dir</span> <span class="token string">"/tmp"</span><span class="token comment" spellcheck="true"># 自定义集群名，其中 127.0.0.1 为 redis-master 的 ip，6379 为 redis-master 的端口，2 为最小投票数（因为有 3 台 Sentinel 所以可以设置成 2）</span>sentinel monitor mymaster 172.18.1.2 6379 2sentinel down-after-milliseconds mymaster 30000sentinel parallel-syncs mymaster 1sentinel auth-pass mymaster 密码sentinel failover-timeout mymaster 180000sentinel deny-scripts-reconfig <span class="token function">yes</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>记得复制三份文件。</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 版本</span>version: <span class="token string">'3.1'</span><span class="token comment" spellcheck="true"># 服务配置</span>services:  <span class="token comment" spellcheck="true"># sentinel配置</span>  sentinel-1:    <span class="token comment" spellcheck="true"># 镜像名称</span>    image: redis    <span class="token comment" spellcheck="true"># 容器名称</span>    container_name: redis-sentinel-1    <span class="token comment" spellcheck="true"># 是否开机启动</span>    restart: always    <span class="token comment" spellcheck="true"># 文件夹映射</span>    volumes:      - ./sentinel1.conf:/usr/local/etc/redis/sentinel.conf    <span class="token comment" spellcheck="true"># 执行命令</span>    command: redis-sentinel /usr/local/etc/redis/sentinel.conf    <span class="token comment" spellcheck="true"># 端口映射</span>    ports:      - 26379:26379    networks:      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      - redis  sentinel-2:    <span class="token comment" spellcheck="true"># 镜像名称</span>    image: redis    <span class="token comment" spellcheck="true"># 容器名称</span>    container_name: redis-sentinel-2    <span class="token comment" spellcheck="true"># 是否开机启动</span>    restart: always    <span class="token comment" spellcheck="true"># 文件夹映射</span>    volumes:      - ./sentinel2.conf:/usr/local/etc/redis/sentinel.conf    <span class="token comment" spellcheck="true"># 执行命令</span>    command: redis-sentinel /usr/local/etc/redis/sentinel.conf    <span class="token comment" spellcheck="true"># 端口映射</span>    ports:      - 26380:26379    networks:      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      - redis  sentinel-3:    <span class="token comment" spellcheck="true"># 镜像名称</span>    image: redis    <span class="token comment" spellcheck="true"># 容器名称</span>    container_name: redis-sentinel-3    <span class="token comment" spellcheck="true"># 是否开机启动</span>    restart: always    <span class="token comment" spellcheck="true"># 文件夹映射</span>    volumes:      - ./sentinel3.conf:/usr/local/etc/redis/sentinel.conf    <span class="token comment" spellcheck="true"># 执行命令</span>    command: redis-sentinel /usr/local/etc/redis/sentinel.conf    <span class="token comment" spellcheck="true"># 端口映射</span>    ports:      - 26381:26379    networks:      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      - redisnetworks:  redis:    external:      name: redis_redis<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.cnblogs.com/51life/p/10233340.html" target="_blank" rel="noopener">redis的三种集群方式</a></li><li><a href="https://blog.csdn.net/q649381130/article/details/79931791" target="_blank" rel="noopener">redis：详解三种集群策略</a></li><li><a href="https://www.cnblogs.com/51life/p/10232976.html" target="_blank" rel="noopener">缓存穿透、缓存击穿与缓存雪崩</a></li><li><a href="https://www.cnblogs.com/amei0/p/8118739.html" target="_blank" rel="noopener">Redis（一） 数据结构与底层存储 &amp; 事务 &amp; 持久化 &amp; lua</a></li><li><a href="https://www.cnblogs.com/amei0/p/8177076.html" target="_blank" rel="noopener">Redis（二）集群 redis-cluster &amp; redis主从同步</a></li><li><a href="https://blog.csdn.net/imxiangzi/article/details/52400877" target="_blank" rel="noopener">Redis主从复制总结整理</a></li><li><a href="https://blog.csdn.net/qq_15204179/article/details/84099735" target="_blank" rel="noopener">Redis集群的搭建与主从复制，redis-cluster</a></li><li><a href="https://blog.csdn.net/ztsinghua/article/details/48134377" target="_blank" rel="noopener">Codis作者黄东旭细说分布式Redis架构设计和踩过的那些坑们</a></li><li><a href="https://blog.csdn.net/shaonianbz/article/details/80210069" target="_blank" rel="noopener">Redis的集群与主从复制（附Redis持久化）</a></li><li><a href="https://blog.csdn.net/qq_35946990/article/details/78957618" target="_blank" rel="noopener">Redis-使用redis-trib构建集群</a></li><li><a href="https://www.cnblogs.com/dukuan/p/10119348.html" target="_blank" rel="noopener">Redis主从同步及哨兵原理</a></li><li><a href="https://blog.csdn.net/weixin_41622183/article/details/86600515" target="_blank" rel="noopener">docke实战篇（五）–docker-compose搭建redis哨兵集群</a></li><li>[]</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Redis是我们常用的一个NoSql的数据库，我个人在开发中也经常使用。&lt;br&gt;目前算是一个比较常用的工具了，我个人经常安装是单机版的，也没有什么集群的思想在里面，这篇文章的意思是自己在配置集群过程中的一点记录。&lt;br&gt;文章中的大部分内容算是抄袭的，如有侵权，可留言删除。原文链接在参考资料当中。&lt;br&gt;本文很长，没有耐心的直接右下角目录选择自己想看的部分。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Redis的集群方式&quot;&gt;&lt;a href=&quot;#Redis的集群方式&quot; class=&quot;headerlink&quot; title=&quot;Redis的集群方式&quot;&gt;&lt;/a&gt;Redis的集群方式&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;在网络搜索资料的时候看到 &lt;strong&gt;&lt;a href=&quot;https://www.cnblogs.com/51life&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;51life&lt;/a&gt;&lt;/strong&gt; 的文章中写到目前Redis的集群方式有三种，我个人目前也没有进行什么深入的理解，先直接抄袭然后再去研究是不是如文章中所说的&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;主从复制&lt;/li&gt;
&lt;li&gt;哨兵模式&lt;/li&gt;
&lt;li&gt;Redis-Cluster集群&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="docker" scheme="https://kany.me/tags/docker/"/>
    
      <category term="docker-compose" scheme="https://kany.me/tags/docker-compose/"/>
    
      <category term="dockerfile" scheme="https://kany.me/tags/dockerfile/"/>
    
      <category term="redis" scheme="https://kany.me/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>源码编译Redis Desktop Manager</title>
    <link href="https://kany.me/2019/10/10/compile-redis-desktop-manager/"/>
    <id>https://kany.me/2019/10/10/compile-redis-desktop-manager/</id>
    <published>2019-10-10T09:08:35.000Z</published>
    <updated>2021-01-22T02:59:13.788Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>2020年10月21日删除本站关于编译redis-desktop-manager的文章，网络上应该还有很多人在编译，目前本站删除。</p></blockquote><a id="more"></a><h2 id="成品下载"><a href="#成品下载" class="headerlink" title="成品下载"></a>成品下载</h2><blockquote><p><del>编译成品放置到全球最大的同性交友网站 “<a href="https://github.com/kanyways/rdm" target="_blank" rel="noopener">GitHub</a>”</del></p></blockquote><h2 id="重要更新"><a href="#重要更新" class="headerlink" title="重要更新"></a>重要更新</h2><p>本文的“创作共用许可协议”从原始的“BY-NC-SA”更新为“BY-NC-ND”</p><h2 id="特别感谢"><a href="#特别感谢" class="headerlink" title="特别感谢"></a>特别感谢</h2><ul><li>2020-01-06 感谢<font color="red"><strong>*香</strong></font>童鞋的微信8.88元打赏，感谢肯定。</li><li>2020-01-06 感谢<font color="red"><strong>C*n</strong></font>童鞋的微信1元打赏，感谢肯定。</li><li>2019-11-28 感谢<font color="red"><strong>*富锋</strong></font>童鞋的支付宝15元打赏，感谢肯定。</li><li>2019-11-28 感谢<font color="red"><strong>*超芸</strong></font>童鞋的支付宝10元打赏，感谢肯定。</li><li>2019-11-28 感谢<font color="red"><strong>*长远</strong></font>童鞋的支付宝10元打赏，感谢肯定。</li><li>2019-11-25 感谢<font color="red"><strong>*建平</strong></font>童鞋的支付宝10元打赏，感谢肯定。</li><li>2019-11-22 感谢<font color="red"><strong>*剑波</strong></font>童鞋的支付宝10元打赏，感谢肯定。</li><li>2019-11-21 感谢<font color="red"><strong>*宸</strong></font>童鞋的微信5元打赏，感谢肯定。</li><li>2019-11-21 感谢<font color="red"><strong>*小云</strong></font>童鞋的支付宝10元打赏，感谢肯定。</li><li>2019-11-12 感谢<font color="red"><strong>*嘟</strong></font>童鞋的微信5元打赏，感谢肯定。</li><li>2019-11-12 感谢<font color="red"><strong>*宏刚</strong></font>童鞋的微信27.76元打赏，感谢肯定。</li><li>2019-08-30 感谢<font color="red"><strong>*纯夫</strong></font>童鞋的支付宝5元打赏，感谢肯定。</li></ul><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="http://docs.redisdesktop.com/en/latest/install/" target="_blank" rel="noopener">官方文档</a></li><li><a href="http://ccimage.cn/2019-01/macosx-redis-desktop-manager-build-from-source.html" target="_blank" rel="noopener">Macbook编译Redis Desktop Manager源码步骤及问题解决</a></li><li><a href="https://www.jianshu.com/p/95d218d46d3b" target="_blank" rel="noopener">MAC 下编译 RedisDesktopMmanager 最新版</a></li><li><a href="https://blog.csdn.net/ani_di/article/details/7078743" target="_blank" rel="noopener">解决 “dyld: Library not loaded: ” 错误</a></li><li><a href="https://blog.csdn.net/linuxheik/article/details/74626996" target="_blank" rel="noopener">cmake构建时指定编译器架构</a></li><li><a href="https://blog.csdn.net/sailorhdx/article/details/81538131" target="_blank" rel="noopener">WIN10+QT5.9+VS2015编译RedisDesktopManager</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;2020年10月21日删除本站关于编译redis-desktop-manager的文章，网络上应该还有很多人在编译，目前本站删除。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="macOS" scheme="https://kany.me/tags/macOS/"/>
    
      <category term="mojave" scheme="https://kany.me/tags/mojave/"/>
    
      <category term="redis" scheme="https://kany.me/tags/redis/"/>
    
      <category term="qt" scheme="https://kany.me/tags/qt/"/>
    
      <category term="rdm" scheme="https://kany.me/tags/rdm/"/>
    
      <category term="Source" scheme="https://kany.me/tags/Source/"/>
    
      <category term="Compile" scheme="https://kany.me/tags/Compile/"/>
    
  </entry>
  
  <entry>
    <title>iPhone手机上安装旧版本App</title>
    <link href="https://kany.me/2019/10/10/iphone-install-old-app/"/>
    <id>https://kany.me/2019/10/10/iphone-install-old-app/</id>
    <published>2019-10-10T08:57:48.000Z</published>
    <updated>2021-01-14T08:20:13.280Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>本文其实在<a href="https://blog.kany.me" target="_blank" rel="noopener">旧博客</a>上有发表的，但是为了完善<strong>Github Pages</strong>所以重新来一遍。</p></blockquote><h2 id="准备软件"><a href="#准备软件" class="headerlink" title="准备软件"></a>准备软件</h2><ul><li><a href="https://baidu.com" target="_blank" rel="noopener">iTunes 12.6.5.3</a></li><li><a href="https://www.telerik.com/fiddler" target="_blank" rel="noopener">Fiddler 安装版</a><a id="more"></a><blockquote><p>旧版博客中有文件下载地址，这里就不提供了，毕竟空间有限。</p></blockquote></li></ul><blockquote><p>本文以QQ安装旧版举例</p></blockquote><h2 id="查询旧版App的版本号"><a href="#查询旧版App的版本号" class="headerlink" title="查询旧版App的版本号"></a>查询旧版App的版本号</h2><p>打开<strong><a href="https://tools.lancely.tech/apple/app-search" target="_blank" rel="noopener">https://tools.lancely.tech/apple/app-search</a></strong>输入QQ</p><p><img src="/assets/images/iphone/0001.jpg" alt="img"></p><p>在iTunes中搜索QQ<br><img src="/assets/images/iphone/0002.png" alt="img"></p><p>按照下文中的资料配置<code>Fiddler</code>，记住要开启HTTPS的代理，在下图红色箭头处输入<code>bpu MZBuy.woa</code>开启拦截。</p><p><img src="/assets/images/iphone/0003.jpg" alt="img"></p><p>最后在iTunes中点击QQ的获取。就完成了。后续的步骤就不写了，很简单的东西。</p><p>本文的意义只是为了不让自己忘记而已。</p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://tools.lancely.tech/apple/app-search" target="_blank" rel="noopener">查询旧版AppId</a></li><li><a href="https://bbs.feng.com/forum.php?mod=viewthread&tid=11261380" target="_blank" rel="noopener">使用拦截器获取旧版App</a></li><li><a href="https://www.jianshu.com/p/f80d920eecab" target="_blank" rel="noopener">使用拦截器获取旧版App</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;本文其实在&lt;a href=&quot;https://blog.kany.me&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;旧博客&lt;/a&gt;上有发表的，但是为了完善&lt;strong&gt;Github Pages&lt;/strong&gt;所以重新来一遍。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;准备软件&quot;&gt;&lt;a href=&quot;#准备软件&quot; class=&quot;headerlink&quot; title=&quot;准备软件&quot;&gt;&lt;/a&gt;准备软件&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://baidu.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;iTunes 12.6.5.3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.telerik.com/fiddler&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Fiddler 安装版&lt;/a&gt;
    
    </summary>
    
    
    
      <category term="IOS" scheme="https://kany.me/tags/IOS/"/>
    
      <category term="iPhone" scheme="https://kany.me/tags/iPhone/"/>
    
      <category term="iTunes" scheme="https://kany.me/tags/iTunes/"/>
    
      <category term="Fiddler" scheme="https://kany.me/tags/Fiddler/"/>
    
  </entry>
  
  <entry>
    <title>macOS Catalina 安装MySQL 8.0.17解压版本</title>
    <link href="https://kany.me/2019/10/09/macos-catalina-install-mysql/"/>
    <id>https://kany.me/2019/10/09/macos-catalina-install-mysql/</id>
    <published>2019-10-09T13:07:14.000Z</published>
    <updated>2021-01-14T08:20:13.281Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>操作系统：macOS Catalina 正式版</li><li>mysql版本：mysql-8.0.17-macos10.14-x86_64.tar.gz<a id="more"></a><h2 id="解压软件"><a href="#解压软件" class="headerlink" title="解压软件"></a>解压软件</h2></li></ul><p>什么解压什么的就不说了，直接将mysql复制到<strong>/usr/local/mysql</strong>下</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 解压到指定文件夹</span><span class="token function">sudo</span> <span class="token function">tar</span> -zxvf ~/Downloads/mysql-8.0.17-macos10.14-x86_64.tar.gz -C /usr/local<span class="token comment" spellcheck="true"># 重命名文件夹为mysql</span><span class="token function">sudo</span> <span class="token function">mv</span> /usr/local/mysql-8.0.17-macos10.14-x86_64 /usr/local/mysql<span class="token comment" spellcheck="true"># 设置文件夹的所属</span><span class="token function">sudo</span> <span class="token function">chown</span> -R root:wheel /usr/local/mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="创建配置文件"><a href="#创建配置文件" class="headerlink" title="创建配置文件"></a>创建配置文件</h2><blockquote><p>由于某个版本在不存在<strong>my-default.cnf</strong>，所以我们就不能按照之前版本的<strong>support-files/my-default.cnf  /etc/my.cnf</strong></p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 创建文件</span><span class="token function">sudo</span> <span class="token function">vi</span> /etc/my.cnf<span class="token comment" spellcheck="true"># 修改文件权限</span><span class="token function">sudo</span> <span class="token function">chmod</span> 664 /etc/my.cnf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>以下为my.cnf的文件内容，由于要支持emoji表情，所以设置格式<strong>utf8mb4</strong></p></blockquote><pre class="line-numbers language-editorconfig"><code class="language-editorconfig">[client]default-character-set = utf8mb4port=3306[mysql]default-character-set = utf8mb4[mysqld]#修改默认执行语句长度max_allowed_packet = 100M#修改GROUP_CONCAT的连接语句长度group_concat_max_len = 204800#默认监听的端口设置port=3306character-set-client-handshake = FALSEcharacter-set-server = utf8mb4collation-server = utf8mb4_unicode_ciinit_connect='SET NAMES utf8mb4'# Remove leading # and set to the amount of RAM for the most important data# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.# innodb_buffer_pool_size = 128M# Remove leading # to turn on a very important data integrity option: logging# changes to the binary log between backups.# log_bin# These are commonly set, remove the # and set as required.# basedir = .....# datadir = .....# port = .....# server_id = .....# socket = .....# Remove leading # to set options mainly useful for reporting servers.# The server defaults are faster for transactions and fast SELECTs.# Adjust sizes as needed, experiment to find the optimal values.# join_buffer_size = 128M# sort_buffer_size = 2M# read_rnd_buffer_size = 2Msql_mode=NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="初始化数据库"><a href="#初始化数据库" class="headerlink" title="初始化数据库"></a>初始化数据库</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 注意: MySQL 5.7.6 以上版本取消了 scripts 目录, 初始化命令改成了</span><span class="token function">sudo</span> bin/mysqld --initialize --user<span class="token operator">=</span>mysql<span class="token comment" spellcheck="true"># 注意这个时候是有密码出现的。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><blockquote><p>注意后面我用的是mysql这个用户，所以创建的文件夹data的用户是mysql的。</p></blockquote><h2 id="启动并修改密码"><a href="#启动并修改密码" class="headerlink" title="启动并修改密码"></a>启动并修改密码</h2><blockquote><p>网上很多都是用的以前的方式，虽然也对，但是不符合我个人的需求</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 启动</span><span class="token function">sudo</span> /usr/local/mysql/support-files/mysql.server start<span class="token comment" spellcheck="true"># 重启</span><span class="token function">sudo</span> /usr/local/mysql/support-files/mysql.server restart<span class="token comment" spellcheck="true"># 停止</span><span class="token function">sudo</span> /usr/local/mysql/support-files/mysql.server stop<span class="token comment" spellcheck="true"># 检查 MySQL 运行状态</span><span class="token function">sudo</span> /usr/local/mysql/support-files/mysql.server status<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>这个在咱们文章还是不要使用了，我们使用下面的命令：</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> /usr/local/mysql/bin/mysqld --user<span class="token operator">=</span>mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>这里就可以新建使用客户端工具连接mysql了。</p><pre class="line-numbers language-bash"><code class="language-bash">/usr/local/mysql -u root -p <span class="token comment" spellcheck="true"># 回车之后就是之前initialize之后出现的密码了</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="允许所有人连接"><a href="#允许所有人连接" class="headerlink" title="允许所有人连接"></a>允许所有人连接</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 使用mysql数据库</span>use mysql<span class="token punctuation">;</span><span class="token comment" spellcheck="true"># 修改密码，这里不写了，使用客户端连接的时候会要求修改密码的，如果一定要手动修改，请查看参考资料。</span><span class="token comment" spellcheck="true"># 修改连接</span>update user <span class="token keyword">set</span> host<span class="token operator">=</span><span class="token string">"%"</span> where user<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"># 刷新权限</span>flush privileges<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="设置开机启动"><a href="#设置开机启动" class="headerlink" title="设置开机启动"></a>设置开机启动</h2><blockquote><p>这个地方是利用<strong>launchctl</strong>来配置的</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vi</span> /Library/LaunchDaemons/com.mysql.mysql.plist<span class="token comment" spellcheck="true"># 然后在里面输入</span><span class="token operator">&lt;</span>?xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span>?<span class="token operator">></span>    <span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE plist PUBLIC <span class="token string">"-//Apple//DTD PLIST 1.0//EN"</span> <span class="token string">"http://www.apple.com/DTDs/PropertyList-1.0.dtd"</span><span class="token operator">></span>    <span class="token operator">&lt;</span>plist version<span class="token operator">=</span><span class="token string">"1.0"</span><span class="token operator">></span>      <span class="token operator">&lt;</span>dict<span class="token operator">></span>        <span class="token operator">&lt;</span>key<span class="token operator">></span>KeepAlive<span class="token operator">&lt;</span>/key<span class="token operator">></span>        <span class="token operator">&lt;</span>true/<span class="token operator">></span>        <span class="token operator">&lt;</span>key<span class="token operator">></span>Label<span class="token operator">&lt;</span>/key<span class="token operator">></span>        <span class="token operator">&lt;</span>string<span class="token operator">></span>com.mysql.mysqld<span class="token operator">&lt;</span>/string<span class="token operator">></span>        <span class="token operator">&lt;</span>key<span class="token operator">></span>ProgramArguments<span class="token operator">&lt;</span>/key<span class="token operator">></span>        <span class="token operator">&lt;</span>array<span class="token operator">></span>        <span class="token operator">&lt;</span>string<span class="token operator">></span>/usr/local/mysql/bin/mysqld_safe<span class="token operator">&lt;</span>/string<span class="token operator">></span>        <span class="token operator">&lt;</span>string<span class="token operator">></span>--user<span class="token operator">=</span>user<span class="token operator">&lt;</span>/string<span class="token operator">></span>        <span class="token operator">&lt;</span>/array<span class="token operator">></span>        <span class="token operator">&lt;</span>/dict<span class="token operator">></span>    <span class="token operator">&lt;</span>/plist<span class="token operator">></span><span class="token comment" spellcheck="true"># 然后wq保存就好了，就是这样的。</span><span class="token comment" spellcheck="true"># 现在要开机启动鸟，准备</span><span class="token function">sudo</span> launchctl load -w /Library/LaunchDaemons/com.mysql.mysql.plist<span class="token comment" spellcheck="true"># 到这里然后就没有然后了。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://blog.csdn.net/sunxiaoju/article/details/90899339" target="_blank" rel="noopener">mac 安装解压版的mysql8.0</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;软件环境&quot;&gt;&lt;a href=&quot;#软件环境&quot; class=&quot;headerlink&quot; title=&quot;软件环境&quot;&gt;&lt;/a&gt;软件环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;操作系统：macOS Catalina 正式版&lt;/li&gt;
&lt;li&gt;mysql版本：mysql-8.0.17-macos10.14-x86_64.tar.gz
    
    </summary>
    
    
    
      <category term="macOS" scheme="https://kany.me/tags/macOS/"/>
    
      <category term="Catalina" scheme="https://kany.me/tags/Catalina/"/>
    
      <category term="MySQL" scheme="https://kany.me/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>为Github Pages添加Gitment评价功能</title>
    <link href="https://kany.me/2019/10/08/add-gitment-comment-for-github-pagages/"/>
    <id>https://kany.me/2019/10/08/add-gitment-comment-for-github-pagages/</id>
    <published>2019-10-08T06:26:28.000Z</published>
    <updated>2021-01-14T08:20:13.267Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>自从修改了博客为<strong>Github Pages</strong>之后一直没有给博客系统添加上评价功能。最后我们选择了<strong>Gitment</strong><br>本文主要介绍一些注意的点，只描述自己遇到的，其余的请看参考资料</p></blockquote><a id="more"></a><h2 id="使用Gitment的条件"><a href="#使用Gitment的条件" class="headerlink" title="使用Gitment的条件"></a>使用Gitment的条件</h2><blockquote><p>由于大家都是已经使用了Github Pages也就有了Github的账号，那么需要创建如下程序：</p><ul><li><a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">Github Application</a>：这个用来授权用户登录之后认证</li><li><a href="https://github.com/new" target="_blank" rel="noopener">Github Repository</a>：这个用来保存评论信息</li></ul></blockquote><p><img src="/assets/images/gitment/0001.jpg" alt="img"></p><h2 id="Gitment-Id长度限制"><a href="#Gitment-Id长度限制" class="headerlink" title="Gitment Id长度限制"></a>Gitment Id长度限制</h2><blockquote><p>在刚接入的时候不知道个人的文章URL长度过长，造成点击“Initialize Comments”时一直提示“Validation Failed”</p></blockquote><p>返回错误信息如下：</p><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token punctuation">{</span>  <span class="token string">"message"</span><span class="token punctuation">:</span> <span class="token string">"Validation Failed"</span><span class="token punctuation">,</span>  <span class="token string">"errors"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>    <span class="token punctuation">{</span>      <span class="token string">"value"</span><span class="token punctuation">:</span> <span class="token string">"https://www.kany.me/2019/09/18/clear-windows-icon-cache/"</span><span class="token punctuation">,</span>      <span class="token string">"resource"</span><span class="token punctuation">:</span> <span class="token string">"Label"</span><span class="token punctuation">,</span>      <span class="token string">"field"</span><span class="token punctuation">:</span> <span class="token string">"name"</span><span class="token punctuation">,</span>      <span class="token string">"code"</span><span class="token punctuation">:</span> <span class="token string">"invalid"</span>    <span class="token punctuation">}</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token string">"documentation_url"</span><span class="token punctuation">:</span> <span class="token string">"https://developer.github.com/v3/issues/#create-an-issue"</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>原因是在创建Label的Name时是有长度限制的，那么根据参考资料“<a href="https://madordie.github.io/post/blog-gitment-auto-setup/" target="_blank" rel="noopener">Gitment/Gitalk自动初始化</a>”采用了MD5处理URL的方式解决该问题</p><pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> gitment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Gitment</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    id<span class="token punctuation">:</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token string">"&lt;%= url %>"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    owner<span class="token punctuation">:</span> <span class="token string">'&lt;%= theme.gitment_owner %>'</span><span class="token punctuation">,</span>    repo<span class="token punctuation">:</span> <span class="token string">'&lt;%= theme.gitment_repo %>'</span><span class="token punctuation">,</span>    oauth<span class="token punctuation">:</span> <span class="token punctuation">{</span>        client_id<span class="token punctuation">:</span> <span class="token string">'&lt;%= theme.gitment_oauth.client_id %>'</span><span class="token punctuation">,</span>        client_secret<span class="token punctuation">:</span> <span class="token string">'&lt;%= theme.gitment_oauth.client_secret %>'</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="自定义域名"><a href="#自定义域名" class="headerlink" title="自定义域名"></a>自定义域名</h2><blockquote><p>Github Page使用自定义域名需要使用到解析Ip，常用的Github Pages的Ip如下：</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 美国</span>192.30.252.154192.30.252.153<span class="token comment" spellcheck="true"># 荷兰</span>185.199.110.153185.199.111.153185.199.108.153185.199.109.153<span class="token comment" spellcheck="true"># 美国</span>104.24.108.62104.24.109.62104.24.110.62104.24.111.62<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.jianshu.com/p/57afa4844aaa" target="_blank" rel="noopener">Gitment评论功能接入踩坑教程</a></li><li><a href="https://madordie.github.io/post/blog-gitment-auto-setup/" target="_blank" rel="noopener">Gitment/Gitalk自动初始化</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;自从修改了博客为&lt;strong&gt;Github Pages&lt;/strong&gt;之后一直没有给博客系统添加上评价功能。最后我们选择了&lt;strong&gt;Gitment&lt;/strong&gt;&lt;br&gt;本文主要介绍一些注意的点，只描述自己遇到的，其余的请看参考资料&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="Comment" scheme="https://kany.me/tags/Comment/"/>
    
      <category term="Github" scheme="https://kany.me/tags/Github/"/>
    
      <category term="Github-Pages" scheme="https://kany.me/tags/Github-Pages/"/>
    
      <category term="Gitment" scheme="https://kany.me/tags/Gitment/"/>
    
  </entry>
  
  <entry>
    <title>Date在JDK8的新变化</title>
    <link href="https://kany.me/2019/09/20/new-changes-of-date-in-jdk8/"/>
    <id>https://kany.me/2019/09/20/new-changes-of-date-in-jdk8/</id>
    <published>2019-09-20T03:02:06.000Z</published>
    <updated>2021-01-14T08:20:13.285Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>为了方便自己的记忆和查阅，写了一篇这样的抄袭的文章，原文位于参考资料中。</p><ul><li><strong>@Test:</strong>Junit的类测试标识</li><li><strong>@Slf4j:</strong>可以在类中直接使用log对象，调用debug等方法</li></ul></blockquote><h2 id="文章简介"><a href="#文章简介" class="headerlink" title="文章简介"></a>文章简介</h2><p>Java 的日期与时间API问题由来已久，Java8之前的版本中关于时间、日期及其他时间日期格式化类由于线程安全、重量级、序列化成本高等问题而饱受批评。<br>Java 8 吸收了Joda-Time的精华，以一个新的开始为Java创建优秀的API。<a id="more"></a><br>新的java.time中包含了所有关于时钟(Clock)，本地日期(LocalDate)、本地时间(LocalTime)、本地日期时间(LocalDateTime)、时区(ZonedDateTime)和持续时间(Duration)的类。<br>历史悠久的 Date类新增了toInstant()方法，用于把Date转换成新的表示形式。<br>这些新增的本地化时间日期API大大简化了了日期时间和本地化的管理。<br>目前Java8新增了java.time包定义的类表示日期-时间概念的规则，很方便使用；最重要的一点是值不可变，且线程安全。</p><blockquote><p>其中关键类如下：</p><ul><li><strong>Instant</strong>：代表的是时间戳</li><li><strong>LocalDate</strong>：不包含具体时间的日期</li><li><strong>LocalTime</strong>：不含日期的时间</li><li><strong>LocalDateTime</strong>：包含了日期及时间</li><li><strong>ZonedDateTime</strong>：包含日期时间和时区，本文中不介绍</li></ul></blockquote><blockquote><p>时间比较：</p><ul><li><strong>java.time.Period：</strong>主要是 Period 类方法 getYears()，getMonths() 和 getDays() 来计算。只能精确到年月日。</li><li><strong>java.time.Duration：</strong>提供了使用基于时间的值测量时间量的方法，用于LocalDateTime之间的比较。也可用于 Instant 之间的比较。</li><li><strong>java.time.temporal.ChronoUnit：</strong>ChronoUnit类可用于在单个时间单位内测量一段时间，这个工具类是最全的了，可以用于比较所有的时间单位。</li></ul></blockquote><h2 id="获取日期时间的信息"><a href="#获取日期时间的信息" class="headerlink" title="获取日期时间的信息"></a>获取日期时间的信息</h2><h3 id="LocalDate"><a href="#LocalDate" class="headerlink" title="LocalDate"></a>LocalDate</h3><p>LocalDate不包含具体时间的日期。</p><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//初始化</span>LocalDate nowDate <span class="token operator">=</span> LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前年份</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期年份：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当月年份</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期月份：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前天数</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前天数在日期中属于第几天：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前日期是今年的第几天</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期是今年的第几天：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">.</span><span class="token function">getDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前日期在当前属于星期几</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是星期几：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前日期在当前属于星期几，数值</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是星期几：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前月份在全年属于几月</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是几月：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前月份在全年属于几月，数值</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是几月：{}"</span><span class="token punctuation">,</span> nowDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>运行结果如下：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的日期：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前日期年份：<span class="token number">2019</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前日期月份：<span class="token number">9</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前天数在日期中属于第几天：<span class="token number">20</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前日期是今年的第几天：<span class="token number">263</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是星期几：FRIDAY【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是星期几：<span class="token number">5</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是几月：SEPTEMBER【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">53</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是几月：<span class="token number">9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>在上面的运行结果发现这个星期和月份，好像不是从0开始的，难道是因为我的时区的原因？</p></blockquote><h3 id="LocalTime"><a href="#LocalTime" class="headerlink" title="LocalTime"></a>LocalTime</h3><p>LocalTime类获取时间信息</p><pre class="line-numbers language-java"><code class="language-java">LocalTime nowTime <span class="token operator">=</span> LocalTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前时间，格式：HH:mm:ss.SSS</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的时间：{}"</span><span class="token punctuation">,</span> nowTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前小时</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少时：{}"</span><span class="token punctuation">,</span> nowTime<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前分钟</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少分：{}"</span><span class="token punctuation">,</span> nowTime<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少秒：{}"</span><span class="token punctuation">,</span> nowTime<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前毫秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少毫秒：{}"</span><span class="token punctuation">,</span> nowTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前微秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少微秒：{}"</span><span class="token punctuation">,</span> nowTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//在java.time.temporal.ChronoField里面有很多类型</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少微秒：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getLong</span><span class="token punctuation">(</span>ChronoField<span class="token punctuation">.</span>MICRO_OF_DAY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前纳秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少纳秒：{}"</span><span class="token punctuation">,</span> nowTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>运行结果如下：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的时间：<span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38.688</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少时：<span class="token number">12</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少分：<span class="token number">7</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少秒：<span class="token number">38</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少毫秒：<span class="token number">688</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少毫秒：<span class="token number">688000</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少毫秒：<span class="token number">688000</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">12</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">38</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少纳秒：<span class="token number">688000000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LocalDateTime"><a href="#LocalDateTime" class="headerlink" title="LocalDateTime"></a>LocalDateTime</h3><p>LocalDateTime类获取日期时间信息</p><pre class="line-numbers language-java"><code class="language-java">LocalDateTime nowDateTime <span class="token operator">=</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前年份</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期年份：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当月年份</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期月份：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前天数</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前天数在日期中属于第几天：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前日期是今年的第几天</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期年份：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前日期在当前属于星期几</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是星期几：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前日期在当前属于星期几，数值</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是星期几：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getDayOfWeek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前月份在全年属于几月</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是几月：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前月份在全年属于几月，数值</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是几月：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//获取当前天数</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是 {} 月份的第 {} 天"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getMonthValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前日期是今年的第几天</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天是 {} 年的第 {} 天"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前小时</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少时：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前分钟</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少分：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少秒：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前毫秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少毫秒：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前微秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少微秒：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//当前纳秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前是多少纳秒：{}"</span><span class="token punctuation">,</span> nowDateTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>运行结果如下：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的日期：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span>20T14<span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22.279</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前日期年份：<span class="token number">2019</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前日期月份：<span class="token number">9</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前天数在日期中属于第几天：<span class="token number">20</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前日期年份：<span class="token number">263</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是星期几：FRIDAY【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是星期几：<span class="token number">5</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是几月：SEPTEMBER【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是几月：<span class="token number">9</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是 <span class="token number">9</span> 月份的第 <span class="token number">20</span> 天【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天是 <span class="token number">2019</span> 年的第 <span class="token number">263</span> 天【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少时：<span class="token number">14</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少分：<span class="token number">9</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少秒：<span class="token number">22</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少毫秒：<span class="token number">279</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少微秒：<span class="token number">279000</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">22</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前是多少纳秒：<span class="token number">279000000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>从上面的运行结果发现<strong>LocalDateTime</strong>有<strong>LocalDate</strong>和<strong>LocalTime</strong>的所有常用功能。<br>但如果我们是根据日期或者时间单独比较，感觉单独使用<strong>LocalDate</strong>和<strong>LocalTime</strong>会好很多。</p></blockquote><h2 id="设定日期时间信息"><a href="#设定日期时间信息" class="headerlink" title="设定日期时间信息"></a>设定日期时间信息</h2><h3 id="LocalDate-1"><a href="#LocalDate-1" class="headerlink" title="LocalDate"></a>LocalDate</h3><p>常用的设定日期的方法</p><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//采用数值模式创建指定日期</span>LocalDate localDate <span class="token operator">=</span> LocalDate<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//采用枚举设置月份</span>localDate <span class="token operator">=</span> LocalDate<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> Month<span class="token punctuation">.</span>OCTOBER<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> localDate<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//调用ofYearDay方法指定年</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> LocalDate<span class="token punctuation">.</span><span class="token function">ofYearDay</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> localDate<span class="token punctuation">.</span><span class="token function">getDayOfYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//调用ofEpochDay指定日期</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> LocalDate<span class="token punctuation">.</span><span class="token function">ofEpochDay</span><span class="token punctuation">(</span>localDate<span class="token punctuation">.</span><span class="token function">toEpochDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">/** * 这个是指定时区的，可以看java.time.ZoneId中的静态方法static，CTT - Asia/Shanghai */</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>Clock<span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>ZoneId<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"Asia/Shanghai"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//根据格式转换</span>DateTimeFormatter dateTimeFormatter <span class="token operator">=</span> DateTimeFormatter<span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyyMMdd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> LocalDate<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localDate<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>运行结果如下：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">56</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的日期：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">56</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的日期：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">56</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的日期：<span class="token number">2018</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">56</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的日期：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">56</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的日期：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">56</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天的日期：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LocalTime-1"><a href="#LocalTime-1" class="headerlink" title="LocalTime"></a>LocalTime</h3><p>常用的设定时间的方法</p><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//指定UTC时区</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>Clock<span class="token punctuation">.</span><span class="token function">systemUTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//指定上海时区</span>LocalTime localTime <span class="token operator">=</span> LocalTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>Clock<span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>ZoneId<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"Asia/Shanghai"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> localTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用时、分创建，丢失秒及纳秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>localTime<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localTime<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用时、分、秒创建，丢失纳秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>localTime<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localTime<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localTime<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用时、分、秒、纳秒创建。有没有皮秒不知道，但应该会丢失</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>localTime<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localTime<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localTime<span class="token punctuation">.</span><span class="token function">getSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用秒创建，这个会丢失纳秒</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalTime<span class="token punctuation">.</span><span class="token function">ofSecondOfDay</span><span class="token punctuation">(</span>localTime<span class="token punctuation">.</span><span class="token function">toSecondOfDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用纳秒创建</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalTime<span class="token punctuation">.</span><span class="token function">ofNanoOfDay</span><span class="token punctuation">(</span>localTime<span class="token punctuation">.</span><span class="token function">toNanoOfDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//根据格式转换</span>DateTimeFormatter dateTimeFormatter <span class="token operator">=</span> DateTimeFormatter<span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"HHmmss.SSS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天的日期：{}"</span><span class="token punctuation">,</span> localTime<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>运行结果如下：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">07</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07.103</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07.148</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07.148</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07.148</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">15</span><span class="token operator">:</span><span class="token number">03</span><span class="token operator">:</span><span class="token number">07.148</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="LocalDateTime-1"><a href="#LocalDateTime-1" class="headerlink" title="LocalDateTime"></a>LocalDateTime</h3><p>常用的设定日期时间的方法</p><pre class="line-numbers language-java"><code class="language-java"><span class="token comment" spellcheck="true">//指定UTC时区</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>Clock<span class="token punctuation">.</span><span class="token function">systemUTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//指定上海时区</span>LocalDateTime localDateTime <span class="token operator">=</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>Clock<span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>ZoneId<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"Asia/Shanghai"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//采用LocalDate、LocalTime作为参数</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> LocalTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//这个里就不多写什么的了直接用</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">.</span><span class="token function">getDayOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">.</span><span class="token function">getMinute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//一般来说不建议使用这个方法</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">ofEpochSecond</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">.</span><span class="token function">toEpochSecond</span><span class="token punctuation">(</span>ZoneOffset<span class="token punctuation">.</span>UTC<span class="token punctuation">)</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">.</span><span class="token function">getNano</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> ZoneOffset<span class="token punctuation">.</span>UTC<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//根据格式转换</span>DateTimeFormatter dateTimeFormatter <span class="token operator">=</span> DateTimeFormatter<span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyyMMddHHmmss.SSS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localDateTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">,</span> dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//对于格式的使用</span>dateTimeFormatter <span class="token operator">=</span> DateTimeFormatter<span class="token punctuation">.</span><span class="token function">ofLocalizedDate</span><span class="token punctuation">(</span>FormatStyle<span class="token punctuation">.</span>FULL<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withLocale</span><span class="token punctuation">(</span>Locale<span class="token punctuation">.</span>CHINESE<span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前时间是：{}"</span><span class="token punctuation">,</span> localDateTime<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>运行结果如下：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span>20T07<span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30.780</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span>20T15<span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30.822</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span>20T15<span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30.823</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span>20T15<span class="token operator">:</span><span class="token number">31</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span>20T15<span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30.822</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span>20T15<span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30.822</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">30</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前时间是：<span class="token number">2019</span>年<span class="token number">9</span>月<span class="token number">20</span>日 星期五<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="日期时间的比较"><a href="#日期时间的比较" class="headerlink" title="日期时间的比较"></a>日期时间的比较</h2><blockquote><p>在JDK8中，LocalDate类中使用isBefore()、isAfter()、equals()方法来比较两个日期，可直接进行比较。<br>以LocalDate为例：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">LocalDate utcDate <span class="token operator">=</span> LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>Clock<span class="token punctuation">.</span><span class="token function">systemUTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>LocalDate asiaDate <span class="token operator">=</span> LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span>Clock<span class="token punctuation">.</span><span class="token function">system</span><span class="token punctuation">(</span>ZoneId<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token string">"Asia/Shanghai"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"提问：今天是{}吗？回答：{} "</span><span class="token punctuation">,</span> asiaDate<span class="token punctuation">,</span> asiaDate<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>utcDate<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"是"</span> <span class="token operator">:</span> <span class="token string">"否"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//将UTC的时间减去一天，后面不介绍对于日期的加减等基本操作。这个地方记得重新赋值</span>utcDate <span class="token operator">=</span> utcDate<span class="token punctuation">.</span><span class="token function">minusDays</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用isBefore</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天 {} 是在 {} 之前吗？回答：{} "</span><span class="token punctuation">,</span> asiaDate<span class="token punctuation">,</span> utcDate<span class="token punctuation">,</span> asiaDate<span class="token punctuation">.</span><span class="token function">isBefore</span><span class="token punctuation">(</span>utcDate<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"是"</span> <span class="token operator">:</span> <span class="token string">"否"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用isAfter</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今天 {} 是在 {} 之后吗？回答：{} "</span><span class="token punctuation">,</span> asiaDate<span class="token punctuation">,</span> utcDate<span class="token punctuation">,</span> asiaDate<span class="token punctuation">.</span><span class="token function">isAfter</span><span class="token punctuation">(</span>utcDate<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"是"</span> <span class="token operator">:</span> <span class="token string">"否"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//询问每一年的10月有多少天</span>YearMonth yearMonth <span class="token operator">=</span> YearMonth<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>asiaDate<span class="token punctuation">.</span><span class="token function">getYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//DateTimeFormatter线程安全的日期与时间格式器</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"{} 有 {} 天"</span><span class="token punctuation">,</span> yearMonth<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>DateTimeFormatter<span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy年MM月"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> yearMonth<span class="token punctuation">.</span><span class="token function">lengthOfMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//询问是润年还是平年</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"今年是什么年？ {}"</span><span class="token punctuation">,</span> asiaDate<span class="token punctuation">.</span><span class="token function">isLeapYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"闰年"</span> <span class="token operator">:</span> <span class="token string">"平年"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//采用ChronoUnit的枚举类进行加减</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"现在日期为：{}"</span><span class="token punctuation">,</span> asiaDate<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>DAYS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"现在日期为：{}"</span><span class="token punctuation">,</span> asiaDate<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>DAYS<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>运行结果如下：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">17</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 提问：今天是<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span>吗？回答：是 【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">17</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天 <span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> 是在 <span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">19</span> 之前吗？回答：否 【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">17</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今天 <span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> 是在 <span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">19</span> 之后吗？回答：是 【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">17</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> <span class="token number">2019</span>年<span class="token number">10</span>月 有 <span class="token number">31</span> 天【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">17</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 今年是什么年？ 平年【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">17</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 现在日期为：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">21</span>【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">17</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 现在日期为：<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">19</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="计算日期时间差"><a href="#计算日期时间差" class="headerlink" title="计算日期时间差"></a>计算日期时间差</h2><blockquote><p>在Java8中，我们可以使用以下类来计算日期时间差异：</p><ul><li><strong>java.time.Period：</strong>主要是 Period 类方法 getYears()，getMonths() 和 getDays() 来计算。只能精确到年月日。</li><li><strong>java.time.Duration：</strong>提供了使用基于时间的值测量时间量的方法，用于LocalDateTime之间的比较。也可用于 Instant 之间的比较。</li><li><strong>java.time.temporal.ChronoUnit：</strong>ChronoUnit类可用于在单个时间单位内测量一段时间，这个工具类是最全的了，可以用于比较所有的时间单位。</li></ul></blockquote><h3 id="java-time-Period"><a href="#java-time-Period" class="headerlink" title="java.time.Period"></a>java.time.Period</h3><pre class="line-numbers language-java"><code class="language-java">LocalDate today <span class="token operator">=</span> LocalDate<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期为：{}"</span><span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">;</span>LocalDate weddingDay <span class="token operator">=</span> LocalDate<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"纪念日时间为：{}"</span><span class="token punctuation">,</span> weddingDay<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//第二个参数减第一个参数，开始时间，结束时间</span>Period period <span class="token operator">=</span> Period<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已婚时间：{} 年 {} 月 {} 日"</span><span class="token punctuation">,</span> period<span class="token punctuation">.</span><span class="token function">getYears</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> period<span class="token punctuation">.</span><span class="token function">getMonths</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> period<span class="token punctuation">.</span><span class="token function">getDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="java-time-Duration"><a href="#java-time-Duration" class="headerlink" title="java.time.Duration"></a>java.time.Duration</h3><pre class="line-numbers language-java"><code class="language-java">LocalDateTime today <span class="token operator">=</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期为：{}"</span><span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">;</span>LocalDateTime weddingDay <span class="token operator">=</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"纪念日时间为：{}"</span><span class="token punctuation">,</span> weddingDay<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//第二个参数减第一个参数，开始时间，结束时间</span>Duration duration <span class="token operator">=</span> Duration<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 天 "</span><span class="token punctuation">,</span> duration<span class="token punctuation">.</span><span class="token function">toDays</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 时"</span><span class="token punctuation">,</span> duration<span class="token punctuation">.</span><span class="token function">toHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 分"</span><span class="token punctuation">,</span> duration<span class="token punctuation">.</span><span class="token function">toMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 秒"</span><span class="token punctuation">,</span> duration<span class="token punctuation">.</span><span class="token function">toMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="java-time-temporal-ChronoUnit"><a href="#java-time-temporal-ChronoUnit" class="headerlink" title="java.time.temporal.ChronoUnit"></a>java.time.temporal.ChronoUnit</h3><pre class="line-numbers language-java"><code class="language-java">LocalDateTime today <span class="token operator">=</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>DateTimeFormatter dateTimeFormatter <span class="token operator">=</span> DateTimeFormatter<span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token string">"yyyy年MM月dd日 HH时mm分ss秒"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"当前日期为：{}"</span><span class="token punctuation">,</span> today<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>LocalDateTime weddingDay <span class="token operator">=</span> LocalDateTime<span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"纪念日时间为：{}"</span><span class="token punctuation">,</span> weddingDay<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dateTimeFormatter<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 年"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>YEARS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 月"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>MONTHS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 周"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>WEEKS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 天"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>DAYS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 时"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>HOURS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 分"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>MINUTES<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 秒"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 毫秒"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>MILLIS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 微秒"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>MICROS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 纳秒"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>NANOS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 半天"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>HALF_DAYS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 十年"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>DECADES<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 世纪（百年）"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>CENTURIES<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 千年"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>MILLENNIA<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"已经经历：{} 纪元"</span><span class="token punctuation">,</span> ChronoUnit<span class="token punctuation">.</span>ERAS<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span>weddingDay<span class="token punctuation">,</span> today<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>运行结果如下：</p></blockquote><pre class="line-numbers language-java"><code class="language-java">【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 当前日期为：<span class="token number">2019</span>年<span class="token number">09</span>月<span class="token number">20</span>日 <span class="token number">16</span>时<span class="token number">41</span>分<span class="token number">17</span>秒【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 纪念日时间为：<span class="token number">2019</span>年<span class="token number">02</span>月<span class="token number">11</span>日 <span class="token number">10</span>时<span class="token number">10</span>分<span class="token number">00</span>秒【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">0</span> 年【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">7</span> 月【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">31</span> 周【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">221</span> 天【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">5310</span> 时【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">318631</span> 分【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">19117877</span> 秒【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">19117877048</span> 毫秒【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">19117877048000</span> 微秒【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">19117877048000000</span> 纳秒【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">442</span> 半天【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">0</span> 十年【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">0</span> 世纪（百年）【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">0</span> 千年【<span class="token number">2019</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">41</span><span class="token operator">:</span><span class="token number">17</span>】<span class="token operator">-</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> DEBUG me<span class="token punctuation">.</span>kany<span class="token punctuation">.</span>project<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>date<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>DateUtilsTest <span class="token operator">-</span> 已经经历：<span class="token number">0</span> 纪元<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.cnblogs.com/wbxk/p/9598518.html" target="_blank" rel="noopener">JDK8 新增的日期时间API</a></li><li><a href="https://blog.csdn.net/sun_promise/article/details/51383618" target="_blank" rel="noopener">Java 8 新特性：Java 类库的新特性之日期时间API (Date/Time API )</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;为了方便自己的记忆和查阅，写了一篇这样的抄袭的文章，原文位于参考资料中。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;@Test:&lt;/strong&gt;Junit的类测试标识&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;@Slf4j:&lt;/strong&gt;可以在类中直接使用log对象，调用debug等方法&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;文章简介&quot;&gt;&lt;a href=&quot;#文章简介&quot; class=&quot;headerlink&quot; title=&quot;文章简介&quot;&gt;&lt;/a&gt;文章简介&lt;/h2&gt;&lt;p&gt;Java 的日期与时间API问题由来已久，Java8之前的版本中关于时间、日期及其他时间日期格式化类由于线程安全、重量级、序列化成本高等问题而饱受批评。&lt;br&gt;Java 8 吸收了Joda-Time的精华，以一个新的开始为Java创建优秀的API。
    
    </summary>
    
    
    
      <category term="JDK8" scheme="https://kany.me/tags/JDK8/"/>
    
      <category term="Date" scheme="https://kany.me/tags/Date/"/>
    
      <category term="Lombok" scheme="https://kany.me/tags/Lombok/"/>
    
      <category term="Junit" scheme="https://kany.me/tags/Junit/"/>
    
      <category term="Testng" scheme="https://kany.me/tags/Testng/"/>
    
  </entry>
  
  <entry>
    <title>常用屏蔽HOSTS文件</title>
    <link href="https://kany.me/2019/09/19/block-hosts-list/"/>
    <id>https://kany.me/2019/09/19/block-hosts-list/</id>
    <published>2019-09-19T15:25:02.000Z</published>
    <updated>2021-01-14T08:20:13.268Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>文章中的思杰马克丁才是重点，其余的请忽视。如果有人使用只要复制思杰马克丁的那一段就好。切切！<br>对于屏蔽之后的后果，我只想说屏蔽之后我很开心。</p></blockquote><a id="more"></a><h2 id="屏蔽内容"><a href="#屏蔽内容" class="headerlink" title="屏蔽内容"></a>屏蔽内容</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># SublimeText激活屏蔽</span>127.0.0.1   www.sublimetext.com127.0.0.1   license.sublimehq.com<span class="token comment" spellcheck="true"># Remote Desktop Manager Enterprise 激活屏蔽</span>127.0.0.1 crm.devolutions.net<span class="token comment" spellcheck="true"># 迅雷敏感资源屏蔽</span>127.0.0.1 hub5btmain.sandai.net127.0.0.1 hub5emu.sandai.net127.0.0.1 upgrade.xl9.xunlei.com<span class="token comment" spellcheck="true">## XSHell</span>127.0.0.1   transact.netsarang.com127.0.0.1   update.netsarang.com127.0.0.1   www.netsarang.com127.0.0.1   www.netsarang.co.kr127.0.0.1   sales.netsarang.com<span class="token comment" spellcheck="true">## MindJet</span>127.0.0.1   www.mindjet.com127.0.0.1   mindjet.com127.0.0.1   ipm.corel.com<span class="token comment" spellcheck="true">#思杰马克丁</span>127.0.0.1   xmindchina.net127.0.0.1   www.xmindchina.net127.0.0.1   www.ntfsformac.cc127.0.0.1   www.makeding.com127.0.0.1   makeding.com127.0.0.1   vm.makeding.com127.0.0.1   www.bingdianhuanyuan.cn127.0.0.1   xia.bingdianhuanyuan.cn127.0.0.1   bingdianhuanyuan.cn127.0.0.1   huishenghuiying.com.cn127.0.0.1   www.huishenghuiying.com.cn127.0.0.1   xia.huishenghuiying.com.cn127.0.0.1   coreldrawchina.com127.0.0.1   xia.coreldrawchina.com127.0.0.1   www.coreldrawchina.com127.0.0.1   shankejingling.com127.0.0.1   www.shankejingling.com127.0.0.1   xia.shankejingling.com127.0.0.1   mairuan.com127.0.0.1   www.mairuan.com127.0.0.1   xia.mairuan.com127.0.0.1   logoshejishi.com127.0.0.1   www.logoshejishi.com127.0.0.1   xia.logoshejishi.com127.0.0.1   keyshot.cc127.0.0.1   xia.keyshot.cc127.0.0.1   www.keyshot.cc127.0.0.1   flstudiochina.com127.0.0.1   www.flstudiochina.com127.0.0.1   xia.flstudiochina.com127.0.0.1   ediuschina.com127.0.0.1   www.ediuschina.com127.0.0.1   xia.ediuschina.com127.0.0.1   vegaschina.cn127.0.0.1   www.vegaschina.cn127.0.0.1   xia.vegaschina.cn127.0.0.1   guitarpro.cc127.0.0.1   www.guitarpro.cc127.0.0.1   xia.guitarpro.cc127.0.0.1   www.xmindchina.cn127.0.0.1   xia.xmindchina.cn127.0.0.1   xmindchina.cn127.0.0.1   xmindchina.net127.0.0.1   www.xmindchina.net127.0.0.1   xia.xmindchina.net127.0.0.1   mindmanager.cc127.0.0.1   www.mindmanager.cc127.0.0.1   xia.mindmanager.cc127.0.0.1   kingdeecn.cn127.0.0.1   www.kingdeecn.cn127.0.0.1   xia.kingdeecn.cn127.0.0.1   xshellcn.com127.0.0.1   www.xshellcn.com127.0.0.1   xia.xshellcn.com127.0.0.1   imindmap.cc127.0.0.1   www.imindmap.cc127.0.0.1   xia.imindmap.cc127.0.0.1   abbyychina.com127.0.0.1   www.abbyychina.com127.0.0.1   xia.abbyychina.com127.0.0.1   bartender.cc127.0.0.1   www.bartender.cc127.0.0.1   xia.bartender.cc127.0.0.1   jihehuaban.com.cn127.0.0.1   www.jihehuaban.com.cn127.0.0.1   xia.jihehuaban.com.cn127.0.0.1   mathtype.cn127.0.0.1   www.mathtype.cn127.0.0.1   xia.mathtype.cn127.0.0.1   chemdraw.com.cn127.0.0.1   www.chemdraw.com.cn127.0.0.1   xia.chemdraw.com.cn127.0.0.1   mycleanmymac.com127.0.0.1   www.mycleanmymac.com127.0.0.1   xia.mycleanmymac.com127.0.0.1   ntfsformac.cn127.0.0.1   www.ntfsformac.cn127.0.0.1   xia.ntfsformac.cn127.0.0.1   parallelsdesktop.cn127.0.0.1   www.parallelsdesktop.cn127.0.0.1   xia.parallelsdesktop.cn127.0.0.1   beyondcompare.cc127.0.0.1   www.beyondcompare.cc127.0.0.1   xia.beyondcompare.cc127.0.0.1   easyrecoverychina.com127.0.0.1   www.easyrecoverychina.com127.0.0.1   xia.easyrecoverychina.com127.0.0.1   bingdianhuanyuan.cn127.0.0.1   www.bingdianhuanyuan.cn127.0.0.1   xia.bingdianhuanyuan.cn127.0.0.1   hypersnap.mairuan.com127.0.0.1   www.iconworkshop.cn127.0.0.1   iconworkshop.cn127.0.0.1   www.pdfexpert.cc127.0.0.1   xiazai.pdfexpert.cc127.0.0.1   www.zhzzx.com127.0.0.1   yihuifu.cn127.0.0.1   www.4009997658.com127.0.0.1   4009997658.com127.0.0.1   mairuanwang.com127.0.0.1   www.mairuanwang.com127.0.0.1   mairuan.com127.0.0.1   mairuan.cn127.0.0.1   mairuan.net127.0.0.1   mairuan.com.cn<span class="token comment" spellcheck="true">#软件屏蔽</span>127.0.0.1   www.techsmith.com127.0.0.1   updater.techsmith.com127.0.0.1   camtasiatudi.techsmith.com127.0.0.1   tsccloud.cloudapp.net127.0.0.1   assets.cloud.techsmith.com127.0.0.1   activation.cloud.techsmith.com127.0.0.1   65.52.240.48127.0.0.1   69.167.144.18127.0.0.1   acdid.acdsystems.com127.0.0.1   l.qq.com127.0.0.1   ra.gtimg.com127.0.0.1   c.l.qq.com127.0.0.1   livep.l.qq.com127.0.0.1   lives.l.qq.com127.0.0.1   livec.l.qq.com<span class="token comment" spellcheck="true">#Adobe屏蔽</span>127.0.0.1   activate.wip3.adobe.com127.0.0.1   wip3.adobe.com127.0.0.1   3dns-3.adobe.com127.0.0.1   3dns-2.adobe.com127.0.0.1   adobe-dns.adobe.com127.0.0.1   adobe-dns-2.adobe.com127.0.0.1   adobe-dns-3.adobe.com127.0.0.1   ereg.wip3.adobe.com127.0.0.1   activate-sea.adobe.com127.0.0.1   wwis-dubc1-vip60.adobe.com127.0.0.1   activate-sjc0.adobe.com127.0.0.1   lm.licenses.adobe.com127.0.0.1   192.150.14.69127.0.0.1   192.150.18.101127.0.0.1   192.150.18.108127.0.0.1   192.150.22.40127.0.0.1   192.150.8.100127.0.0.1   192.150.8.118127.0.0.1   209-34-83-73.ood.opsource.net127.0.0.1   3dns-1.adobe.com127.0.0.1   3dns-4.adobe.com127.0.0.1   3dns.adobe.com127.0.0.1   activate-sea.adobe.com127.0.0.1   activate.wip.adobe.com127.0.0.1   activate.wip1.adobe.com127.0.0.1   activate.wip2.adobe.com127.0.0.1   activate.wip4.adobe.com127.0.0.1   adobe-dns-1.adobe.com127.0.0.1   adobe-dns-2.adobe.com127.0.0.1   adobe-dns-3.adobe.com127.0.0.1   adobe-dns-4.adobe.com127.0.0.1   adobe-dns.adobe.com127.0.0.1   adobe.activate.com127.0.0.1   adobeereg.com127.0.0.1   crl.verisign.net127.0.0.1   ereg.wip.adobe.com127.0.0.1   ereg.wip1.adobe.com127.0.0.1   ereg.wip2.adobe.com127.0.0.1   ereg.wip3.adobe.com127.0.0.1   ereg.wip4.adobe.com127.0.0.1   hl2rcv.adobe.com127.0.0.1   ood.opsource.net127.0.0.1   practivate.adobe.ipp127.0.0.1   practivate.adobe.newoa127.0.0.1   practivate.adobe.ntp127.0.0.1   tss-geotrust-crl.thawte.com127.0.0.1   wip.adobe.com127.0.0.1   wip1.adobe.com127.0.0.1   wip2.adobe.com127.0.0.1   wip3.adobe.com127.0.0.1   wip4.adobe.com127.0.0.1   wwis-dubc1-vip60.adobe.com127.0.0.1   get.daum.net127.0.0.1   live.tvpot.daum.net127.0.0.1   potplayertv.daum.net127.0.0.1   ars.smartscreen.microsoft.com127.0.0.1   az361816.vo.msecnd.net127.0.0.1   az512334.vo.msecnd.net127.0.0.1   blob.weather.microsoft.com127.0.0.1   candycrushsoda.king.com127.0.0.1   cdn.content.prod.cms.msn.com127.0.0.1   cdn.onenote.net127.0.0.1   choice.microsoft.com127.0.0.1   choice.microsoft.com.nsatc.net127.0.0.1   client.wns.windows.com127.0.0.1   client-s.gateway.messenger.live.com127.0.0.1   clientconfig.passport.net127.0.0.1   deploy.static.akamaitechnologies.com127.0.0.1   device.auth.xboxlive.com127.0.0.1   dmd.metaservices.microsoft.com127.0.0.1   dns.msftncsi.com127.0.0.1   feedback.microsoft-hohm.com127.0.0.1   feedback.search.microsoft.com127.0.0.1   feedback.windows.com127.0.0.1   img-s-msn-com.akamaized.net127.0.0.1   insiderppe.cloudapp.net127.0.0.1   licensing.mp.microsoft.com127.0.0.1   mediaredirect.microsoft.com127.0.0.1   msftncsi.com127.0.0.1   officeclient.microsoft.com127.0.0.1   oneclient.sfx.ms127.0.0.1   pti.store.microsoft.com127.0.0.1   query.prod.cms.rt.microsoft.com127.0.0.1   register.cdpcs.microsoft.com127.0.0.1   s0.2mdn.net127.0.0.1   sO.2mdn.net127.0.0.1   search.msn.com127.0.0.1   settings-ssl.xboxlive.com127.0.0.1   static.2mdn.net127.0.0.1   store-images.s-microsoft.com127.0.0.1   storeedgefd.dsx.mp.microsoft.com127.0.0.1   support.microsoft.com127.0.0.1   tile-service.weather.microsoft.com127.0.0.1   time.windows.com127.0.0.1   tk2.plt.msn.com127.0.0.1   urs.smartscreen.microsoft.com127.0.0.1   wdcp.microsoft.com127.0.0.1   wdcpalt.microsoft.com127.0.0.1   win10-trt.msedge.net127.0.0.1   wscont.apps.microsoft.com127.0.0.1   www.msftconnecttest.com127.0.0.1   www.msftncsi.com127.0.0.1   a-0001.a-msedge.net127.0.0.1   a-0001.dc-msedge.net127.0.0.1   a-0002.a-msedge.net127.0.0.1   a-0003.a-msedge.net127.0.0.1   a-0004.a-msedge.net127.0.0.1   a-0005.a-msedge.net127.0.0.1   a-0006.a-msedge.net127.0.0.1   a-0007.a-msedge.net127.0.0.1   a-0008.a-msedge.net127.0.0.1   a-0009.a-msedge.net127.0.0.1   a-0010.a-msedge.net127.0.0.1   a-0011.a-msedge.net127.0.0.1   a-0012.a-msedge.net127.0.0.1   a-msedge.net127.0.0.1   a.ads1.msn.com127.0.0.1   a.ads2.msads.net127.0.0.1   a.ads2.msn.com127.0.0.1   a.rad.msn.com127.0.0.1   ac3.msn.com127.0.0.1   activity.windows.com127.0.0.1   adnexus.net127.0.0.1   adnxs.com127.0.0.1   ads.msn.com127.0.0.1   ads1.msads.net127.0.0.1   ads1.msn.com127.0.0.1   aidps.atdmt.com127.0.0.1   aka-cdn-ns.adtech.de127.0.0.1   array101-prod.do.dsp.mp.microsoft.com127.0.0.1   array102-prod.do.dsp.mp.microsoft.com127.0.0.1   array103-prod.do.dsp.mp.microsoft.com127.0.0.1   array104-prod.do.dsp.mp.microsoft.com127.0.0.1   array201-prod.do.dsp.mp.microsoft.com127.0.0.1   array202-prod.do.dsp.mp.microsoft.com127.0.0.1   array203-prod.do.dsp.mp.microsoft.com127.0.0.1   array204-prod.do.dsp.mp.microsoft.com127.0.0.1   array401-prod.do.dsp.mp.microsoft.com127.0.0.1   array402-prod.do.dsp.mp.microsoft.com127.0.0.1   array403-prod.do.dsp.mp.microsoft.com127.0.0.1   array404-prod.do.dsp.mp.microsoft.com127.0.0.1   array405-prod.do.dsp.mp.microsoft.com127.0.0.1   array406-prod.do.dsp.mp.microsoft.com127.0.0.1   array407-prod.do.dsp.mp.microsoft.com127.0.0.1   array408-prod.do.dsp.mp.microsoft.com127.0.0.1   b.ads1.msn.com127.0.0.1   b.ads2.msads.net127.0.0.1   b.rad.msn.com127.0.0.1   bingads.microsoft.com127.0.0.1   bl3301-a.1drv.com127.0.0.1   bl3301-c.1drv.com127.0.0.1   bl3301-g.1drv.com127.0.0.1   bn1304-e.1drv.com127.0.0.1   bn1306-a.1drv.com127.0.0.1   bn1306-e.1drv.com127.0.0.1   bn1306-g.1drv.com127.0.0.1   bn2b-cor001.api.p001.1drv.com127.0.0.1   bn2b-cor002.api.p001.1drv.com127.0.0.1   bn3p-cor001.api.p001.1drv.com127.0.0.1   bn2b-cor003.api.p001.1drv.com127.0.0.1   bn2b-cor004.api.p001.1drv.com127.0.0.1   bn2wns1.wns.windows.com127.0.0.1   bn3sch020022328.wns.windows.com127.0.0.1   by3301-a.1drv.com127.0.0.1   by3301-c.1drv.com127.0.0.1   by3301-e.1drv.com127.0.0.1   bs.serving-sys.com127.0.0.1   c.atdmt.com127.0.0.1   c.msn.com127.0.0.1   c-0001.dc-msedge.net127.0.0.1   ca.telemetry.microsoft.com127.0.0.1   cache.datamart.windows.com127.0.0.1   cdn.atdmt.com127.0.0.1   cds1204.lon.llnw.net127.0.0.1   cds1293.lon.llnw.net127.0.0.1   cds20417.lcy.llnw.net127.0.0.1   cds20431.lcy.llnw.net127.0.0.1   cds20450.lcy.llnw.net127.0.0.1   cds20457.lcy.llnw.net127.0.0.1   cds20475.lcy.llnw.net127.0.0.1   cds21244.lon.llnw.net127.0.0.1   cds26.ams9.msecn.net127.0.0.1   cds425.lcy.llnw.net127.0.0.1   cds459.lcy.llnw.net127.0.0.1   cds494.lcy.llnw.net127.0.0.1   cds965.lon.llnw.net127.0.0.1   ch1-cor001.api.p001.1drv.com127.0.0.1   ch1-cor002.api.p001.1drv.com127.0.0.1   ch3301-c.1drv.com127.0.0.1   ch3301-e.1drv.com127.0.0.1   ch3301-g.1drv.com127.0.0.1   ch3302-c.1drv.com127.0.0.1   ch3302-e.1drv.com127.0.0.1   compatexchange.cloudapp.net127.0.0.1   compatexchange1.trafficmanager.net127.0.0.1   continuum.dds.microsoft.com127.0.0.1   corp.sts.microsoft.com127.0.0.1   corpext.msitadfs.glbdns2.microsoft.com127.0.0.1   cp101-prod.do.dsp.mp.microsoft.com127.0.0.1   cp201-prod.do.dsp.mp.microsoft.com127.0.0.1   cp401-prod.do.dsp.mp.microsoft.com127.0.0.1   cs1.wpc.v0cdn.net127.0.0.1   db3aqu.atdmt.com127.0.0.1   db3wns2011111.wns.windows.com127.0.0.1   db5.wns.windows.com127.0.0.1   db5sch101100122.wns.windows.com127.0.0.1   db5sch101100127.wns.windows.com127.0.0.1   db5sch101100831.wns.windows.com127.0.0.1   db5sch101100835.wns.windows.com127.0.0.1   db5sch101100917.wns.windows.com127.0.0.1   db5sch101100925.wns.windows.com127.0.0.1   db5sch101100928.wns.windows.com127.0.0.1   db5sch101100938.wns.windows.com127.0.0.1   db5sch101101001.wns.windows.com127.0.0.1   db5sch101101022.wns.windows.com127.0.0.1   db5sch101101024.wns.windows.com127.0.0.1   db5sch101101031.wns.windows.com127.0.0.1   db5sch101101034.wns.windows.com127.0.0.1   db5sch101101042.wns.windows.com127.0.0.1   db5sch101101044.wns.windows.com127.0.0.1   db5sch101101122.wns.windows.com127.0.0.1   db5sch101101123.wns.windows.com127.0.0.1   db5sch101101125.wns.windows.com127.0.0.1   db5sch101101128.wns.windows.com127.0.0.1   db5sch101101129.wns.windows.com127.0.0.1   db5sch101101133.wns.windows.com127.0.0.1   db5sch101101145.wns.windows.com127.0.0.1   db5sch101101209.wns.windows.com127.0.0.1   db5sch101101221.wns.windows.com127.0.0.1   db5sch101101228.wns.windows.com127.0.0.1   db5sch101101231.wns.windows.com127.0.0.1   db5sch101101237.wns.windows.com127.0.0.1   db5sch101101317.wns.windows.com127.0.0.1   db5sch101101324.wns.windows.com127.0.0.1   db5sch101101329.wns.windows.com127.0.0.1   db5sch101101333.wns.windows.com127.0.0.1   db5sch101101334.wns.windows.com127.0.0.1   db5sch101101338.wns.windows.com127.0.0.1   db5sch101101419.wns.windows.com127.0.0.1   db5sch101101424.wns.windows.com127.0.0.1   db5sch101101426.wns.windows.com127.0.0.1   db5sch101101427.wns.windows.com127.0.0.1   db5sch101101430.wns.windows.com127.0.0.1   db5sch101101445.wns.windows.com127.0.0.1   db5sch101101511.wns.windows.com127.0.0.1   db5sch101101519.wns.windows.com127.0.0.1   db5sch101101529.wns.windows.com127.0.0.1   db5sch101101535.wns.windows.com127.0.0.1   db5sch101101541.wns.windows.com127.0.0.1   db5sch101101543.wns.windows.com127.0.0.1   db5sch101101608.wns.windows.com127.0.0.1   db5sch101101618.wns.windows.com127.0.0.1   db5sch101101629.wns.windows.com127.0.0.1   db5sch101101631.wns.windows.com127.0.0.1   db5sch101101633.wns.windows.com127.0.0.1   db5sch101101640.wns.windows.com127.0.0.1   db5sch101101711.wns.windows.com127.0.0.1   db5sch101101722.wns.windows.com127.0.0.1   db5sch101101739.wns.windows.com127.0.0.1   db5sch101101745.wns.windows.com127.0.0.1   db5sch101101813.wns.windows.com127.0.0.1   db5sch101101820.wns.windows.com127.0.0.1   db5sch101101826.wns.windows.com127.0.0.1   db5sch101101835.wns.windows.com127.0.0.1   db5sch101101837.wns.windows.com127.0.0.1   db5sch101101844.wns.windows.com127.0.0.1   db5sch101101907.wns.windows.com127.0.0.1   db5sch101101914.wns.windows.com127.0.0.1   db5sch101101929.wns.windows.com127.0.0.1   db5sch101101939.wns.windows.com127.0.0.1   db5sch101101941.wns.windows.com127.0.0.1   db5sch101102015.wns.windows.com127.0.0.1   db5sch101102017.wns.windows.com127.0.0.1   db5sch101102019.wns.windows.com127.0.0.1   db5sch101102023.wns.windows.com127.0.0.1   db5sch101102025.wns.windows.com127.0.0.1   db5sch101102032.wns.windows.com127.0.0.1   db5sch101102033.wns.windows.com127.0.0.1   db5sch101110108.wns.windows.com127.0.0.1   db5sch101110109.wns.windows.com127.0.0.1   db5sch101110114.wns.windows.com127.0.0.1   db5sch101110135.wns.windows.com127.0.0.1   db5sch101110142.wns.windows.com127.0.0.1   db5sch101110204.wns.windows.com127.0.0.1   db5sch101110206.wns.windows.com127.0.0.1   db5sch101110214.wns.windows.com127.0.0.1   db5sch101110225.wns.windows.com127.0.0.1   db5sch101110232.wns.windows.com127.0.0.1   db5sch101110245.wns.windows.com127.0.0.1   db5sch101110315.wns.windows.com127.0.0.1   db5sch101110323.wns.windows.com127.0.0.1   db5sch101110325.wns.windows.com127.0.0.1   db5sch101110328.wns.windows.com127.0.0.1   db5sch101110331.wns.windows.com127.0.0.1   db5sch101110341.wns.windows.com127.0.0.1   db5sch101110343.wns.windows.com127.0.0.1   db5sch101110345.wns.windows.com127.0.0.1   db5sch101110403.wns.windows.com127.0.0.1   db5sch101110419.wns.windows.com127.0.0.1   db5sch101110438.wns.windows.com127.0.0.1   db5sch101110442.wns.windows.com127.0.0.1   db5sch101110501.wns.windows.com127.0.0.1   db5sch101110527.wns.windows.com127.0.0.1   db5sch101110533.wns.windows.com127.0.0.1   db5sch101110618.wns.windows.com127.0.0.1   db5sch101110622.wns.windows.com127.0.0.1   db5sch101110624.wns.windows.com127.0.0.1   db5sch101110626.wns.windows.com127.0.0.1   db5sch101110634.wns.windows.com127.0.0.1   db5sch101110705.wns.windows.com127.0.0.1   db5sch101110724.wns.windows.com127.0.0.1   db5sch101110740.wns.windows.com127.0.0.1   db5sch101110810.wns.windows.com127.0.0.1   db5sch101110816.wns.windows.com127.0.0.1   db5sch101110821.wns.windows.com127.0.0.1   db5sch101110822.wns.windows.com127.0.0.1   db5sch101110825.wns.windows.com127.0.0.1   db5sch101110828.wns.windows.com127.0.0.1   db5sch101110835.wns.windows.com127.0.0.1   db5sch101110919.wns.windows.com127.0.0.1   db5sch101110921.wns.windows.com127.0.0.1   db5sch101110923.wns.windows.com127.0.0.1   db5sch101110929.wns.windows.com127.0.0.1   db5sch103081814.wns.windows.com127.0.0.1   db5sch103082011.wns.windows.com127.0.0.1   db5sch103082111.wns.windows.com127.0.0.1   db5sch103082308.wns.windows.com127.0.0.1   db5sch103082406.wns.windows.com127.0.0.1   db5sch103082409.wns.windows.com127.0.0.1   db5sch103082609.wns.windows.com127.0.0.1   db5sch103082611.wns.windows.com127.0.0.1   db5sch103082709.wns.windows.com127.0.0.1   db5sch103082712.wns.windows.com127.0.0.1   db5sch103082806.wns.windows.com127.0.0.1   db5sch103090115.wns.windows.com127.0.0.1   db5sch103090415.wns.windows.com127.0.0.1   db5sch103090513.wns.windows.com127.0.0.1   db5sch103090515.wns.windows.com127.0.0.1   db5sch103090608.wns.windows.com127.0.0.1   db5sch103090806.wns.windows.com127.0.0.1   db5sch103090814.wns.windows.com127.0.0.1   db5sch103090906.wns.windows.com127.0.0.1   db5sch103091011.wns.windows.com127.0.0.1   db5sch103091012.wns.windows.com127.0.0.1   db5sch103091106.wns.windows.com127.0.0.1   db5sch103091108.wns.windows.com127.0.0.1   db5sch103091212.wns.windows.com127.0.0.1   db5sch103091311.wns.windows.com127.0.0.1   db5sch103091414.wns.windows.com127.0.0.1   db5sch103091511.wns.windows.com127.0.0.1   db5sch103091617.wns.windows.com127.0.0.1   db5sch103091715.wns.windows.com127.0.0.1   db5sch103091817.wns.windows.com127.0.0.1   db5sch103091908.wns.windows.com127.0.0.1   db5sch103091911.wns.windows.com127.0.0.1   db5sch103092010.wns.windows.com127.0.0.1   db5sch103092108.wns.windows.com127.0.0.1   db5sch103092109.wns.windows.com127.0.0.1   db5sch103092209.wns.windows.com127.0.0.1   db5sch103092210.wns.windows.com127.0.0.1   db5sch103092509.wns.windows.com127.0.0.1   db5sch103100117.wns.windows.com127.0.0.1   db5sch103100121.wns.windows.com127.0.0.1   db5sch103100221.wns.windows.com127.0.0.1   db5sch103100313.wns.windows.com127.0.0.1   db5sch103100314.wns.windows.com127.0.0.1   db5sch103100510.wns.windows.com127.0.0.1   db5sch103100511.wns.windows.com127.0.0.1   db5sch103100611.wns.windows.com127.0.0.1   db5sch103100712.wns.windows.com127.0.0.1   db5sch103101105.wns.windows.com127.0.0.1   db5sch103101208.wns.windows.com127.0.0.1   db5sch103101212.wns.windows.com127.0.0.1   db5sch103101314.wns.windows.com127.0.0.1   db5sch103101411.wns.windows.com127.0.0.1   db5sch103101413.wns.windows.com127.0.0.1   db5sch103101513.wns.windows.com127.0.0.1   db5sch103101610.wns.windows.com127.0.0.1   db5sch103101611.wns.windows.com127.0.0.1   db5sch103101705.wns.windows.com127.0.0.1   db5sch103101711.wns.windows.com127.0.0.1   db5sch103101909.wns.windows.com127.0.0.1   db5sch103101914.wns.windows.com127.0.0.1   db5sch103102009.wns.windows.com127.0.0.1   db5sch103102112.wns.windows.com127.0.0.1   db5sch103102203.wns.windows.com127.0.0.1   db5sch103102209.wns.windows.com127.0.0.1   db5sch103102310.wns.windows.com127.0.0.1   db5sch103102404.wns.windows.com127.0.0.1   db5sch103102609.wns.windows.com127.0.0.1   db5sch103102610.wns.windows.com127.0.0.1   db5sch103102805.wns.windows.com127.0.0.1   db5wns1d.wns.windows.com127.0.0.1   db6sch102090104.wns.windows.com127.0.0.1   db6sch102090112.wns.windows.com127.0.0.1   db6sch102090116.wns.windows.com127.0.0.1   db6sch102090122.wns.windows.com127.0.0.1   db6sch102090203.wns.windows.com127.0.0.1   db6sch102090206.wns.windows.com127.0.0.1   db6sch102090208.wns.windows.com127.0.0.1   db6sch102090209.wns.windows.com127.0.0.1   db6sch102090211.wns.windows.com127.0.0.1   db6sch102090305.wns.windows.com127.0.0.1   db6sch102090306.wns.windows.com127.0.0.1   db6sch102090308.wns.windows.com127.0.0.1   db6sch102090311.wns.windows.com127.0.0.1   db6sch102090313.wns.windows.com127.0.0.1   db6sch102090410.wns.windows.com127.0.0.1   db6sch102090412.wns.windows.com127.0.0.1   db6sch102090504.wns.windows.com127.0.0.1   db6sch102090510.wns.windows.com127.0.0.1   db6sch102090512.wns.windows.com127.0.0.1   db6sch102090513.wns.windows.com127.0.0.1   db6sch102090514.wns.windows.com127.0.0.1   db6sch102090519.wns.windows.com127.0.0.1   db6sch102090613.wns.windows.com127.0.0.1   db6sch102090619.wns.windows.com127.0.0.1   db6sch102090810.wns.windows.com127.0.0.1   db6sch102090811.wns.windows.com127.0.0.1   db6sch102090902.wns.windows.com127.0.0.1   db6sch102090905.wns.windows.com127.0.0.1   db6sch102090907.wns.windows.com127.0.0.1   db6sch102090908.wns.windows.com127.0.0.1   db6sch102090910.wns.windows.com127.0.0.1   db6sch102090911.wns.windows.com127.0.0.1   db6sch102091003.wns.windows.com127.0.0.1   db6sch102091007.wns.windows.com127.0.0.1   db6sch102091008.wns.windows.com127.0.0.1   db6sch102091009.wns.windows.com127.0.0.1   db6sch102091011.wns.windows.com127.0.0.1   db6sch102091103.wns.windows.com127.0.0.1   db6sch102091105.wns.windows.com127.0.0.1   db6sch102091204.wns.windows.com127.0.0.1   db6sch102091209.wns.windows.com127.0.0.1   db6sch102091305.wns.windows.com127.0.0.1   db6sch102091307.wns.windows.com127.0.0.1   db6sch102091308.wns.windows.com127.0.0.1   db6sch102091309.wns.windows.com127.0.0.1   db6sch102091314.wns.windows.com127.0.0.1   db6sch102091412.wns.windows.com127.0.0.1   db6sch102091503.wns.windows.com127.0.0.1   db6sch102091507.wns.windows.com127.0.0.1   db6sch102091602.wns.windows.com127.0.0.1   db6sch102091603.wns.windows.com127.0.0.1   db6sch102091606.wns.windows.com127.0.0.1   db6sch102091607.wns.windows.com127.0.0.1   dev.virtualearth.net127.0.0.1   df.telemetry.microsoft.com127.0.0.1   disc101-prod.do.dsp.mp.microsoft.com127.0.0.1   disc201-prod.do.dsp.mp.microsoft.com127.0.0.1   disc401-prod.do.dsp.mp.microsoft.com127.0.0.1   diagnostics.support.microsoft.com127.0.0.1   ec.atdmt.com127.0.0.1   ecn.dev.virtualearth.net127.0.0.1   eu.vortex.data.microsoft.com127.0.0.1   flex.msn.com127.0.0.1   fs.microsoft.com127.0.0.1   g.msn.com127.0.0.1   geo-prod.do.dsp.mp.microsoft.com127.0.0.1   geover-prod.do.dsp.mp.microsoft.com127.0.0.1   h1.msn.com127.0.0.1   h2.msn.com127.0.0.1   i-bl6p-cor001.api.p001.1drv.com127.0.0.1   i-by3p-cor001.api.p001.1drv.com127.0.0.1   i-by3p-cor002.api.p001.1drv.com127.0.0.1   i-ch1-cor001.api.p001.1drv.com127.0.0.1   i-ch1-cor002.api.p001.1drv.com127.0.0.1   i-sn2-cor001.api.p001.1drv.com127.0.0.1   i-sn2-cor002.api.p001.1drv.com127.0.0.1   i1.services.social.microsoft.com127.0.0.1   i1.services.social.microsoft.com.nsatc.net127.0.0.1   inference.location.live.net127.0.0.1   kv101-prod.do.dsp.mp.microsoft.com127.0.0.1   kv201-prod.do.dsp.mp.microsoft.com127.0.0.1   kv401-prod.do.dsp.mp.microsoft.com127.0.0.1   lb1.www.ms.akadns.net127.0.0.1   live.rads.msn.com127.0.0.1   ls2web.redmond.corp.microsoft.com127.0.0.1   m.adnxs.com127.0.0.1   mobile.pipe.aria.microsoft.com127.0.0.1   msedge.net127.0.0.1   msntest.serving-sys.com127.0.0.1   oca.telemetry.microsoft.com127.0.0.1   oca.telemetry.microsoft.com.nsatc.net127.0.0.1   pre.footprintpredict.com127.0.0.1   preview.msn.com127.0.0.1   rad.msn.com127.0.0.1   redir.metaservices.microsoft.com127.0.0.1   reports.wes.df.telemetry.microsoft.com127.0.0.1   schemas.microsoft.akadns.net127.0.0.1   secure.adnxs.com127.0.0.1   secure.flashtalking.com127.0.0.1   services.wes.df.telemetry.microsoft.com127.0.0.1   settings-sandbox.data.microsoft.com127.0.0.1   settings-win.data.microsoft.com127.0.0.1   settings-win-ppe.data.microsoft.com127.0.0.1   settings.data.glbdns2.microsoft.com127.0.0.1   settings.data.microsoft.com127.0.0.1   sn3301-c.1drv.com127.0.0.1   sn3301-e.1drv.com127.0.0.1   sn3301-g.1drv.com127.0.0.1   spynet2.microsoft.com127.0.0.1   spynetalt.microsoft.com127.0.0.1   spyneteurope.microsoft.akadns.net127.0.0.1   sqm.df.telemetry.microsoft.com127.0.0.1   sqm.telemetry.microsoft.com127.0.0.1   sqm.telemetry.microsoft.com.nsatc.net127.0.0.1   storecatalogrevocation.storequality.microsoft.com127.0.0.1   survey.watson.microsoft.com127.0.0.1   t0.ssl.ak.dynamic.tiles.virtualearth.net127.0.0.1   t0.ssl.ak.tiles.virtualearth.net127.0.0.1   telecommand.telemetry.microsoft.com127.0.0.1   telecommand.telemetry.microsoft.com.nsatc.net127.0.0.1   telemetry.appex.bing.net127.0.0.1   telemetry.microsoft.com127.0.0.1   telemetry.urs.microsoft.com127.0.0.1   test.activity.windows.com127.0.0.1   tsfe.trafficshaping.dsp.mp.microsoft.com127.0.0.1   v10.vortex-win.data.metron.live.com.nsatc.net127.0.0.1   v10.vortex-win.data.microsoft.com127.0.0.1   version.hybrid.api.here.com127.0.0.1   view.atdmt.com127.0.0.1   vortex-bn2.metron.live.com.nsatc.net127.0.0.1   vortex-cy2.metron.live.com.nsatc.net127.0.0.1   vortex-db5.metron.live.com.nsatc.net127.0.0.1   vortex-hk2.metron.live.com.nsatc.net127.0.0.1   vortex-sandbox.data.microsoft.com127.0.0.1   vortex-win.data.metron.live.com.nsatc.net127.0.0.1   vortex-win.data.microsoft.com127.0.0.1   vortex.data.glbdns2.microsoft.com127.0.0.1   vortex.data.metron.live.com.nsatc.net127.0.0.1   vortex.data.microsoft.com127.0.0.1   watson.microsoft.com127.0.0.1   watson.ppe.telemetry.microsoft.com127.0.0.1   watson.telemetry.microsoft.com127.0.0.1   watson.telemetry.microsoft.com.nsatc.net127.0.0.1   web.vortex.data.microsoft.com127.0.0.1   wes.df.telemetry.microsoft.com127.0.0.1   win10.ipv6.microsoft.com127.0.0.1   win1710.ipv6.microsoft.com127.0.0.1   www.msedge.net<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;文章中的思杰马克丁才是重点，其余的请忽视。如果有人使用只要复制思杰马克丁的那一段就好。切切！&lt;br&gt;对于屏蔽之后的后果，我只想说屏蔽之后我很开心。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="Hosts" scheme="https://kany.me/tags/Hosts/"/>
    
      <category term="hostname" scheme="https://kany.me/tags/hostname/"/>
    
      <category term="Linux" scheme="https://kany.me/tags/Linux/"/>
    
      <category term="Windows" scheme="https://kany.me/tags/Windows/"/>
    
      <category term="Server" scheme="https://kany.me/tags/Server/"/>
    
  </entry>
  
  <entry>
    <title>清理Windows图标缓存</title>
    <link href="https://kany.me/2019/09/18/clear-windows-icon-cache/"/>
    <id>https://kany.me/2019/09/18/clear-windows-icon-cache/</id>
    <published>2019-09-18T11:35:04.000Z</published>
    <updated>2021-01-14T08:20:13.271Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章背景"><a href="#文章背景" class="headerlink" title="文章背景"></a>文章背景</h2><blockquote><p>这是一个抄袭的文章，原文在参考资料中</p></blockquote><h2 id="运行环境"><a href="#运行环境" class="headerlink" title="运行环境"></a>运行环境</h2><ul><li>操作系统：Windows 10 x64(1903)<a id="more"></a><h2 id="清理脚本"><a href="#清理脚本" class="headerlink" title="清理脚本"></a>清理脚本</h2></li></ul><pre class="line-numbers language-bash"><code class="language-bash">@echo offrem 关闭Windows外壳程序explorertaskkill /f /im explorer.exerem 清理系统图标缓存数据库attrib -h -s -r <span class="token string">"%userprofile%\AppData\Local\IconCache.db"</span>del /f <span class="token string">"%userprofile%\AppData\Local\IconCache.db"</span>attrib /s /d -h -s -r <span class="token string">"%userprofile%\AppData\Local\Microsoft\Windows\Explorer\*"</span>del /f <span class="token string">"%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_32.db"</span>del /f <span class="token string">"%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_96.db"</span>del /f <span class="token string">"%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_102.db"</span>del /f <span class="token string">"%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_256.db"</span>del /f <span class="token string">"%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_1024.db"</span>del /f <span class="token string">"%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_idx.db"</span>del /f <span class="token string">"%userprofile%\AppData\Local\Microsoft\Windows\Explorer\thumbcache_sr.db"</span>rem 清理 系统托盘记忆的图标<span class="token keyword">echo</span> y<span class="token operator">|</span>reg delete <span class="token string">"HKEY_CLASSES_ROOT\Local Settings\Software\Microsoft\Windows\CurrentVersion\TrayNotify"</span> /v IconStreams<span class="token keyword">echo</span> y<span class="token operator">|</span>reg delete <span class="token string">"HKEY_CLASSES_ROOT\Local Settings\Software\Microsoft\Windows\CurrentVersion\TrayNotify"</span> /v PastIconsStreamrem Win7桌面图标黑块修复工具<span class="token keyword">echo</span> y<span class="token operator">|</span>reg delete <span class="token string">"hkcu\Software\Microsoft\Windows\CurrentVersion\Explorer\Shell Icons"</span> /f<span class="token keyword">echo</span> y<span class="token operator">|</span>reg delete <span class="token string">"hklm\SOFTWARE\Microsoft\Windows\CurrentVersion\Explorer\Shell Icons"</span> /ftaskkill /f /im explorer.exe <span class="token operator">&amp;</span> start explorer.exerem 重启Windows外壳程序explorerstart explorer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://blog.csdn.net/luoyayun361/article/details/79228390" target="_blank" rel="noopener">windows清理图标缓存并重新加载</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章背景&quot;&gt;&lt;a href=&quot;#文章背景&quot; class=&quot;headerlink&quot; title=&quot;文章背景&quot;&gt;&lt;/a&gt;文章背景&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;这是一个抄袭的文章，原文在参考资料中&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;运行环境&quot;&gt;&lt;a href=&quot;#运行环境&quot; class=&quot;headerlink&quot; title=&quot;运行环境&quot;&gt;&lt;/a&gt;运行环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;操作系统：Windows 10 x64(1903)
    
    </summary>
    
    
    
      <category term="windows" scheme="https://kany.me/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>JDK的新特性</title>
    <link href="https://kany.me/2019/09/18/new-features-of-jdk/"/>
    <id>https://kany.me/2019/09/18/new-features-of-jdk/</id>
    <published>2019-09-18T08:08:47.000Z</published>
    <updated>2021-01-14T08:20:13.285Z</updated>
    
    <content type="html"><![CDATA[<h2 id="文章说明"><a href="#文章说明" class="headerlink" title="文章说明"></a>文章说明</h2><blockquote><p>本文更多的是给博主自己用于记忆使用，参考（抄袭）资料在文章后面的<a href="#参考资料">参考资料</a>中。<br>感觉这些博主都写的很不错，但是我没有注册（忘记）博客园（cnblogs）、CSDN等账号，所以参考的资料来源会贴到<a href="#参考资料">参考资料</a>中。<br>至于里面是怎么用的，可以去参考<a href="#参考资料">参考资料</a>中的文章，这里就不重复制造了。<br>要获取最新的特性等可以到<a href="https://www.oracle.com/technetwork/java/javase/jdk-relnotes-index-2162236.html" target="_blank" rel="noopener">甲骨文</a>去查询</p></blockquote><a id="more"></a><h2 id="JDK5-新特性"><a href="#JDK5-新特性" class="headerlink" title="JDK5 新特性"></a>JDK5 新特性</h2><ul><li>自动拆装箱</li><li>Foreach</li><li>静态导入</li><li>可变参数 Var args</li><li>枚举</li><li>格式化输出</li><li>泛型</li><li>ProcessBuilder</li><li>内省</li><li>线程并发库（JUC）</li><li>监控和管理虚拟机</li><li>元数据</li></ul><h2 id="JDK6-新特性"><a href="#JDK6-新特性" class="headerlink" title="JDK6 新特性"></a>JDK6 新特性</h2><ul><li>Desktop类和SystemTray类</li><li>JAXB2实现对象与XML之间的映射</li><li>StAX</li><li>Compiler API</li><li>轻量级 Http Server API</li><li>插入式注解处理API(Pluggable Annotation Processing API)</li><li>用Console开发控制台程序</li><li>对脚本语言的支持（如：ruby，groovy，javascript）</li><li>Common Annotations</li></ul><h2 id="JDK7-新特性"><a href="#JDK7-新特性" class="headerlink" title="JDK7 新特性"></a>JDK7 新特性</h2><ul><li>二进制字面值</li><li>switch 语句支持 String</li><li>try-with-resources</li><li>catch多个类型异常</li><li>字面值中使用下划线</li><li>类型推断</li><li>改进泛型类型可变参数</li><li>其它</li></ul><h2 id="JDK8-新特性"><a href="#JDK8-新特性" class="headerlink" title="JDK8 新特性"></a>JDK8 新特性</h2><ul><li>Lambda 表达式</li><li>函数式接口</li><li>方法引用、构造器引用和数组引用</li><li>接口支持默认方法和静态方法</li><li>Stream API</li><li>增强类型推断</li><li>新的日期时间API</li><li>Optional类</li><li>重复注解和类型注解</li></ul><h2 id="JDK9-新特性"><a href="#JDK9-新特性" class="headerlink" title="JDK9 新特性"></a>JDK9 新特性</h2><ul><li>目录结构</li><li>模块化系统</li><li>jshell</li><li>多版本兼容JAR</li><li>接口的私有方法</li><li>改进try-with-resourcs</li><li>改进砖石操作符</li><li>限制使用单独下划线标识符</li><li>String存储结构变更</li><li>快速创建只读结合</li><li>增强Stream API</li><li>改进Optional类</li><li>多分辨率图像 API</li><li>全新HTTP客服端API</li><li>智能JAVA编译工具</li><li>统一JVM日志系统</li><li>javadoc的HTML5 支持</li><li>java 动态编译</li></ul><h2 id="JDK10-新特性"><a href="#JDK10-新特性" class="headerlink" title="JDK10 新特性"></a>JDK10 新特性</h2><ul><li>var局部变量类型推断</li><li>将JDK多存储库合并为单储存库</li><li>垃圾回收接口</li><li>并行Full GC 的G1</li><li>应用数据共享</li><li>线程局部管控</li><li>移除Native-Header Generation Tool （javah）</li><li>Unicode 标签扩展</li><li>备用内存设备上分配堆内存</li><li>基于实验JAVA 的JIT 编译器</li><li>Root 证书</li><li>基于时间的版本控制</li></ul><h2 id="JDK11-新特性"><a href="#JDK11-新特性" class="headerlink" title="JDK11 新特性"></a>JDK11 新特性</h2><ul><li>Nest-Based访问控制</li><li>动态类文件常量</li><li>改善Aarch64 intrinsic</li><li>无操作垃圾收集器</li><li>消除Java EE和CORBA模块</li><li>HTTP客户端(标准)</li><li>局部变量的语法λ参数</li><li>Curve25519和Curve448关键协议</li><li>Unicode 10</li><li>飞行记录器</li><li>ChaCha20和Poly1305加密算法</li><li>发射一列纵队源代码程序</li><li>低开销堆分析</li><li>传输层安全性(Transport Layer Security,TLS)1.3</li><li>动作:一个可伸缩的低延迟垃圾收集器 (实验)</li><li>反对Nashorn JavaScript引擎</li><li>反对Pack200工具和API</li></ul><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://www.oracle.com/technetwork/java/javase/jdk-relnotes-index-2162236.html" target="_blank" rel="noopener">JDK Release Notes(Oracle官方整理的)</a></li><li><a href="https://www.cnblogs.com/peter1018/p/9183959.html" target="_blank" rel="noopener">JDK各个版本的新特性</a></li><li><a href="https://blog.csdn.net/J080624/article/details/85092655" target="_blank" rel="noopener">JDK1.5，1.6，1.7，1.8，1.9，1.10，1.11的新特性整理</a></li><li><a href="https://blog.csdn.net/ranyuangang/article/details/82855017" target="_blank" rel="noopener">Java1.0-1.12各个版本的新特性</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;文章说明&quot;&gt;&lt;a href=&quot;#文章说明&quot; class=&quot;headerlink&quot; title=&quot;文章说明&quot;&gt;&lt;/a&gt;文章说明&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;本文更多的是给博主自己用于记忆使用，参考（抄袭）资料在文章后面的&lt;a href=&quot;#参考资料&quot;&gt;参考资料&lt;/a&gt;中。&lt;br&gt;感觉这些博主都写的很不错，但是我没有注册（忘记）博客园（cnblogs）、CSDN等账号，所以参考的资料来源会贴到&lt;a href=&quot;#参考资料&quot;&gt;参考资料&lt;/a&gt;中。&lt;br&gt;至于里面是怎么用的，可以去参考&lt;a href=&quot;#参考资料&quot;&gt;参考资料&lt;/a&gt;中的文章，这里就不重复制造了。&lt;br&gt;要获取最新的特性等可以到&lt;a href=&quot;https://www.oracle.com/technetwork/java/javase/jdk-relnotes-index-2162236.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;甲骨文&lt;/a&gt;去查询&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="JDK" scheme="https://kany.me/tags/JDK/"/>
    
      <category term="Java" scheme="https://kany.me/tags/Java/"/>
    
      <category term="New Features" scheme="https://kany.me/tags/New-Features/"/>
    
      <category term="What&#39;s News" scheme="https://kany.me/tags/What-s-News/"/>
    
  </entry>
  
  <entry>
    <title>旧博客的访问地址说明</title>
    <link href="https://kany.me/2019/09/17/about-old-blog/"/>
    <id>https://kany.me/2019/09/17/about-old-blog/</id>
    <published>2019-09-17T07:34:00.000Z</published>
    <updated>2021-07-25T13:40:14.641Z</updated>
    
    <content type="html"><![CDATA[<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><blockquote><p>虽然也没有多少人关注咱的这个网站，但是本着既然有这个站点就要做好的原则。<br>还是让大家知道下旧网站在什么地方，最主要的是博主很穷。所以使用了<strong>Github Pages</strong></p></blockquote><a id="more"></a><h2 id="访问地址"><a href="#访问地址" class="headerlink" title="访问地址"></a>访问地址</h2><blockquote><p><del>友情链接中的<a href="https://blog.kany.me" target="_blank" rel="noopener">旧博客</a>就是之前的博客地址</del></p></blockquote><p><del><strong><a href="https://blog.kany.me" target="_blank" rel="noopener">https://blog.kany.me</a></strong></del></p><p>服务器已经停止，无法访问</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;虽然也没有多少人关注咱的这个网站，但是本着既然有这个站点就要做好的原则。&lt;br&gt;还是让大家知道下旧网站在什么地方，最主要的是博主很穷。所以使用了&lt;strong&gt;Github Pages&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="旧博客" scheme="https://kany.me/tags/%E6%97%A7%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>Docker Compose 部署Nginx、Mariadb、Nacos-Server</title>
    <link href="https://kany.me/2019/09/12/docker-compose-install-nginx-mariadb-nacos-server/"/>
    <id>https://kany.me/2019/09/12/docker-compose-install-nginx-mariadb-nacos-server/</id>
    <published>2019-09-12T07:55:10.000Z</published>
    <updated>2021-01-14T08:20:13.274Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>OS：Ubuntu Server 16.04.1 LTS 64位</li><li>Docker：19.03.1</li><li>Docker Compose：1.24.1</li></ul><h2 id="编写配置文件"><a href="#编写配置文件" class="headerlink" title="编写配置文件"></a>编写配置文件</h2><blockquote><p>在前面的文章中我们使用<strong>Dockerfile</strong>编写了文件，如果物理机重启之后每次我们都要手动处理关联项目，比较麻烦。<br>Docker Compose使用的是<strong>docker-compose.yml</strong>文件来配置的。所以我们来编写配置文件。</p></blockquote><a id="more"></a><pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># 版本</span><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.1'</span><span class="token comment" spellcheck="true"># 服务配置</span><span class="token key atrule">services</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># Nginx配置</span>  <span class="token key atrule">nginx-server</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 镜像名称</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> nginx<span class="token punctuation">:</span>latest    <span class="token comment" spellcheck="true"># 容器名称</span>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nginx<span class="token punctuation">-</span>server    <span class="token comment" spellcheck="true"># 是否开机启动</span>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always    <span class="token comment" spellcheck="true"># 文件夹映射</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> /data/nginx/conf/nginx.conf<span class="token punctuation">:</span>/etc/nginx/nginx.conf<span class="token punctuation">:</span>ro <span class="token comment" spellcheck="true"># ro表示只读，read only</span>      <span class="token punctuation">-</span> /data/nginx/logs<span class="token punctuation">:</span>/var/log/nginx      <span class="token punctuation">-</span> /data/nginx/sites<span class="token punctuation">:</span>/etc/nginx/conf.d<span class="token punctuation">:</span>ro      <span class="token punctuation">-</span> /data/nginx/ssl<span class="token punctuation">:</span>/etc/nginx/ssl<span class="token punctuation">:</span>ro      <span class="token punctuation">-</span> /data/nginx/html<span class="token punctuation">:</span>/usr/share/nginx/html<span class="token punctuation">:</span>ro    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"80:80"</span>      <span class="token punctuation">-</span> <span class="token string">"443:443"</span>    <span class="token comment" spellcheck="true"># 定义网络</span>    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      <span class="token key atrule">app</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># ipv4的ip地址</span>        <span class="token key atrule">ipv4_address</span><span class="token punctuation">:</span> 172.18.0.2  <span class="token comment" spellcheck="true"># 数据库配置</span>  <span class="token key atrule">mariadb-server</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 镜像名称</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> mariadb<span class="token punctuation">:</span>latest    <span class="token comment" spellcheck="true"># 容器名称</span>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mariadb<span class="token punctuation">-</span>server    <span class="token comment" spellcheck="true"># 是否开机启动</span>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always    <span class="token comment" spellcheck="true"># 环境变量</span>    <span class="token key atrule">environment</span><span class="token punctuation">:</span>      <span class="token comment" spellcheck="true"># 配置数据库密码</span>      <span class="token punctuation">-</span> MYSQL_ROOT_PASSWORD<span class="token punctuation">:</span>数据库密码    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> /data/mariadb/conf<span class="token punctuation">:</span>/etc/mysql/conf.d<span class="token punctuation">:</span>ro      <span class="token punctuation">-</span> /data/mariadb/logs<span class="token punctuation">:</span>/var/log/mysql      <span class="token punctuation">-</span> /data/mariadb/data<span class="token punctuation">:</span>/var/lib/mysql    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"3306:3306"</span>    <span class="token comment" spellcheck="true"># 指定启动顺序</span>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> nginx<span class="token punctuation">-</span>server    <span class="token comment" spellcheck="true"># 定义网络</span>    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      <span class="token key atrule">app</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># ipv4的ip地址</span>        <span class="token key atrule">ipv4_address</span><span class="token punctuation">:</span> 172.18.0.3  <span class="token comment" spellcheck="true"># nacos-master</span>  <span class="token key atrule">nacos-mater</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> nacos<span class="token punctuation">:</span>1.1.3    <span class="token comment" spellcheck="true"># 容器名称</span>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>mater    <span class="token comment" spellcheck="true"># 是否开机启动</span>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always    <span class="token comment" spellcheck="true"># 配置环境变量文件</span>    <span class="token key atrule">env_file</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./env/nacos<span class="token punctuation">-</span>ip.env    <span class="token comment" spellcheck="true"># 映射数据卷</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> /data/nacos/cluster1/conf/cluster.conf<span class="token punctuation">:</span>/usr/local/nacos/conf/cluster.conf      <span class="token punctuation">-</span> /data/nacos/cluster1/conf/application.properties<span class="token punctuation">:</span>/usr/local/nacos/conf/application.properties<span class="token punctuation">:</span>ro      <span class="token punctuation">-</span> /data/nacos/cluster1/logs<span class="token punctuation">:</span>/usr/local/nacos/logs      <span class="token punctuation">-</span> /data/nacos/cluster1/data<span class="token punctuation">:</span>/usr/local/nacos/data    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"8848:8848"</span>      <span class="token punctuation">-</span> <span class="token string">"9555:9555"</span>    <span class="token comment" spellcheck="true"># 指定启动顺序</span>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> mariadb<span class="token punctuation">-</span>server    <span class="token comment" spellcheck="true"># 定义网络</span>    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      <span class="token key atrule">app</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># ipv4的ip地址</span>        <span class="token key atrule">ipv4_address</span><span class="token punctuation">:</span> 172.18.0.4  <span class="token comment" spellcheck="true"># nacos-slave</span>  <span class="token key atrule">nacos-slave</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> nacos<span class="token punctuation">:</span>1.1.3    <span class="token comment" spellcheck="true"># 容器名称</span>    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> nacos<span class="token punctuation">-</span>slave    <span class="token comment" spellcheck="true"># 是否开机启动</span>    <span class="token key atrule">restart</span><span class="token punctuation">:</span> always    <span class="token comment" spellcheck="true"># 配置环境变量文件</span>    <span class="token key atrule">env_file</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./env/nacos<span class="token punctuation">-</span>ip.env    <span class="token comment" spellcheck="true"># 映射数据卷</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> /data/nacos/cluster2/conf/cluster.conf<span class="token punctuation">:</span>/usr/local/nacos/conf/cluster.conf      <span class="token punctuation">-</span> /data/nacos/cluster2/conf/application.properties<span class="token punctuation">:</span>/usr/local/nacos/conf/application.properties<span class="token punctuation">:</span>ro      <span class="token punctuation">-</span> /data/nacos/cluster2/logs<span class="token punctuation">:</span>/usr/local/nacos/logs      <span class="token punctuation">-</span> /data/nacos/cluster2/data<span class="token punctuation">:</span>/usr/local/nacos/data    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"8849:8848"</span>    <span class="token comment" spellcheck="true"># 指定启动顺序</span>    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> mariadb<span class="token punctuation">-</span>server    <span class="token comment" spellcheck="true"># 定义网络</span>    <span class="token key atrule">networks</span><span class="token punctuation">:</span>      <span class="token comment" spellcheck="true"># 加入的网络的名称</span>      <span class="token key atrule">app</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true"># ipv4的ip地址</span>        <span class="token key atrule">ipv4_address</span><span class="token punctuation">:</span> 172.18.0.5<span class="token comment" spellcheck="true">#定义网络组</span><span class="token key atrule">networks</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># 网络组名称</span>  <span class="token key atrule">app</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># 网络的模式</span>    <span class="token key atrule">driver</span><span class="token punctuation">:</span> bridge    <span class="token comment" spellcheck="true"># 配置网络</span>    <span class="token key atrule">ipam</span><span class="token punctuation">:</span>      <span class="token key atrule">driver</span><span class="token punctuation">:</span> default      <span class="token key atrule">config</span><span class="token punctuation">:</span>        <span class="token comment" spellcheck="true">## ip地址网络 这里宿主机一般会是该网段的 172.17.0.1,所以不要设置自网段为1</span>        <span class="token punctuation">-</span> <span class="token key atrule">subnet</span><span class="token punctuation">:</span> 172.18.0.0/24<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>上面用到的<strong>nacos-ip.env</strong>文件内容如下：</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash">NACOS_SERVERS<span class="token operator">=</span>172.18.0.4:8848 172.18.0.5:8848MYSQL_MASTER_SERVICE_HOST<span class="token operator">=</span>172.18.0.3MYSQL_MASTER_SERVICE_PORT<span class="token operator">=</span>3306MYSQL_MASTER_SERVICE_DB_NAME<span class="token operator">=</span>nacos_configMYSQL_MASTER_SERVICE_USER<span class="token operator">=</span>rootMYSQL_MASTER_SERVICE_PASSWORD<span class="token operator">=</span>数据库密码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>查看docker的网络使用如下命令：</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 查看目前已有的网络</span>docker network <span class="token function">ls</span><span class="token comment" spellcheck="true"># 查看目前的网络</span>docker network inspect <span class="token operator">&lt;</span>Network Id<span class="token operator">></span><span class="token comment" spellcheck="true"># 删除目前的网络</span>docker network <span class="token function">rm</span> <span class="token operator">&lt;</span>Network Id<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考数据"><a href="#参考数据" class="headerlink" title="参考数据"></a>参考数据</h2><ul><li><a href="https://blog.csdn.net/qq_28478281/article/details/84105079" target="_blank" rel="noopener">docker-compose 结合nginx实现跨容器转发</a></li><li><a href="https://blog.csdn.net/Kiloveyousmile/article/details/79830810" target="_blank" rel="noopener">docker-compose网络设置之networks</a></li><li><a href="https://blog.csdn.net/qq_36148847/article/details/79427878" target="_blank" rel="noopener">docker-compose.yml 配置文件编写详解</a></li><li><a href="https://blog.csdn.net/lobber1987/article/details/79045494" target="_blank" rel="noopener">Docker network命令</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;软件环境&quot;&gt;&lt;a href=&quot;#软件环境&quot; class=&quot;headerlink&quot; title=&quot;软件环境&quot;&gt;&lt;/a&gt;软件环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;OS：Ubuntu Server 16.04.1 LTS 64位&lt;/li&gt;
&lt;li&gt;Docker：19.03.1&lt;/li&gt;
&lt;li&gt;Docker Compose：1.24.1&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;编写配置文件&quot;&gt;&lt;a href=&quot;#编写配置文件&quot; class=&quot;headerlink&quot; title=&quot;编写配置文件&quot;&gt;&lt;/a&gt;编写配置文件&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;在前面的文章中我们使用&lt;strong&gt;Dockerfile&lt;/strong&gt;编写了文件，如果物理机重启之后每次我们都要手动处理关联项目，比较麻烦。&lt;br&gt;Docker Compose使用的是&lt;strong&gt;docker-compose.yml&lt;/strong&gt;文件来配置的。所以我们来编写配置文件。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="docker" scheme="https://kany.me/tags/docker/"/>
    
      <category term="docker-compose" scheme="https://kany.me/tags/docker-compose/"/>
    
      <category term="database" scheme="https://kany.me/tags/database/"/>
    
      <category term="mariadb" scheme="https://kany.me/tags/mariadb/"/>
    
      <category term="mysql" scheme="https://kany.me/tags/mysql/"/>
    
      <category term="nginx" scheme="https://kany.me/tags/nginx/"/>
    
      <category term="nacos" scheme="https://kany.me/tags/nacos/"/>
    
      <category term="nacos-server" scheme="https://kany.me/tags/nacos-server/"/>
    
      <category term="dockerfile" scheme="https://kany.me/tags/dockerfile/"/>
    
  </entry>
  
  <entry>
    <title>安装 Docker Compose</title>
    <link href="https://kany.me/2019/09/12/docker-compose-install/"/>
    <id>https://kany.me/2019/09/12/docker-compose-install/</id>
    <published>2019-09-12T07:51:11.000Z</published>
    <updated>2021-01-14T08:20:13.274Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><ul><li>OS：Ubuntu Server 16.04.1 LTS 64位</li><li>Docker：19.03.1</li></ul><h2 id="使用原因"><a href="#使用原因" class="headerlink" title="使用原因"></a>使用原因</h2><blockquote><p>Dockerfile创建的容器有如下缺点：</p><ul><li>不能开机随系统启动</li><li>启动顺序未知</li></ul><p>所以我们需要使用到Docker容器的进阶 Docker Compose</p></blockquote><a id="more"></a><h2 id="安装Doker-Compose"><a href="#安装Doker-Compose" class="headerlink" title="安装Doker Compose"></a>安装Doker Compose</h2><blockquote><p>文件地址：<a href="https://github.com/docker/compose/releases" target="_blank" rel="noopener">https://github.com/docker/compose/releases</a></p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> curl -L <span class="token string">"https://github.com/docker/compose/releases/download/1.25.5/docker-compose-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -s<span class="token variable">)</span></span>-<span class="token variable"><span class="token variable">$(</span><span class="token function">uname</span> -m<span class="token variable">)</span></span>"</span> -o /usr/local/bin/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>网络好的同学可以使用这个命令来获取，如果不好的情况下建议直接下载好之后传上去。</p></blockquote><p>将文件放置到<strong>/usr/local/bin/</strong>文件夹下，并添加执行权限：</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">chmod</span> +x /usr/local/bin/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://github.com/docker/compose/" target="_blank" rel="noopener">Docker Compose GitHub</a></li><li><a href="https://www.cnblogs.com/nieqibest/p/9846655.html" target="_blank" rel="noopener">centos7 安装 docker 和 docker compose</a></li><li><a href="https://blog.csdn.net/now19930616/article/details/85235016" target="_blank" rel="noopener">docker-compose 安装</a></li><li><a href="https://docs.docker.com/compose/" target="_blank" rel="noopener">Docker Compose Docs</a>*****</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;软件环境&quot;&gt;&lt;a href=&quot;#软件环境&quot; class=&quot;headerlink&quot; title=&quot;软件环境&quot;&gt;&lt;/a&gt;软件环境&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;OS：Ubuntu Server 16.04.1 LTS 64位&lt;/li&gt;
&lt;li&gt;Docker：19.03.1&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;使用原因&quot;&gt;&lt;a href=&quot;#使用原因&quot; class=&quot;headerlink&quot; title=&quot;使用原因&quot;&gt;&lt;/a&gt;使用原因&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Dockerfile创建的容器有如下缺点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不能开机随系统启动&lt;/li&gt;
&lt;li&gt;启动顺序未知&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以我们需要使用到Docker容器的进阶 Docker Compose&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="docker" scheme="https://kany.me/tags/docker/"/>
    
      <category term="docker-compose" scheme="https://kany.me/tags/docker-compose/"/>
    
      <category term="dockerfile" scheme="https://kany.me/tags/dockerfile/"/>
    
  </entry>
  
  <entry>
    <title>Docker 安装 Nacos Server</title>
    <link href="https://kany.me/2019/09/12/docker-install-nacos-server/"/>
    <id>https://kany.me/2019/09/12/docker-install-nacos-server/</id>
    <published>2019-09-12T07:46:36.000Z</published>
    <updated>2021-01-14T08:20:13.277Z</updated>
    
    <content type="html"><![CDATA[<h2 id="软件环境"><a href="#软件环境" class="headerlink" title="软件环境"></a>软件环境</h2><blockquote><ul><li>OS：Ubuntu Server 16.04.1 LTS 64位</li><li>Docker：19.03.1</li><li>Nacos Server：1.1.3<ul><li>nacos-sever-01：172.17.0.7 </li><li>nacos-sever-02：172.17.0.8</li></ul></li><li>文件目录：<ul><li>/data/nacos/{cluster1,cluster2}/{data,conf,logs}</li></ul></li></ul></blockquote><h2 id="学习目的"><a href="#学习目的" class="headerlink" title="学习目的"></a>学习目的</h2><blockquote><p>学会自己构建<strong>Nacos Server</strong>，不依赖官方的<strong>nacos/nacos-server:last</strong>镜像。<br>参考了很多别人构建的镜像<a href="https://hub.docker.com/search?q=nacos&type=image" target="_blank" rel="noopener">https://hub.docker.com/search?q=nacos&amp;type=image</a>，发现别人写的都很简单。但是自己的始终不能像其他人一样简单的运行起来。<br>比如下面的例子：</p></blockquote><a id="more"></a><pre class="line-numbers language-dockerfile"><code class="language-dockerfile">FROM zhegeshijiehuiyouai/java:1.8ENV MODE="standalone"ADD nacos-server-1.1.3.tar.gz /usr/local/ADD cluster.conf /usr/local/nacos/conf/ADD entrypoint.sh /EXPOSE 8848ENTRYPOINT ["/entrypoint.sh"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>完整地址：<a href="https://github.com/zhegeshijiehuiyouai/RoadToDevOps/blob/master/03-Dockerfile/01-nacos" target="_blank" rel="noopener">https://github.com/zhegeshijiehuiyouai/RoadToDevOps/blob/master/03-Dockerfile/01-nacos</a><br>反正我是怎么都没有运行起来。<br>但是使用v1.0.0的<strong>startup.sh</strong>运行v1.1.3的<strong>nacos-server.jar</strong>，采用standalone方式是可以运行起来的，使用集群就不成。<br>进入到镜像里面，再调用<strong>startup.sh</strong>集群是可以起来的。<br>所以这个到底是什么原因呢？就因为这个东西折腾已经三天。对此不想多说什么。<br>截至发文，还有集群列表不能正常显示的问题。目前也不知道能不能注册，待测试。</p></blockquote><h2 id="构建Nacos需要JDK镜像"><a href="#构建Nacos需要JDK镜像" class="headerlink" title="构建Nacos需要JDK镜像"></a>构建Nacos需要JDK镜像</h2><p><strong>Dockerfile文件内容：</strong></p><pre class="line-numbers language-dockerfile"><code class="language-dockerfile"># 一定要使用FROM开头FROM openjdk:8u191-jre-alpine# 作者信息LABEL author="Jason.Wang"LABEL version="8u191"# 执行的命令RUN apk update; \    apk add --no-cache; \    apk --no-cache add tzdata; \    ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime; \    echo "Asia/Shanghai" > /etc/timezone;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>创建好之后执行<code>docker build . --tag jdk:8u191</code>这样就会创建一个JDK的镜像文件</p><h2 id="构建Nacos"><a href="#构建Nacos" class="headerlink" title="构建Nacos"></a>构建Nacos</h2><p><strong>Dockerfile文件内容：</strong></p><pre class="line-numbers language-dockerfile"><code class="language-dockerfile">FROM jdk:8u191MAINTAINER "kzone.wang@gmail.com"LABEL author="Jason.Wang"LABEL version="1.1.3"# set environmentENV MODE="cluster" \    PREFER_HOST_MODE="ip" \    BASE_DIR="/usr/local/nacos" \    CLASSPATH=".:/usr/local/nacos/conf:$CLASSPATH" \    NACOS_SERVERS="172.17.0.3:8848" \    CLUSTER_CONF="/usr/local/nacos/conf/cluster.conf" \    FUNCTION_MODE="all" \    JAVA_HOME="/usr/lib/jvm/java-1.8-openjdk/jre" \    NACOS_USER="nacos" \    JAVA="/usr/lib/jvm/java-1.8-openjdk/jre/bin/java" \    JVM_XMS="2g" \    JVM_XMX="2g" \    JVM_XMN="1g" \    JVM_MS="128m" \    JVM_MMS="320m" \    NACOS_DEBUG="n" \    TOMCAT_ACCESSLOG_ENABLED="false"ARG NACOS_VERSION=1.1.3WORKDIR /$BASE_DIRRUN  cd /usr/local; \    wget && wget https://github.com/alibaba/nacos/releases/download/${NACOS_VERSION}/nacos-server-${NACOS_VERSION}.tar.gz -P; \    tar -zxf nacos-server-${NACOS_VERSION}.tar.gz; \    rm -rf nacos-server-${NACOS_VERSION}.tar.gz;ADD docker-startup.sh bin/docker-startup.sh# Set startup log dirRUN mkdir -p logs \        && cd logs \        && touch start.out \        && ln -sf /dev/stdout start.out \        && ln -sf /dev/stderr start.outRUN chmod +x bin/docker-startup.shEXPOSE 8848ENTRYPOINT ["bin/docker-startup.sh"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="使用CentOS直接构建"><a href="#使用CentOS直接构建" class="headerlink" title="使用CentOS直接构建"></a>使用CentOS直接构建</h2><p><strong>Dockerfile文件内容：</strong></p><pre class="line-numbers language-dockerfile"><code class="language-dockerfile">FROM centos:7.5.1804MAINTAINER "kzone.wang@gmail.com"LABEL author="Jason.Wang"LABEL version="1.1.3"# set environmentENV MODE="cluster" \    PREFER_HOST_MODE="ip"\    BASE_DIR="/usr/local/nacos" \    CLASSPATH=".:/usr/local/nacos/conf:$CLASSPATH" \    CLUSTER_CONF="/usr/local/nacos/conf/cluster.conf" \    FUNCTION_MODE="all" \    JAVA_HOME="/usr/lib/jvm/java-1.8.0-openjdk" \    NACOS_USER="nacos" \    JAVA="/usr/lib/jvm/java-1.8.0-openjdk/bin/java" \    JVM_XMS="2g" \    JVM_XMX="2g" \    JVM_XMN="1g" \    JVM_MS="128m" \    JVM_MMS="320m" \    NACOS_DEBUG="n" \    TOMCAT_ACCESSLOG_ENABLED="false" \    TIME_ZONE="Asia/Shanghai"ARG NACOS_VERSION=1.1.3WORKDIR /$BASE_DIRRUN set -x \    && yum update -y \    && yum install -y java-1.8.0-openjdk java-1.8.0-openjdk-devel wget iputils nc  vim libcurl\    && wget https://github.com/alibaba/nacos/releases/download/${NACOS_VERSION}/nacos-server-${NACOS_VERSION}.tar.gz -P /usr/local \    && tar -xzvf /usr/local/nacos-server-${NACOS_VERSION}.tar.gz -C /usr/local \    && rm -rf /usr/local/nacos-server-${NACOS_VERSION}.tar.gz /usr/local/nacos/bin/* /usr/local/nacos/conf/*.properties /usr/local/nacos/conf/*.example /usr/local/nacos/conf/nacos-mysql.sql \    && yum autoremove -y wget \    && ln -snf /usr/share/zoneinfo/$TIME_ZONE /etc/localtime && echo '$TIME_ZONE' > /etc/timezone \    && yum clean allADD docker-startup.sh bin/docker-startup.sh# Set startup log dirRUN mkdir -p logs \    && cd logs \    && touch start.out \    && ln -sf /dev/stdout start.out \    && ln -sf /dev/stderr start.outRUN chmod +x bin/docker-startup.shEXPOSE 8848ENTRYPOINT ["bin/docker-startup.sh"]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Nacos-Server启动脚本"><a href="#Nacos-Server启动脚本" class="headerlink" title="Nacos Server启动脚本"></a>Nacos Server启动脚本</h2><blockquote><p>这个脚本是阿里巴巴nacos编写的，但是我进行了修改，<strong>我使用的jdk:8u191没有/bin/bash，只有/bin/sh</strong>这里进行了修改，其他的不知道了。</p></blockquote><p><strong>docker-startup.sh文件内容：</strong></p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span><span class="token comment" spellcheck="true"># Copyright 1999-2018 Alibaba Group Holding Ltd.</span><span class="token comment" spellcheck="true"># Licensed under the Apache License, Version 2.0 (the "License");</span><span class="token comment" spellcheck="true"># you may not use this file except in compliance with the License.</span><span class="token comment" spellcheck="true"># You may obtain a copy of the License at</span><span class="token comment" spellcheck="true">#      http://www.apache.org/licenses/LICENSE-2.0</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># Unless required by applicable law or agreed to in writing, software</span><span class="token comment" spellcheck="true"># distributed under the License is distributed on an "AS IS" BASIS,</span><span class="token comment" spellcheck="true"># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><span class="token comment" spellcheck="true"># See the License for the specific language governing permissions and</span><span class="token comment" spellcheck="true"># limitations under the License.</span><span class="token keyword">set</span> -x<span class="token function">export</span> DEFAULT_SEARCH_LOCATIONS<span class="token operator">=</span><span class="token string">"classpath:/,classpath:/config/,file:./,file:./config/"</span><span class="token function">export</span> CUSTOM_SEARCH_LOCATIONS<span class="token operator">=</span><span class="token variable">${DEFAULT_SEARCH_LOCATIONS}</span>,file:<span class="token variable">${BASE_DIR}</span>/conf/,<span class="token variable">${BASE_DIR}</span>/init.d/<span class="token function">export</span> CUSTOM_SEARCH_NAMES<span class="token operator">=</span><span class="token string">"application,custom"</span>PLUGINS_DIR<span class="token operator">=</span><span class="token string">"/home/nacos/plugins/peer-finder"</span><span class="token keyword">function</span> print_servers<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>   <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> -d <span class="token string">"<span class="token variable">${PLUGINS_DIR}</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    <span class="token keyword">echo</span> <span class="token string">"#it is ip"</span> <span class="token operator">></span> <span class="token string">"<span class="token variable">$CLUSTER_CONF</span>"</span>    <span class="token keyword">for</span> server <span class="token keyword">in</span> <span class="token variable">${NACOS_SERVERS}</span><span class="token punctuation">;</span> <span class="token keyword">do</span>            <span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$server</span>"</span> <span class="token operator">>></span> <span class="token string">"<span class="token variable">$CLUSTER_CONF</span>"</span>    <span class="token keyword">done</span>   <span class="token keyword">else</span>    sh <span class="token variable">$PLUGINS_DIR</span>/plugin.sh   <span class="token function">sleep</span> 30        <span class="token keyword">fi</span><span class="token punctuation">}</span><span class="token comment" spellcheck="true">#===========================================================================================</span><span class="token comment" spellcheck="true"># JVM Configuration</span><span class="token comment" spellcheck="true">#===========================================================================================</span><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${MODE}</span>"</span> <span class="token operator">==</span> <span class="token string">"standalone"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Xms512m -Xmx512m -Xmn256m"</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.standalone=true"</span><span class="token keyword">else</span>  <span class="token comment" spellcheck="true">#JAVA_OPT="${JAVA_OPT} -server -Xms${JVM_XMS} -Xmx${JVM_XMX} -Xmn${JVM_XMN} -XX:MetaspaceSize=${JVM_MS} -XX:MaxMetaspaceSize=${JVM_MMS}"</span>  JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -server"</span>  <span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${NACOS_DEBUG}</span>"</span> <span class="token operator">==</span> <span class="token string">"y"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Xdebug -Xrunjdwp:transport=dt_socket,address=9555,server=y,suspend=n"</span>  <span class="token keyword">fi</span>  JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -XX:-OmitStackTraceInFastThrow -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=<span class="token variable">${BASE_DIR}</span>/logs/java_heapdump.hprof"</span>  JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -XX:-UseLargePages"</span>  print_servers<span class="token keyword">fi</span><span class="token comment" spellcheck="true">#===========================================================================================</span><span class="token comment" spellcheck="true"># Setting system properties</span><span class="token comment" spellcheck="true">#===========================================================================================</span><span class="token comment" spellcheck="true"># set  mode that Nacos Server function of split</span><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${FUNCTION_MODE}</span>"</span> <span class="token operator">==</span> <span class="token string">"config"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.functionMode=config"</span><span class="token keyword">elif</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${FUNCTION_MODE}</span>"</span> <span class="token operator">==</span> <span class="token string">"naming"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.functionMode=naming"</span><span class="token keyword">fi</span><span class="token comment" spellcheck="true"># set nacos server ip</span><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> -z <span class="token string">"<span class="token variable">${NACOS_SERVER_IP}</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.server.ip=<span class="token variable">${NACOS_SERVER_IP}</span>"</span><span class="token keyword">fi</span><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> -z <span class="token string">"<span class="token variable">${USE_ONLY_SITE_INTERFACES}</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.inetutils.use-only-site-local-interfaces=<span class="token variable">${USE_ONLY_SITE_INTERFACES}</span>"</span><span class="token keyword">fi</span><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> -z <span class="token string">"<span class="token variable">${PREFERRED_NETWORKS}</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.inetutils.preferred-networks=<span class="token variable">${PREFERRED_NETWORKS}</span>"</span><span class="token keyword">fi</span><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token operator">!</span> -z <span class="token string">"<span class="token variable">${IGNORED_INTERFACES}</span>"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.inetutils.ignored-interfaces=<span class="token variable">${IGNORED_INTERFACES}</span>"</span><span class="token keyword">fi</span><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">${PREFER_HOST_MODE}</span>"</span> <span class="token operator">==</span> <span class="token string">"hostname"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>    JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.preferHostnameOverIp=true"</span><span class="token keyword">fi</span>JAVA_MAJOR_VERSION<span class="token operator">=</span><span class="token punctuation">$(</span><span class="token variable">$JAVA</span> -version 2<span class="token operator">></span><span class="token operator">&amp;</span>1 <span class="token operator">|</span> <span class="token function">sed</span> -E -n <span class="token string">'s/.* version "([0-9]*).*$/\1/p'</span><span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token punctuation">[</span><span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$JAVA_MAJOR_VERSION</span>"</span> -ge <span class="token string">"9"</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>  JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Xlog:gc*:file=<span class="token variable">${BASE_DIR}</span>/logs/nacos_gc.log:time,tags:filecount=10,filesize=102400"</span><span class="token keyword">else</span>  JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Djava.ext.dirs=<span class="token variable">${JAVA_HOME}</span>/jre/lib/ext:<span class="token variable">${JAVA_HOME}</span>/lib/ext:<span class="token variable">${BASE_DIR}</span>/plugins/cmdb"</span>  JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Xloggc:<span class="token variable">${BASE_DIR}</span>/logs/nacos_gc.log -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+PrintGCTimeStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=10 -XX:GCLogFileSize=100M"</span><span class="token keyword">fi</span>JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -Dnacos.home=<span class="token variable">${BASE_DIR}</span>"</span>JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> -jar <span class="token variable">${BASE_DIR}</span>/target/nacos-server.jar"</span>JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> <span class="token variable">${JAVA_OPT_EXT}</span>"</span>JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> --spring.config.location=<span class="token variable">${CUSTOM_SEARCH_LOCATIONS}</span>"</span>JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> --spring.config.name=<span class="token variable">${CUSTOM_SEARCH_NAMES}</span>"</span>JAVA_OPT<span class="token operator">=</span><span class="token string">"<span class="token variable">${JAVA_OPT}</span> --logging.config=<span class="token variable">${BASE_DIR}</span>/conf/nacos-logback.xml"</span><span class="token keyword">echo</span> <span class="token string">"nacos is starting,you can check the <span class="token variable">${BASE_DIR}</span>/logs/start.out"</span><span class="token keyword">echo</span> <span class="token string">"<span class="token variable">$JAVA</span> <span class="token variable">${JAVA_OPT}</span>"</span> <span class="token operator">></span> <span class="token variable">${BASE_DIR}</span>/logs/start.out 2<span class="token operator">></span><span class="token operator">&amp;</span>1 <span class="token operator">&amp;</span><span class="token function">nohup</span> <span class="token variable">$JAVA</span> <span class="token variable">${JAVA_OPT}</span> <span class="token operator">></span> <span class="token variable">${BASE_DIR}</span>/logs/start.out 2<span class="token operator">></span><span class="token operator">&amp;</span>1 <span class="token operator">&lt;</span> /dev/null<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="构建镜像"><a href="#构建镜像" class="headerlink" title="构建镜像"></a>构建镜像</h2><blockquote><p><strong>docker build . –tag nacos:1.1.3</strong></p></blockquote><h2 id="启动脚本及配置"><a href="#启动脚本及配置" class="headerlink" title="启动脚本及配置"></a>启动脚本及配置</h2><blockquote><p>这里只贴出<strong>nacos-server-01.sh</strong>的内容</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span><span class="token function">sudo</span> <span class="token function">rm</span> -rf /data/nacos/cluster1/<span class="token punctuation">{</span>data,logs<span class="token punctuation">}</span>/*docker stop nacos-server-01docker <span class="token function">rm</span> nacos-server-01docker run --name nacos-server-01 --hostname nacos-server-01 -p 8848:8848 -p 9555:9555 -e NACOS_SERVERS<span class="token operator">=</span><span class="token string">"172.17.0.7:8848 172.17.0.8:8848"</span> -v /data/nacos/cluster1/conf/cluster.conf:/usr/local/nacos/conf/cluster.conf -v /data/nacos/cluster1/conf/application.properties:/usr/local/nacos/conf/application.properties -v /data/nacos/cluster1/logs:/usr/local/nacos/logs -v /data/nacos/cluster1/data:/usr/local/nacos/data -d nacos:1.1.3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><strong>/data/nacos/cluster1/conf/cluster.conf</strong>的内容：</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 这个就一个空文件，由于在上面的NACOS_SERVERS会传入，所以这里不用传入</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p><strong>/data/nacos/cluster1/conf/application.properties</strong>的内容：</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># spring</span><span class="token comment" spellcheck="true"># 注意这个地方不要修改，我修改成“/”然后那个集群节点一个都没有出来了</span>server.contextPath<span class="token operator">=</span>/nacos<span class="token comment" spellcheck="true"># 和上面一样</span>server.servlet.contextPath<span class="token operator">=</span>/nacosserver.port<span class="token operator">=</span>8848nacos.cmdb.dumpTaskInterval<span class="token operator">=</span>3600nacos.cmdb.eventTaskInterval<span class="token operator">=</span>10nacos.cmdb.labelTaskInterval<span class="token operator">=</span>300nacos.cmdb.loadDataAtStart<span class="token operator">=</span>false<span class="token comment" spellcheck="true"># metrics for prometheus</span><span class="token comment" spellcheck="true">#management.endpoints.web.exposure.include=*</span><span class="token comment" spellcheck="true"># metrics for elastic search</span>management.metrics.export.elastic.enabled<span class="token operator">=</span>false<span class="token comment" spellcheck="true">#management.metrics.export.elastic.host=http://localhost:9200</span><span class="token comment" spellcheck="true"># metrics for influx</span>management.metrics.export.influx.enabled<span class="token operator">=</span>false<span class="token comment" spellcheck="true">#management.metrics.export.influx.db=springboot</span><span class="token comment" spellcheck="true">#management.metrics.export.influx.uri=http://localhost:8086</span><span class="token comment" spellcheck="true">#management.metrics.export.influx.auto-create-db=true</span><span class="token comment" spellcheck="true">#management.metrics.export.influx.consistency=one</span><span class="token comment" spellcheck="true">#management.metrics.export.influx.compressed=true</span>server.tomcat.accesslog.enabled<span class="token operator">=</span>trueserver.tomcat.accesslog.pattern<span class="token operator">=</span>%h %l %u %t <span class="token string">"%r"</span> %s %b %D %<span class="token punctuation">{</span>User-Agent<span class="token punctuation">}</span>i<span class="token comment" spellcheck="true"># default current work dir</span>server.tomcat.basedir<span class="token operator">=</span><span class="token comment" spellcheck="true">## spring security config</span><span class="token comment" spellcheck="true">### turn off security</span><span class="token comment" spellcheck="true">#spring.security.enabled=false</span><span class="token comment" spellcheck="true">#management.security=false</span><span class="token comment" spellcheck="true">#security.basic.enabled=false</span><span class="token comment" spellcheck="true">#nacos.security.ignore.urls=/**</span>nacos.security.ignore.urls<span class="token operator">=</span>/,/**/*.css,/**/*.js,/**/*.html,/**/*.map,/**/*.svg,/**/*.png,/**/*.ico,/console-fe/public/**,/v1/auth/login,/v1/console/health/**,/v1/cs/**,/v1/ns/**,/v1/cmdb/**,/actuator/**,/v1/console/server/**nacos.naming.distro.taskDispatchThreadCount<span class="token operator">=</span>1nacos.naming.distro.taskDispatchPeriod<span class="token operator">=</span>200nacos.naming.distro.batchSyncKeyCount<span class="token operator">=</span>1000nacos.naming.distro.initDataRatio<span class="token operator">=</span>0.9nacos.naming.distro.syncRetryDelay<span class="token operator">=</span>5000nacos.naming.data.warmup<span class="token operator">=</span>truenacos.naming.expireInstance<span class="token operator">=</span>truedb.num<span class="token operator">=</span>1db.url.0<span class="token operator">=</span>jdbc:mysql://<span class="token punctuation">{</span>mysql_server_address<span class="token punctuation">}</span>:<span class="token punctuation">{</span>mysql_server_port<span class="token punctuation">}</span>/nacos_config?characterEncoding<span class="token operator">=</span>utf8<span class="token operator">&amp;</span>connectTimeout<span class="token operator">=</span>1000<span class="token operator">&amp;</span>socketTimeout<span class="token operator">=</span>3000<span class="token operator">&amp;</span>autoReconnect<span class="token operator">=</span>truedb.user<span class="token operator">=</span><span class="token punctuation">{</span>mysql_user_name<span class="token punctuation">}</span>db.password<span class="token operator">=</span><span class="token punctuation">{</span>mysql_pass_word<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>到这里基本配置完成了</p></blockquote><h2 id="Nginx配置"><a href="#Nginx配置" class="headerlink" title="Nginx配置"></a>Nginx配置</h2><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token keyword">upstream</span> nacos<span class="token operator">-</span><span class="token keyword">server</span> <span class="token punctuation">{</span>  <span class="token keyword">server</span> <span class="token number">172.17</span><span class="token punctuation">.</span><span class="token number">0.7</span><span class="token punctuation">:</span><span class="token number">8848</span><span class="token punctuation">;</span>  <span class="token keyword">server</span> <span class="token number">172.17</span><span class="token punctuation">.</span><span class="token number">0.8</span><span class="token punctuation">:</span><span class="token number">8848</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">server</span> <span class="token punctuation">{</span>  <span class="token keyword">listen</span> <span class="token number">80</span><span class="token punctuation">;</span>  <span class="token keyword">listen</span> <span class="token number">443</span> <span class="token keyword">ssl</span> http2<span class="token punctuation">;</span>  <span class="token keyword">ssl_certificate</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span><span class="token keyword">ssl</span><span class="token operator">/</span>domain<span class="token punctuation">.</span>com<span class="token punctuation">.</span>crt<span class="token punctuation">;</span>  <span class="token keyword">ssl_certificate_key</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span><span class="token keyword">ssl</span><span class="token operator">/</span>domain<span class="token punctuation">.</span>com<span class="token punctuation">.</span>key<span class="token punctuation">;</span>  <span class="token keyword">ssl_protocols</span> TLSv1 TLSv1<span class="token number">.1</span> TLSv1<span class="token number">.2</span><span class="token punctuation">;</span>  <span class="token keyword">ssl_ciphers</span> EECDH<span class="token operator">+</span>CHACHA20<span class="token punctuation">:</span>EECDH<span class="token operator">+</span>AES128<span class="token punctuation">:</span>RSA<span class="token operator">+</span>AES128<span class="token punctuation">:</span>EECDH<span class="token operator">+</span>AES256<span class="token punctuation">:</span>RSA<span class="token operator">+</span>AES256<span class="token punctuation">:</span>EECDH<span class="token operator">+</span>3DES<span class="token punctuation">:</span>RSA<span class="token operator">+</span>3DES<span class="token punctuation">:</span><span class="token operator">!</span>MD5<span class="token punctuation">;</span>  <span class="token keyword">ssl_prefer_server_ciphers</span> on<span class="token punctuation">;</span>  <span class="token keyword">ssl_session_timeout</span> 10m<span class="token punctuation">;</span>  <span class="token keyword">ssl_session_cache</span> builtin<span class="token punctuation">:</span><span class="token number">1000</span> shared<span class="token punctuation">:</span><span class="token keyword">SSL</span><span class="token punctuation">:</span>10m<span class="token punctuation">;</span>  ssl_buffer_size <span class="token number">1400</span><span class="token punctuation">;</span>  <span class="token keyword">add_header</span> Strict<span class="token operator">-</span>Transport<span class="token operator">-</span>Security max<span class="token operator">-</span>age<span class="token operator">=</span><span class="token number">15768000</span><span class="token punctuation">;</span>  ssl_stapling on<span class="token punctuation">;</span>  ssl_stapling_verify on<span class="token punctuation">;</span>  <span class="token keyword">server_name</span> domain<span class="token punctuation">.</span>com<span class="token punctuation">;</span>  <span class="token keyword">index</span> <span class="token keyword">index</span><span class="token punctuation">.</span>html <span class="token keyword">index</span><span class="token punctuation">.</span>htm <span class="token keyword">index</span><span class="token punctuation">.</span>php<span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$ssl_protocol</span> <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token number">301</span> <span class="token keyword">https</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token variable">$host</span><span class="token variable">$request_uri</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$host</span> <span class="token operator">!=</span> domain<span class="token punctuation">.</span>com<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token number">301</span> <span class="token keyword">https</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>domain<span class="token punctuation">.</span>com<span class="token variable">$request_uri</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment" spellcheck="true">#location / {</span>  <span class="token comment" spellcheck="true">#  proxy_pass http://domain.com/nacos/;</span>  <span class="token comment" spellcheck="true">#}</span>  <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>    <span class="token keyword">proxy_pass</span>  <span class="token keyword">http</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>nacos<span class="token operator">-</span><span class="token keyword">server</span><span class="token operator">/</span>nacos<span class="token operator">/</span><span class="token punctuation">;</span>    <span class="token keyword">proxy_redirect</span>      off<span class="token punctuation">;</span>    <span class="token keyword">proxy_set_header</span> Host <span class="token variable">$host</span><span class="token punctuation">;</span>    <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Real<span class="token operator">-</span>IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>    <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>    <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>Proto <span class="token string">"http"</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>不要直接使用，这里有使用到https的证书，所以需要判断修改。</p></blockquote><h2 id="小技巧"><a href="#小技巧" class="headerlink" title="小技巧"></a>小技巧</h2><blockquote><p>程序下载的软件在本地搭建一个Nginx服务即可</p></blockquote><blockquote><p>这个是<strong>nginx.sh</strong>的内容：</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#/bin/sh</span><span class="token comment" spellcheck="true"># 创建目录文件</span><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /data/nginx/<span class="token punctuation">{</span>conf,logs,sites,ssl,html<span class="token punctuation">}</span><span class="token function">sudo</span> <span class="token function">rm</span> -rf /data/nginx/logs/*<span class="token comment" spellcheck="true"># 停止nginx-server的容器</span>docker stop nginx-server<span class="token comment" spellcheck="true"># 删除nginx-server的容器</span>docker <span class="token function">rm</span> nginx-server<span class="token comment" spellcheck="true"># 启动nginx-server的容器，并映射目录</span>docker run --hostname nginx-server --name nginx-server -p 80:80 -p 443:443 -v /data/nginx/conf/nginx.conf:/etc/nginx/nginx.conf:ro -v /data/nginx/logs:/var/log/nginx -v /data/nginx/sites:/etc/nginx/conf.d -v /data/nginx/ssl:/etc/nginx/ssl -v /data/nginx/html:/usr/share/nginx/html:ro  -d nginx:latest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>这个是<strong>/data/nginx/conf/nginx.conf</strong>的内容：</p></blockquote><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token keyword">user</span>  nginx<span class="token punctuation">;</span><span class="token keyword">worker_processes</span>  <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">error_log</span>  <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>error<span class="token punctuation">.</span>log warn<span class="token punctuation">;</span><span class="token keyword">pid</span>        <span class="token operator">/</span>var<span class="token operator">/</span>run<span class="token operator">/</span>nginx<span class="token punctuation">.</span><span class="token keyword">pid</span><span class="token punctuation">;</span><span class="token keyword">events</span> <span class="token punctuation">{</span>    <span class="token keyword">worker_connections</span>  <span class="token number">1024</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">http</span> <span class="token punctuation">{</span>    <span class="token keyword">include</span>       <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>mime<span class="token punctuation">.</span><span class="token keyword">types</span><span class="token punctuation">;</span>    <span class="token keyword">default_type</span>  application<span class="token operator">/</span>octet<span class="token operator">-</span>stream<span class="token punctuation">;</span>    <span class="token keyword">log_format</span>  main  <span class="token string">'$remote_addr - $remote_user [$time_local] "$request" '</span>                      <span class="token string">'$status $body_bytes_sent "$http_referer" '</span>                      <span class="token string">'"$http_user_agent" "$http_x_forwarded_for"'</span><span class="token punctuation">;</span>    <span class="token keyword">access_log</span>  <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>access<span class="token punctuation">.</span>log  main<span class="token punctuation">;</span>    <span class="token keyword">sendfile</span>        on<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">#tcp_nopush     on;</span>    <span class="token keyword">keepalive_timeout</span>  <span class="token number">65</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">#gzip  on;</span>    <span class="token keyword">include</span> <span class="token operator">/</span>etc<span class="token operator">/</span>nginx<span class="token operator">/</span>conf<span class="token punctuation">.</span>d<span class="token operator">/</span><span class="token operator">*</span><span class="token punctuation">.</span>conf<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>这个是<strong>/data/nginx/sites/default.conf</strong>的内容：</p></blockquote><pre class="line-numbers language-nginx"><code class="language-nginx"><span class="token keyword">server</span> <span class="token punctuation">{</span>    <span class="token keyword">listen</span>    <span class="token number">80</span><span class="token punctuation">;</span>    <span class="token keyword">charset</span> utf8<span class="token punctuation">;</span>    <span class="token keyword">access_log</span>  <span class="token operator">/</span>var<span class="token operator">/</span>log<span class="token operator">/</span>nginx<span class="token operator">/</span>host<span class="token punctuation">.</span>access<span class="token punctuation">.</span>log  main<span class="token punctuation">;</span>    <span class="token keyword">server_name</span>  localhost<span class="token punctuation">;</span>    <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>        <span class="token keyword">root</span>   <span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html<span class="token punctuation">;</span>        <span class="token keyword">index</span>  <span class="token keyword">index</span><span class="token punctuation">.</span>html <span class="token keyword">index</span><span class="token punctuation">.</span>htm<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">error_page</span>   <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span>  <span class="token operator">/</span><span class="token keyword">index</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>    <span class="token keyword">location</span> <span class="token operator">=</span> <span class="token operator">/</span><span class="token keyword">index</span><span class="token punctuation">.</span>html <span class="token punctuation">{</span>        <span class="token keyword">root</span>   <span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>nginx<span class="token operator">/</span>html<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>修改Nginx的配置之后我们要使修改的配置生效，直接使用<strong>docker exec -it nginx-server nginx -s reload</strong>在不重启容器的情况下让配置生效。<br>然后我们使用<strong>docker inspect nginx-server</strong>查看信息，获取IP。<br>将我们下载好的<strong>nacos-server-1.1.3.tar.gz</strong>放置到<strong>/data/nginx/html</strong>下，并修改相关的wget路径即可。这样就会让我们节约很多时间。不需要漫长的等待网络下载文件。</p></blockquote><h2 id="集群列表不显示"><a href="#集群列表不显示" class="headerlink" title="集群列表不显示"></a>集群列表不显示</h2><blockquote><p>在服务器上启动的时候发现不能正常展现集群节点，在线搜索一番发现需要配置一个<strong>nacos.server.ip=Local Ip</strong>这样的一个配置。<br>我们给启动脚本中添加一个配置<strong>NACOS_SERVER_IP=当前机器IP</strong></p></blockquote><hr><blockquote><p>自己搭建不能显示集群列表的原因：不能修改“<strong>server.contextPath=/nacos、server.servlet.contextPath=/nacos为server.contextPath=/、server.servlet.contextPath=/</strong>”</p></blockquote><h2 id="成品展示"><a href="#成品展示" class="headerlink" title="成品展示"></a>成品展示</h2><blockquote><p>目前配置完成的地址为：<a href="https://nacos.freegou.tech" target="_blank" rel="noopener">https://nacos.freegou.tech</a><br>账户名称：nacos<br>账户密码：nacos</p></blockquote><pre class="line-numbers language-sql"><code class="language-sql"><span class="token keyword">UPDATE</span> <span class="token punctuation">`</span>nacos_config<span class="token punctuation">`</span><span class="token punctuation">.</span><span class="token punctuation">`</span>users<span class="token punctuation">`</span> <span class="token keyword">SET</span> <span class="token punctuation">`</span>password<span class="token punctuation">`</span> <span class="token operator">=</span> <span class="token string">'$2a$10$E/wOWsXoXMsOmAOf/aPcIuTJQc5VLumaU.46nOduWeQvyaAfUkhdC'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://blog.csdn.net/weixin_41465338/article/details/80106747" target="_blank" rel="noopener">Dockerfile常用指令详解</a></li><li><a href="https://www.cnblogs.com/linjiqin/p/8735230.html" target="_blank" rel="noopener">Dockerfile指令详解</a></li><li><a href="https://www.wandouip.com/t5i278697/" target="_blank" rel="noopener">关于使用Nacos集群遇到问题 – code:503 msg: server is STARTIN</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;软件环境&quot;&gt;&lt;a href=&quot;#软件环境&quot; class=&quot;headerlink&quot; title=&quot;软件环境&quot;&gt;&lt;/a&gt;软件环境&lt;/h2&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;OS：Ubuntu Server 16.04.1 LTS 64位&lt;/li&gt;
&lt;li&gt;Docker：19.03.1&lt;/li&gt;
&lt;li&gt;Nacos Server：1.1.3&lt;ul&gt;
&lt;li&gt;nacos-sever-01：172.17.0.7 &lt;/li&gt;
&lt;li&gt;nacos-sever-02：172.17.0.8&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;文件目录：&lt;ul&gt;
&lt;li&gt;/data/nacos/{cluster1,cluster2}/{data,conf,logs}&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;学习目的&quot;&gt;&lt;a href=&quot;#学习目的&quot; class=&quot;headerlink&quot; title=&quot;学习目的&quot;&gt;&lt;/a&gt;学习目的&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;学会自己构建&lt;strong&gt;Nacos Server&lt;/strong&gt;，不依赖官方的&lt;strong&gt;nacos/nacos-server:last&lt;/strong&gt;镜像。&lt;br&gt;参考了很多别人构建的镜像&lt;a href=&quot;https://hub.docker.com/search?q=nacos&amp;type=image&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://hub.docker.com/search?q=nacos&amp;amp;type=image&lt;/a&gt;，发现别人写的都很简单。但是自己的始终不能像其他人一样简单的运行起来。&lt;br&gt;比如下面的例子：&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="docker" scheme="https://kany.me/tags/docker/"/>
    
      <category term="nacos" scheme="https://kany.me/tags/nacos/"/>
    
      <category term="nacos-server" scheme="https://kany.me/tags/nacos-server/"/>
    
      <category term="dockerfile" scheme="https://kany.me/tags/dockerfile/"/>
    
      <category term="注册中心" scheme="https://kany.me/tags/%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83/"/>
    
  </entry>
  
  <entry>
    <title>Docker使用MariaDB数据库</title>
    <link href="https://kany.me/2019/09/12/docker-install-mariadb/"/>
    <id>https://kany.me/2019/09/12/docker-install-mariadb/</id>
    <published>2019-09-12T07:38:40.000Z</published>
    <updated>2021-01-14T08:20:13.276Z</updated>
    
    <content type="html"><![CDATA[<h2 id="背景介绍"><a href="#背景介绍" class="headerlink" title="背景介绍"></a>背景介绍</h2><blockquote><p>上一篇文章在虚拟机上成功的安装了Docker容器，但是我有偷偷的重新弄了一个新的Docker版本。<br>环境详情如下：</p><ul><li>OS：Ubuntu Server 16.04.1 LTS 64位</li><li>Docker：19.03.1</li></ul></blockquote><h2 id="获取MariaDB镜像"><a href="#获取MariaDB镜像" class="headerlink" title="获取MariaDB镜像"></a>获取MariaDB镜像</h2><blockquote><p>在运行Docker容器的时候，如本地不存在指定镜像，会去<a href="https://hub.docker.com" target="_blank" rel="noopener">Docker的镜像站</a>去拉取镜像，所以我们可以不拉取。</p></blockquote><a id="more"></a><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 搜索镜像文件</span>docker search mariadb<span class="token comment" spellcheck="true"># 拉取镜像文件</span><span class="token comment" spellcheck="true"># docker pull mariadb:version</span>docker pull mariadb:last<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="创建运行命令"><a href="#创建运行命令" class="headerlink" title="创建运行命令"></a>创建运行命令</h2><blockquote><p>关于MariaDB镜像的详细信息可以在<a href="https://hub.docker.com/_/mariadb" target="_blank" rel="noopener">https://hub.docker.com/_/mariadb</a>中看到。这里直接上使用的命令</p></blockquote><p><code>MariaDB：</code></p><pre class="line-numbers language-bash"><code class="language-bash">docker run --name mariadb -p 3306:3306 -v /data/mariadb/conf:/etc/mysql/conf.d -v /data/mariadb/logs:/var/log/mysql -v /data/mariadb/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD<span class="token operator">=</span>数据库密码 -d mariadb:latest --character-set-server<span class="token operator">=</span>utf8mb4 --collation-server<span class="token operator">=</span>utf8mb4_unicode_ci<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><code>MySQL：</code></p><pre class="line-numbers language-bash"><code class="language-bash">docker run --name mysql -p 3306:3306 -v /data/mariadb/conf:/etc/mysql/conf.d -v /data/mariadb/logs:/var/log/mysql -v /data/mariadb/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD<span class="token operator">=</span>数据库密码 -d mysql:latest --character-set-server<span class="token operator">=</span>utf8mb4 --collation-server<span class="token operator">=</span>utf8mb4_unicode_ci<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>–name 指定运行容器名称，我这里定义的是 mariadb<br>-p 指定宿主机与容器间的端口映射<br>-v 数据卷，将宿主机的<code>/data/mariadb/data</code>映射到容器<code>/var/lib/mysql</code><br>-d 后台运行</p></blockquote><p>上面的参数根据镜像的不同而不同，具体有多少参数请查询上面的链接。-v /data/mariadb/conf:/etc/mysql/conf.d这个是官方给的配置，我进入容器中查看好像使用-v /data/mariadb/conf:/etc/mysql会好点。</p><h2 id="备份数据库"><a href="#备份数据库" class="headerlink" title="备份数据库"></a>备份数据库</h2><pre class="line-numbers language-bash"><code class="language-bash">docker <span class="token function">exec</span> mariadb sh -c <span class="token string">'exec mysqldump --all-databases -uroot -p"<span class="token variable">$MYSQL_ROOT_PASSWORD</span>"'</span> <span class="token operator">></span> /data/mariadb/all_databases.sql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="恢复数据库"><a href="#恢复数据库" class="headerlink" title="恢复数据库"></a>恢复数据库</h2><pre class="line-numbers language-bash"><code class="language-bash">docker <span class="token function">exec</span> -i some-mariadb sh -c <span class="token string">'exec mysql -uroot -p"<span class="token variable">$MYSQL_ROOT_PASSWORD</span>"'</span> <span class="token operator">&lt;</span> /data/mariadb/all_databases.sql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>备份和恢复如此的简单，感觉还是不错的。</p></blockquote><h2 id="进入正在运行的容器"><a href="#进入正在运行的容器" class="headerlink" title="进入正在运行的容器"></a>进入正在运行的容器</h2><blockquote><p>在参考资料里面有提到4种方式，但是我自己还是喜欢<strong>docker exec -it 容器ID /bin/bash</strong>，但是大家要查询容器信息还是建议使用<code>docker inspect 容器ID</code></p></blockquote><h2 id="题外话"><a href="#题外话" class="headerlink" title="题外话"></a>题外话</h2><blockquote><p>在网上看到一个保存windows 10系统激活Key的命令，懒得开单章了，直接弄个题外话</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash">wmic path softwarelicensingservice get OA3xOriginalProductKey<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://hub.docker.com" target="_blank" rel="noopener">Docker官方镜像站点</a></li><li><a href="https://www.cnblogs.com/bethal/p/5945015.html" target="_blank" rel="noopener">Docker常用命令</a></li><li><a href="https://www.runoob.com/docker/docker-command-manual.html" target="_blank" rel="noopener">Docker 命令大全</a></li><li><a href="https://www.cnblogs.com/cblogs/p/dockerCommand.html" target="_blank" rel="noopener">Docker常用命令汇总，和常用操作举例</a></li><li><a href="https://blog.csdn.net/u010820857/article/details/83784687" target="_blank" rel="noopener">进入正在运行的Docker容器的4种方式</a></li><li><a href="https://www.toutiao.com/a6724497689175654915" target="_blank" rel="noopener">备份序列号</a></li><li><a href="https://cr.console.aliyun.com/cn-hangzhou/instances/repositories" target="_blank" rel="noopener">阿里云免费Docker镜像</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;背景介绍&quot;&gt;&lt;a href=&quot;#背景介绍&quot; class=&quot;headerlink&quot; title=&quot;背景介绍&quot;&gt;&lt;/a&gt;背景介绍&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;上一篇文章在虚拟机上成功的安装了Docker容器，但是我有偷偷的重新弄了一个新的Docker版本。&lt;br&gt;环境详情如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS：Ubuntu Server 16.04.1 LTS 64位&lt;/li&gt;
&lt;li&gt;Docker：19.03.1&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;获取MariaDB镜像&quot;&gt;&lt;a href=&quot;#获取MariaDB镜像&quot; class=&quot;headerlink&quot; title=&quot;获取MariaDB镜像&quot;&gt;&lt;/a&gt;获取MariaDB镜像&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;在运行Docker容器的时候，如本地不存在指定镜像，会去&lt;a href=&quot;https://hub.docker.com&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Docker的镜像站&lt;/a&gt;去拉取镜像，所以我们可以不拉取。&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="docker" scheme="https://kany.me/tags/docker/"/>
    
      <category term="database" scheme="https://kany.me/tags/database/"/>
    
      <category term="mariadb" scheme="https://kany.me/tags/mariadb/"/>
    
      <category term="mysql" scheme="https://kany.me/tags/mysql/"/>
    
      <category term="dockerfile" scheme="https://kany.me/tags/dockerfile/"/>
    
  </entry>
  
  <entry>
    <title>在Ubuntu 16.04 安装 Docker</title>
    <link href="https://kany.me/2019/09/11/docker-install/"/>
    <id>https://kany.me/2019/09/11/docker-install/</id>
    <published>2019-09-11T10:09:06.000Z</published>
    <updated>2021-03-19T14:06:33.765Z</updated>
    
    <content type="html"><![CDATA[<h2 id="使用脚本自动安装-（仅适用于公网环境）"><a href="#使用脚本自动安装-（仅适用于公网环境）" class="headerlink" title="使用脚本自动安装 （仅适用于公网环境）"></a>使用脚本自动安装 （仅适用于公网环境）</h2><pre class="line-numbers language-bash"><code class="language-bash">curl -fsSL https://get.docker.com <span class="token operator">|</span> <span class="token function">bash</span> -s docker --mirror Aliyun<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="手动安装"><a href="#手动安装" class="headerlink" title="手动安装"></a>手动安装</h2><blockquote><p>上面介绍了如何使用官方脚本自动安装Docker，下面使用手动当时来进行配置</p></blockquote><h3 id="修改镜像源"><a href="#修改镜像源" class="headerlink" title="修改镜像源"></a>修改镜像源</h3><blockquote><p>无论是使用何种系统，在国内想要速度快都要修改为国内的加速镜像</p></blockquote><a id="more"></a><p>Ubuntu 16.04（xenial ） 配置如下</p><pre class="line-numbers language-bash"><code class="language-bash">deb http://mirrors.aliyun.com/ubuntu/ xenial maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial maindeb http://mirrors.aliyun.com/ubuntu/ xenial-updates maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates maindeb http://mirrors.aliyun.com/ubuntu/ xenial universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial universedeb http://mirrors.aliyun.com/ubuntu/ xenial-updates universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates universedeb http://mirrors.aliyun.com/ubuntu/ xenial-security maindeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security maindeb http://mirrors.aliyun.com/ubuntu/ xenial-security universedeb-src http://mirrors.aliyun.com/ubuntu/ xenial-security universe<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>CentOS 7</p><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup<span class="token comment" spellcheck="true"># CentOS 7</span><span class="token function">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo<span class="token comment" spellcheck="true"># CentOS 6</span><span class="token function">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo<span class="token comment" spellcheck="true"># CentOS 5</span><span class="token function">wget</span> -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-5.repo<span class="token comment" spellcheck="true"># 清理缓存</span>yum makecache<span class="token comment" spellcheck="true"># 更新yum</span>yum -y update<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>这里的配置可以打开参考资料的阿里云镜像站。</p></blockquote><h3 id="Ubuntu-配置"><a href="#Ubuntu-配置" class="headerlink" title="Ubuntu 配置"></a>Ubuntu 配置</h3><blockquote><p>实际上在下面的命令中已经有了添加源地址的操作</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># step 1: 安装必要的一些系统工具</span><span class="token function">sudo</span> <span class="token function">apt-get</span> update<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> apt-transport-https ca-certificates curl software-properties-common<span class="token comment" spellcheck="true"># step 2: 安装GPG证书</span>curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key add -<span class="token comment" spellcheck="true"># Step 3: 写入软件源信息</span><span class="token function">sudo</span> add-apt-repository <span class="token string">"deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> stable"</span><span class="token comment" spellcheck="true"># Step 4: 更新并安装 Docker-CE</span><span class="token function">sudo</span> <span class="token function">apt-get</span> -y update<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> docker-ce注意：其他注意事项在下面的注释中<span class="token comment" spellcheck="true"># 安装指定版本的Docker-CE:</span><span class="token comment" spellcheck="true"># Step 1: 查找Docker-CE的版本:</span>apt-cache madison docker-ce<span class="token comment" spellcheck="true"># 执行后得到如下结果</span><span class="token comment" spellcheck="true"># docker-ce | 18.06.3~ce~3-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 18.06.2~ce~3-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 18.06.1~ce~3-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 18.06.0~ce~3-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 18.03.1~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 18.03.0~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.12.1~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.12.0~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.09.1~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.09.0~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.06.2~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.06.1~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.06.0~ce-0~ubuntu | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true">#docker-ce | 17.03.2~ce-0~ubuntu-trusty | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.03.1~ce-0~ubuntu-trusty | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># docker-ce | 17.03.0~ce-0~ubuntu-trusty | https://mirrors.aliyun.com/docker-ce/linux/ubuntu/ trusty/stable amd64 Packages</span><span class="token comment" spellcheck="true"># Step 2: 安装指定版本的Docker-CE: (VERSION 例如上面的 18.06.3~ce~3-0~ubuntu)</span><span class="token comment" spellcheck="true"># sudo apt-get -y install docker-ce=[VERSION]</span><span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> docker-ce<span class="token operator">=</span>18.06.3~ce~3-0~ubuntu<span class="token comment" spellcheck="true"># 通过经典网络、VPC网络内网安装时，用以下命令替换Step 2、Step 3中的命令</span><span class="token comment" spellcheck="true"># 经典网络：</span>curl -fsSL http://mirrors.aliyuncs.com/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key add -<span class="token function">sudo</span> add-apt-repository <span class="token string">"deb [arch=amd64] http://mirrors.aliyuncs.com/docker-ce/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> stable"</span><span class="token comment" spellcheck="true"># VPC网络：</span>curl -fsSL http://mirrors.cloud.aliyuncs.com/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key add -<span class="token function">sudo</span> add-apt-repository <span class="token string">"deb [arch=amd64] http://mirrors.cloud.aliyuncs.com/docker-ce/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> stable"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CentOS-配置"><a href="#CentOS-配置" class="headerlink" title="CentOS 配置"></a>CentOS 配置</h3><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># step 1: 安装必要的一些系统工具</span><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils device-mapper-persistent-data lvm2<span class="token comment" spellcheck="true"># Step 2: 添加软件源信息</span><span class="token function">sudo</span> yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo<span class="token comment" spellcheck="true"># Step 3: 更新并安装 Docker-CE</span><span class="token function">sudo</span> yum makecache fast<span class="token function">sudo</span> yum -y <span class="token function">install</span> docker-ce<span class="token comment" spellcheck="true"># Step 4: 开启Docker服务</span><span class="token function">sudo</span> <span class="token function">service</span> docker start注意：其他注意事项在下面的注释中<span class="token comment" spellcheck="true"># 官方软件源默认启用了最新的软件，您可以通过编辑软件源的方式获取各个版本的软件包。例如官方并没有将测试版本的软件源置为可用，你可以通过以下方式开启。同理可以开启各种测试版本等。</span><span class="token comment" spellcheck="true"># vim /etc/yum.repos.d/docker-ce.repo</span><span class="token comment" spellcheck="true">#   将 [docker-ce-test] 下方的 enabled=0 修改为 enabled=1</span><span class="token comment" spellcheck="true">#</span><span class="token comment" spellcheck="true"># 安装指定版本的Docker-CE:</span><span class="token comment" spellcheck="true"># Step 1: 查找Docker-CE的版本:</span><span class="token comment" spellcheck="true"># yum list docker-ce.x86_64 --showduplicates | sort -r</span><span class="token comment" spellcheck="true">#   Loading mirror speeds from cached hostfile</span><span class="token comment" spellcheck="true">#   Loaded plugins: branch, fastestmirror, langpacks</span><span class="token comment" spellcheck="true">#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            docker-ce-stable</span><span class="token comment" spellcheck="true">#   docker-ce.x86_64            17.03.1.ce-1.el7.centos            @docker-ce-stable</span><span class="token comment" spellcheck="true">#   docker-ce.x86_64            17.03.0.ce-1.el7.centos            docker-ce-stable</span><span class="token comment" spellcheck="true">#   Available Packages</span><span class="token comment" spellcheck="true"># Step2 : 安装指定版本的Docker-CE: (VERSION 例如 18.06.3~ce~3-0~ubuntu)</span><span class="token comment" spellcheck="true"># sudo yum -y install docker-ce-[VERSION]</span><span class="token comment" spellcheck="true"># 注意：在某些版本之后，docker-ce安装出现了其他依赖包，如果安装失败的话请关注错误信息。例如 docker-ce 17.03 之后，需要先安装 docker-ce-selinux。</span><span class="token comment" spellcheck="true"># yum list docker-ce-selinux- --showduplicates | sort -r</span><span class="token comment" spellcheck="true"># sudo yum -y install docker-ce-selinux-[VERSION]</span><span class="token comment" spellcheck="true"># 通过经典网络、VPC网络内网安装时，用以下命令替换Step 2中的命令</span><span class="token comment" spellcheck="true"># 经典网络：</span><span class="token function">sudo</span> yum-config-manager --add-repo http://mirrors.aliyuncs.com/docker-ce/linux/centos/docker-ce.repo<span class="token comment" spellcheck="true"># VPC网络：</span><span class="token function">sudo</span> yum-config-manager --add-repo http://mirrors.could.aliyuncs.com/docker-ce/linux/centos/docker-ce.repo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>这里是抄袭的，Ubuntu的验证了，CentOS的没有验证</p></blockquote><h2 id="配置用户"><a href="#配置用户" class="headerlink" title="配置用户"></a>配置用户</h2><blockquote><p>非root用户是不能直接使用<code>docker version</code>这个命令的，需要执行：<code>sudo usermod -aG docker %USER%</code><br>例如当前用户“ubuntu”，那么就是：<code>sudo usermod -aG docker ubuntu</code><br>可以使用变量$USER代替，<code>sudo usermod -aG docker $USER</code><br>然后退出登录，就可以正常执行了。</p></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># If you would like to use Docker as a non-root user, you should now consider</span><span class="token comment" spellcheck="true"># adding your user to the "docker" group with something like:</span><span class="token function">sudo</span> <span class="token function">usermod</span> -aG docker <span class="token variable">$USER</span><span class="token comment" spellcheck="true"># Remember that you will have to log out and back in for this to take effect!</span><span class="token comment" spellcheck="true"># WARNING: Adding a user to the "docker" group will grant the ability to run</span><span class="token comment" spellcheck="true">#         containers which can be used to obtain root privileges on the docker host.</span><span class="token comment" spellcheck="true">#         Refer to https://docs.docker.com/engine/security/security/#docker-daemon-attack-surface</span><span class="token comment" spellcheck="true">#         for more information.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>然后执行<strong>docker version</strong></p></blockquote><pre class="line-numbers language-bash"><code class="language-bash">Client: Version:           18.06.3-ce API version:       1.38 Go version:        go1.10.3 Git commit:        d7080c1 Built:             Wed Feb 20 02:27:13 2019 OS/Arch:           linux/amd64 Experimental:      <span class="token boolean">false</span>Server: Engine:  Version:          18.06.3-ce  API version:      1.38 <span class="token punctuation">(</span>minimum version 1.12<span class="token punctuation">)</span>  Go version:       go1.10.3  Git commit:       d7080c1  Built:            Wed Feb 20 02:25:38 2019  OS/Arch:          linux/amd64  Experimental:     <span class="token boolean">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="添加加速镜像"><a href="#添加加速镜像" class="headerlink" title="添加加速镜像"></a>添加加速镜像</h2><blockquote><p>修改Docker镜像加速站点有下列方式：</p><ul><li>使用命令来配置加速站点</li></ul></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/docker<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;</span>-<span class="token string">'EOF'</span><span class="token punctuation">{</span>    <span class="token string">"registry-mirrors"</span><span class="token keyword">:</span> <span class="token punctuation">[</span><span class="token string">"&lt;your accelerate address>"</span><span class="token punctuation">]</span>    <span class="token string">"insecure-registries"</span><span class="token keyword">:</span> <span class="token punctuation">[</span><span class="token string">"其他的加速器"</span><span class="token punctuation">]</span><span class="token punctuation">}</span>EOF<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;</span>-<span class="token string">'EOF'</span><span class="token punctuation">{</span>    <span class="token string">"registry-mirrors"</span><span class="token keyword">:</span> <span class="token punctuation">[</span><span class="token string">"https://5ao7brap.mirror.aliyuncs.com"</span><span class="token punctuation">]</span>,    <span class="token string">"insecure-registries"</span><span class="token keyword">:</span> <span class="token punctuation">[</span><span class="token string">"https://docker.mirrors.ustc.edu.cn"</span>,<span class="token string">"https://hub-mirror.c.163.com"</span><span class="token punctuation">]</span><span class="token punctuation">}</span>EOFor<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;</span>-<span class="token string">'EOF'</span><span class="token punctuation">{</span>    <span class="token string">"registry-mirrors"</span><span class="token keyword">:</span> <span class="token punctuation">[</span><span class="token string">"https://5ao7brap.mirror.aliyuncs.com"</span>,<span class="token string">"https://docker.mirrors.ustc.edu.cn"</span>,<span class="token string">"https://hub-mirror.c.163.com"</span><span class="token punctuation">]</span><span class="token punctuation">}</span>EOF<span class="token comment" spellcheck="true"># 重新加载daemon</span><span class="token function">sudo</span> systemctl daemon-reload<span class="token comment" spellcheck="true"># 重启docker</span><span class="token function">sudo</span> systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><ul><li>使用脚本来配置加速站点（该脚本可以将 –registry-mirror 加入到你的 Docker 配置文件 /etc/docker/daemon.json 中。适用于 Ubuntu14.04、Debian、CentOS6 、CentOS7、Fedora、Arch Linux、openSUSE Leap 42.1，其他版本可能有细微不同。更多详情请访问文档。）</li></ul></blockquote><pre class="line-numbers language-bash"><code class="language-bash">curl -sSL https://raw.githubusercontent.com/wss434631143/xiaoshujiang/master/articles/Docker/shell/set_mirror.sh <span class="token operator">|</span> sh -s <span class="token operator">&lt;</span>your accelerate address<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><ul><li>通过修改启动脚本配置加速站点(这个是修改启动脚本，每个启动脚本的位置可能不同，需要注意)</li></ul></blockquote><pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">vi</span> /lib/systemd/system/docker.serviceExecStart<span class="token operator">=</span>/usr/bin/dockerd --registry-mirror<span class="token operator">=</span><span class="token operator">&lt;</span>your accelerate address<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="配置权限"><a href="#配置权限" class="headerlink" title="配置权限"></a>配置权限</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true">#添加docker用户组</span><span class="token function">sudo</span> <span class="token function">groupadd</span> docker<span class="token comment" spellcheck="true">#将登陆用户加入到docker用户组中</span><span class="token function">sudo</span> gpasswd -a <span class="token variable">$USER</span> docker<span class="token comment" spellcheck="true">#更新用户组</span>newgrp docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="配置开机启动"><a href="#配置开机启动" class="headerlink" title="配置开机启动"></a>配置开机启动</h2><pre class="line-numbers language-bash"><code class="language-bash"><span class="token comment" spellcheck="true"># 开机启动</span><span class="token function">sudo</span> systemctl <span class="token function">enable</span> docker.service<span class="token comment" spellcheck="true"># 重新加载daemon</span><span class="token function">sudo</span> systemctl daemon-reload<span class="token comment" spellcheck="true"># 重启docker</span><span class="token function">sudo</span> systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul><li><a href="https://opsx.alibaba.com/mirror" target="_blank" rel="noopener">阿里云镜像站</a></li><li><a href="https://docs.docker.com/install/" target="_blank" rel="noopener">Docker Guides</a></li><li><a href="https://www.jianshu.com/p/d838b04a0d2f" target="_blank" rel="noopener">修改Linux软件源</a></li><li><a href="https://yq.aliyun.com/articles/29941" target="_blank" rel="noopener">Docker 镜像加速器</a></li><li><a href="https://yq.aliyun.com/articles/110806" target="_blank" rel="noopener">Docker CE 镜像源站</a></li><li><a href="https://www.cnblogs.com/wushuaishuai/p/9984228.html" target="_blank" rel="noopener">Docker 国内仓库和镜像</a></li><li><a href="https://blog.csdn.net/nklinsirui/article/details/80490537" target="_blank" rel="noopener">Docker国内Yum源和国内镜像仓库</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;使用脚本自动安装-（仅适用于公网环境）&quot;&gt;&lt;a href=&quot;#使用脚本自动安装-（仅适用于公网环境）&quot; class=&quot;headerlink&quot; title=&quot;使用脚本自动安装 （仅适用于公网环境）&quot;&gt;&lt;/a&gt;使用脚本自动安装 （仅适用于公网环境）&lt;/h2&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun&lt;/code&gt;&lt;/pre&gt;
&lt;h2 id=&quot;手动安装&quot;&gt;&lt;a href=&quot;#手动安装&quot; class=&quot;headerlink&quot; title=&quot;手动安装&quot;&gt;&lt;/a&gt;手动安装&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;上面介绍了如何使用官方脚本自动安装Docker，下面使用手动当时来进行配置&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;修改镜像源&quot;&gt;&lt;a href=&quot;#修改镜像源&quot; class=&quot;headerlink&quot; title=&quot;修改镜像源&quot;&gt;&lt;/a&gt;修改镜像源&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;无论是使用何种系统，在国内想要速度快都要修改为国内的加速镜像&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
    
      <category term="docker" scheme="https://kany.me/tags/docker/"/>
    
      <category term="database" scheme="https://kany.me/tags/database/"/>
    
      <category term="mariadb" scheme="https://kany.me/tags/mariadb/"/>
    
      <category term="mysql" scheme="https://kany.me/tags/mysql/"/>
    
      <category term="dockerfile" scheme="https://kany.me/tags/dockerfile/"/>
    
  </entry>
  
</feed>
